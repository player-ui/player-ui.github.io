<!DOCTYPE html><html lang="en" dir="ltr" data-theme="dark" data-has-toc data-has-sidebar class="astro-fq2xrgk7"> <head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Writing a Plugin | Player</title><link rel="canonical"/><link rel="shortcut icon" href="/pr/780/favicon.ico" type="image/x-icon"/><meta name="generator" content="Astro v5.15.2"/><meta name="generator" content="Starlight v0.35.2"/><meta property="og:title" content="Writing a Plugin"/><meta property="og:type" content="article"/><meta property="og:url"/><meta property="og:locale" content="en"/><meta property="og:description"/><meta property="og:site_name" content="Player"/><meta name="twitter:card" content="summary_large_image"/><script>
	window.StarlightThemeProvider = (() => {
		const storedTheme =
			typeof localStorage !== 'undefined' && localStorage.getItem('starlight-theme');
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
		document.documentElement.dataset.theme = theme === 'light' ? 'light' : 'dark';
		return {
			updatePickers(theme = storedTheme || 'auto') {
				document.querySelectorAll('starlight-theme-select').forEach((picker) => {
					const select = picker.querySelector('select');
					if (select) select.value = theme;
					/** @type {HTMLTemplateElement | null} */
					const tmpl = document.querySelector(`#theme-icons`);
					const newIcon = tmpl && tmpl.content.querySelector('.' + theme);
					if (newIcon) {
						const oldIcon = picker.querySelector('svg.label-icon');
						if (oldIcon) {
							oldIcon.replaceChildren(...newIcon.cloneNode(true).childNodes);
						}
					}
				});
			},
		};
	})();
</script><template id="theme-icons"><svg aria-hidden="true" class="light astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h1a1 1 0 0 0 1-1Zm.64 5-.71.71a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l.71-.71A1 1 0 0 0 5.64 17ZM12 5a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v1a1 1 0 0 0 1 1Zm5.66 2.34a1 1 0 0 0 .7-.29l.71-.71a1 1 0 1 0-1.41-1.41l-.66.71a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.29Zm-12-.29a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.71-.71a1.004 1.004 0 1 0-1.43 1.41l.73.71ZM21 11h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2Zm-2.64 6A1 1 0 0 0 17 18.36l.71.71a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.76-.66ZM12 6.5a5.5 5.5 0 1 0 5.5 5.5A5.51 5.51 0 0 0 12 6.5Zm0 9a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm0 3.5a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1a1 1 0 0 0-1-1Z"/></svg><svg aria-hidden="true" class="dark astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.64 13a1 1 0 0 0-1.05-.14 8.049 8.049 0 0 1-3.37.73 8.15 8.15 0 0 1-8.14-8.1 8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05Zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27a10.15 10.15 0 0 0 10.14 10.14 9.784 9.784 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32v-.04Z"/></svg><svg aria-hidden="true" class="auto astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg></template><link rel="stylesheet" href="/pr/780/_astro/print.BOqcyqY-.css" media="print"><link rel="stylesheet" href="/pr/780/_astro/dsl-content-playground.DcOqEl2K.css">
<style>@layer starlight.components{:root{--sl-badge-default-border: var(--sl-color-accent);--sl-badge-default-bg: var(--sl-color-accent-low);--sl-badge-default-text: #fff;--sl-badge-note-border: var(--sl-color-blue);--sl-badge-note-bg: var(--sl-color-blue-low);--sl-badge-note-text: #fff;--sl-badge-danger-border: var(--sl-color-red);--sl-badge-danger-bg: var(--sl-color-red-low);--sl-badge-danger-text: #fff;--sl-badge-success-border: var(--sl-color-green);--sl-badge-success-bg: var(--sl-color-green-low);--sl-badge-success-text: #fff;--sl-badge-caution-border: var(--sl-color-orange);--sl-badge-caution-bg: var(--sl-color-orange-low);--sl-badge-caution-text: #fff;--sl-badge-tip-border: var(--sl-color-purple);--sl-badge-tip-bg: var(--sl-color-purple-low);--sl-badge-tip-text: #fff}[data-theme=light]:root{--sl-badge-default-bg: var(--sl-color-accent-high);--sl-badge-note-bg: var(--sl-color-blue-high);--sl-badge-danger-bg: var(--sl-color-red-high);--sl-badge-success-bg: var(--sl-color-green-high);--sl-badge-caution-bg: var(--sl-color-orange-high);--sl-badge-tip-bg: var(--sl-color-purple-high)}.sl-badge:where(.astro-oy6ujsg4){display:inline-block;border:1px solid var(--sl-color-border-badge);border-radius:.25rem;font-family:var(--sl-font-system-mono);line-height:normal;color:var(--sl-color-text-badge);background-color:var(--sl-color-bg-badge);overflow-wrap:anywhere}.sidebar-content .sl-badge:where(.astro-oy6ujsg4){line-height:1;font-size:var(--sl-text-xs);padding:.125rem .375rem}.sidebar-content a[aria-current=page]>.sl-badge:where(.astro-oy6ujsg4){--sl-color-bg-badge: transparent;--sl-color-border-badge: currentColor;color:inherit}.default:where(.astro-oy6ujsg4){--sl-color-bg-badge: var(--sl-badge-default-bg);--sl-color-border-badge: var(--sl-badge-default-border);--sl-color-text-badge: var(--sl-badge-default-text)}.note:where(.astro-oy6ujsg4){--sl-color-bg-badge: var(--sl-badge-note-bg);--sl-color-border-badge: var(--sl-badge-note-border);--sl-color-text-badge: var(--sl-badge-note-text)}.danger:where(.astro-oy6ujsg4){--sl-color-bg-badge: var(--sl-badge-danger-bg);--sl-color-border-badge: var(--sl-badge-danger-border);--sl-color-text-badge: var(--sl-badge-danger-text)}.success:where(.astro-oy6ujsg4){--sl-color-bg-badge: var(--sl-badge-success-bg);--sl-color-border-badge: var(--sl-badge-success-border);--sl-color-text-badge: var(--sl-badge-success-text)}.tip:where(.astro-oy6ujsg4){--sl-color-bg-badge: var(--sl-badge-tip-bg);--sl-color-border-badge: var(--sl-badge-tip-border);--sl-color-text-badge: var(--sl-badge-tip-text)}.caution:where(.astro-oy6ujsg4){--sl-color-bg-badge: var(--sl-badge-caution-bg);--sl-color-border-badge: var(--sl-badge-caution-border);--sl-color-text-badge: var(--sl-badge-caution-text)}.small:where(.astro-oy6ujsg4){font-size:var(--sl-text-xs);padding:.125rem .25rem}.medium:where(.astro-oy6ujsg4){font-size:var(--sl-text-sm);padding:.175rem .35rem}.large:where(.astro-oy6ujsg4){font-size:var(--sl-text-base);padding:.225rem .45rem}.sl-markdown-content :is(h1,h2,h3,h4,h5,h6) .sl-badge:where(.astro-oy6ujsg4){vertical-align:middle}}
@layer starlight.components{.card-grid:where(.astro-qdvrtt4b){display:grid;grid-template-columns:100%;gap:1rem}.card-grid:where(.astro-qdvrtt4b)>*{margin-top:0!important}@media (min-width: 50rem){.card-grid:where(.astro-qdvrtt4b){grid-template-columns:1fr 1fr;gap:1.5rem}.stagger:where(.astro-qdvrtt4b){--stagger-height: 5rem;padding-bottom:var(--stagger-height)}.stagger:where(.astro-qdvrtt4b)>*:nth-child(2n){transform:translateY(var(--stagger-height))}}}
@layer starlight.components{.card:where(.astro-oijlzklv){--sl-card-border: var(--sl-color-purple);--sl-card-bg: var(--sl-color-purple-low);border:1px solid var(--sl-color-gray-5);background-color:var(--sl-color-black);padding:clamp(1rem,calc(.125rem + 3vw),2.5rem);flex-direction:column;gap:clamp(.5rem,calc(.125rem + 1vw),1rem)}.card:where(.astro-oijlzklv):nth-child(4n+1){--sl-card-border: var(--sl-color-orange);--sl-card-bg: var(--sl-color-orange-low)}.card:where(.astro-oijlzklv):nth-child(4n+3){--sl-card-border: var(--sl-color-green);--sl-card-bg: var(--sl-color-green-low)}.card:where(.astro-oijlzklv):nth-child(4n+4){--sl-card-border: var(--sl-color-red);--sl-card-bg: var(--sl-color-red-low)}.card:where(.astro-oijlzklv):nth-child(4n+5){--sl-card-border: var(--sl-color-blue);--sl-card-bg: var(--sl-color-blue-low)}.title:where(.astro-oijlzklv){font-weight:600;font-size:var(--sl-text-h4);color:var(--sl-color-white);line-height:var(--sl-line-height-headings);gap:1rem;align-items:center}.card:where(.astro-oijlzklv) .icon:where(.astro-oijlzklv){border:1px solid var(--sl-card-border);background-color:var(--sl-card-bg);padding:.2em;border-radius:.25rem;flex-shrink:0}.card:where(.astro-oijlzklv) .body:where(.astro-oijlzklv){margin:0;font-size:clamp(var(--sl-text-sm),calc(.5rem + 1vw),var(--sl-text-body))}}
@layer starlight.components{svg:where(.astro-hzvncqix){color:var(--sl-icon-color);font-size:var(--sl-icon-size, 1em);width:1em;height:1em}}
@layer starlight.components{starlight-tabs:where(.astro-2yetg6fg){display:block}.tablist-wrapper:where(.astro-2yetg6fg){overflow-x:auto}:where(.astro-2yetg6fg)[role=tablist]{display:flex;list-style:none;border-bottom:2px solid var(--sl-color-gray-5);padding:0}.tab:where(.astro-2yetg6fg){margin-bottom:-2px}.tab:where(.astro-2yetg6fg)>:where(.astro-2yetg6fg)[role=tab]{display:flex;align-items:center;gap:.5rem;padding:0 1.25rem;text-decoration:none;border-bottom:2px solid var(--sl-color-gray-5);color:var(--sl-color-gray-3);outline-offset:var(--sl-outline-offset-inside);overflow-wrap:initial}.tab:where(.astro-2yetg6fg) :where(.astro-2yetg6fg)[role=tab][aria-selected=true]{color:var(--sl-color-white);border-color:var(--sl-color-text-accent);font-weight:600}.tablist-wrapper:where(.astro-2yetg6fg)~[role=tabpanel]{margin-top:1rem}}
@layer starlight.components{.sl-steps{--bullet-size: calc(var(--sl-line-height) * 1rem);--bullet-margin: .375rem;list-style:none;counter-reset:steps-counter var(--sl-steps-start, 0);padding-inline-start:0}.sl-steps>li{counter-increment:steps-counter;position:relative;padding-inline-start:calc(var(--bullet-size) + 1rem);padding-bottom:1px;min-height:calc(var(--bullet-size) + var(--bullet-margin))}.sl-steps>li+li{margin-top:0}.sl-steps>li:before{content:counter(steps-counter);position:absolute;top:0;inset-inline-start:0;width:var(--bullet-size);height:var(--bullet-size);line-height:var(--bullet-size);font-size:var(--sl-text-xs);font-weight:600;text-align:center;color:var(--sl-color-white);background-color:var(--sl-color-gray-6);border-radius:99rem;box-shadow:inset 0 0 0 1px var(--sl-color-gray-5)}.sl-steps>li:after{--guide-width: 1px;content:"";position:absolute;top:calc(var(--bullet-size) + var(--bullet-margin));bottom:var(--bullet-margin);inset-inline-start:calc((var(--bullet-size) - var(--guide-width)) / 2);width:var(--guide-width);background-color:var(--sl-color-hairline-light)}}@layer starlight.content{.sl-steps>li>:first-child{--lh: calc(1em * var(--sl-line-height));--shift-y: calc(.5 * (var(--bullet-size) - var(--lh)));transform:translateY(var(--shift-y));margin-bottom:var(--shift-y)}.sl-steps>li>:first-child:where(h1,h2,h3,h4,h5,h6){--lh: calc(1em * var(--sl-line-height-headings))}@supports (--prop: 1lh){.sl-steps>li>:first-child{--lh: 1lh}}}
@layer starlight.components{.sl-link-button:where(.astro-wzczb2jl){align-items:center;border:1px solid transparent;border-radius:999rem;display:inline-flex;font-size:var(--sl-text-sm);gap:.5em;line-height:1.1875;outline-offset:.25rem;padding:.4375rem 1.125rem;text-decoration:none}.sl-link-button:where(.astro-wzczb2jl).primary{background:var(--sl-color-text-accent);border-color:var(--sl-color-text-accent);color:var(--sl-color-black)}.sl-link-button:where(.astro-wzczb2jl).primary:hover{color:var(--sl-color-black)}.sl-link-button:where(.astro-wzczb2jl).secondary{border-color:inherit;color:var(--sl-color-white)}.sl-link-button:where(.astro-wzczb2jl).minimal{color:var(--sl-color-white);padding-inline:0}.sl-link-button:where(.astro-wzczb2jl) svg{flex-shrink:0}@media (min-width: 50rem){.sl-link-button:where(.astro-wzczb2jl){font-size:var(--sl-text-base);padding:.9375rem 1.25rem}}.sl-markdown-content .sl-link-button:where(.astro-wzczb2jl){margin-inline-end:1rem}.sl-markdown-content .sl-link-button:where(.astro-wzczb2jl):not(:where(p *)){margin-block:1rem}}
</style>
<link rel="stylesheet" href="/pr/780/_astro/PlayerPreview.FgoiL6xE.css"><script type="module" src="/pr/780/_astro/page.B1D-nYk3.js"></script><style>html[data-theme=dark] .dark-mode-invert:where(.astro-6kov3kig){filter:invert(80%) hue-rotate(180deg)}html[data-theme=light] .dark-mode-only:where(.astro-6kov3kig){display:none}html[data-theme=dark] .light-mode-only:where(.astro-6kov3kig){display:none}
</style><style>.card:where(.astro-ya25bz2t){padding:1rem;border:1px solid var(--sl-color-gray-5)}
</style></head> <body class="astro-fq2xrgk7"> <a href="#_top" class="astro-pujsgb7i">Skip to content</a>  <div class="page sl-flex astro-ngi7wwdc"> <header class="header astro-ngi7wwdc"><div class="header astro-ywtjn676"> <div class="title-wrapper sl-flex astro-ywtjn676"> <a href="/pr/780/" class="site-title sl-flex astro-d5oae2kt">  <img class="light:sl-hidden print:hidden astro-d5oae2kt" alt src="/pr/780/_astro/logo-dark-large.BVfeRCvY.png" width="498" height="131"> <img class="dark:sl-hidden print:block astro-d5oae2kt" alt src="/pr/780/_astro/logo-light-large.aXhJk181.png" width="497" height="132"> <span class="sr-only astro-d5oae2kt" translate="no"> Player </span> </a>  </div> <div class="sl-flex print:hidden astro-ywtjn676"> <sl-doc-search data-translations="{&#34;placeholder&#34;:&#34;Search&#34;,&#34;translations&#34;:{&#34;button&#34;:{&#34;buttonText&#34;:&#34;Search&#34;,&#34;buttonAriaLabel&#34;:&#34;Search&#34;},&#34;modal&#34;:{&#34;searchBox&#34;:{},&#34;startScreen&#34;:{},&#34;errorScreen&#34;:{},&#34;footer&#34;:{},&#34;noResultsScreen&#34;:{}}}}"> <button type="button" class="DocSearch DocSearch-Button" aria-label="Search"> <span class="DocSearch-Button-Container"> <svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"> <path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path> </svg> <span class="DocSearch-Button-Placeholder">Search</span> </span> <span class="DocSearch-Button-Keys"></span> </button> </sl-doc-search>  <script type="module" src="/pr/780/_astro/DocSearch.astro_astro_type_script_index_0_lang.BejZ1KR7.js"></script> </div> <div class="sl-hidden md:sl-flex print:hidden right-group astro-ywtjn676"> <div class="sl-flex social-icons astro-ywtjn676"> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="Z1ade37" component-url="/pr/780/_astro/VersionSelector.DICdK5_W.js" component-export="default" renderer-url="/pr/780/_astro/client.BI4O7k-G.js" props="{&quot;route&quot;:[0,&quot;guides/writing-plugins&quot;],&quot;class&quot;:[0,&quot;astro-ymhdp2rl&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;VersionSelector&quot;,&quot;value&quot;:&quot;react&quot;}"></astro-island><a href="https://github.com/player-ui/player" rel="me" class="sl-flex astro-v7sn5jqv"><span class="sr-only astro-v7sn5jqv">GitHub</span><svg aria-hidden="true" class="astro-v7sn5jqv astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg></a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-g2qf5y42"> <span class="sr-only astro-g2qf5y42">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-g2qf5y42 astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> <select value="auto" autocomplete="off" class="astro-g2qf5y42"> <option value="dark" class="astro-g2qf5y42">Dark</option><option value="light" class="astro-g2qf5y42">Light</option><option value="auto" selected class="astro-g2qf5y42">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-g2qf5y42 astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script> <script type="module">const r="starlight-theme",o=e=>e==="auto"||e==="dark"||e==="light"?e:"auto",c=()=>o(typeof localStorage<"u"&&localStorage.getItem(r));function n(e){typeof localStorage<"u"&&localStorage.setItem(r,e==="light"||e==="dark"?e:"")}const l=()=>matchMedia("(prefers-color-scheme: light)").matches?"light":"dark";function t(e){StarlightThemeProvider.updatePickers(e),document.documentElement.dataset.theme=e==="auto"?l():e,n(e)}matchMedia("(prefers-color-scheme: light)").addEventListener("change",()=>{c()==="auto"&&t("auto")});class s extends HTMLElement{constructor(){super(),t(c()),this.querySelector("select")?.addEventListener("change",a=>{a.currentTarget instanceof HTMLSelectElement&&t(o(a.currentTarget.value))})}}customElements.define("starlight-theme-select",s);</script> <script type="module">class s extends HTMLElement{constructor(){super();const e=this.querySelector("select");e&&(e.addEventListener("change",t=>{t.currentTarget instanceof HTMLSelectElement&&(window.location.pathname=t.currentTarget.value)}),window.addEventListener("pageshow",t=>{if(!t.persisted)return;const n=e.querySelector("option[selected]")?.index;n!==e.selectedIndex&&(e.selectedIndex=n??0)}))}}customElements.define("starlight-lang-select",s);</script> </div> </div> </header> <nav class="sidebar print:hidden astro-ngi7wwdc" aria-label="Main"> <starlight-menu-button class="print:hidden astro-6b5l5sno"> <button aria-expanded="false" aria-label="Menu" aria-controls="starlight__sidebar" class="sl-flex md:sl-hidden astro-6b5l5sno"> <svg aria-hidden="true" class="open-menu astro-6b5l5sno astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"/></svg> <svg aria-hidden="true" class="close-menu astro-6b5l5sno astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="m13.41 12 6.3-6.29a1.004 1.004 0 1 0-1.42-1.42L12 10.59l-6.29-6.3a1.004 1.004 0 0 0-1.42 1.42l6.3 6.29-6.3 6.29a1 1 0 0 0 0 1.42.998.998 0 0 0 1.42 0l6.29-6.3 6.29 6.3a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.42L13.41 12Z"/></svg> </button> </starlight-menu-button> <script type="module">class s extends HTMLElement{constructor(){super(),this.btn=this.querySelector("button"),this.btn.addEventListener("click",()=>this.toggleExpanded());const t=this.closest("nav");t&&t.addEventListener("keyup",e=>this.closeOnEscape(e))}setExpanded(t){this.setAttribute("aria-expanded",String(t)),document.body.toggleAttribute("data-mobile-menu-expanded",t)}toggleExpanded(){this.setExpanded(this.getAttribute("aria-expanded")!=="true")}closeOnEscape(t){t.code==="Escape"&&(this.setExpanded(!1),this.btn.focus())}}customElements.define("starlight-menu-button",s);</script>   <div id="starlight__sidebar" class="sidebar-pane astro-ngi7wwdc"> <div class="sidebar-content sl-flex astro-ngi7wwdc"> <tabbed-content class="tabbed-sidebar astro-ssfzsv2f"> <ul class="tab-list astro-fq2xrgk7 astro-ssfzsv2f">  <li class="astro-ssfzsv2f"> <a class="tab-item current astro-ssfzsv2f" href="/pr/780/player/about/" role="tab"> <svg aria-hidden="true" class="icon astro-ssfzsv2f astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12.000 23.802L12.000 23.802Q8.808 23.802 6.078 22.185Q3.348 20.568 1.752 17.838L1.752 17.838Q0.114 15.024 0.198 11.748L0.198 11.748Q0.240 8.598 1.836 5.952Q3.432 3.306 6.078 1.794L6.078 1.794Q8.850 0.198 12.126 0.198L12.126 0.198Q15.318 0.198 18.027 1.815Q20.736 3.432 22.290 6.162L22.290 6.162Q23.886 8.976 23.802 12.252L23.802 12.252Q23.760 15.360 22.143 18.027Q20.526 20.694 17.880 22.206L17.880 22.206Q15.150 23.802 12.000 23.802ZM7.800 4.650L7.800 4.650L7.800 19.224L7.926 19.224L18.552 12.126L18.678 12Q18.678 12 18.552 12L18.552 12Q11.496 7.254 7.800 4.902L7.800 4.902Q7.884 4.818 7.884 4.734Q7.884 4.650 7.800 4.650Z"/></svg> Player </a> </li><li class="astro-ssfzsv2f"> <a class="tab-item astro-ssfzsv2f" href="/pr/780/plugins/" role="tab"> <svg aria-hidden="true" class="icon astro-ssfzsv2f astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 22H5a3 3 0 0 1-3-3V9a3 3 0 0 1 3-3h1a4 4 0 0 1 7.3-2.18c.448.64.692 1.4.7 2.18h3a1 1 0 0 1 1 1v3a4 4 0 0 1 2.18 7.3A3.86 3.86 0 0 1 18 18v3a1 1 0 0 1-1 1ZM5 8a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11v-3.18a1 1 0 0 1 1.33-.95 1.77 1.77 0 0 0 1.74-.23 2 2 0 0 0 .93-1.37 2 2 0 0 0-.48-1.59 1.89 1.89 0 0 0-2.17-.55 1 1 0 0 1-1.33-.95V8h-3.2a1 1 0 0 1-1-1.33 1.77 1.77 0 0 0-.23-1.74 1.939 1.939 0 0 0-3-.43A2 2 0 0 0 8 6c.002.23.046.456.13.67A1 1 0 0 1 7.18 8H5Z"/></svg> Plugins </a> </li><li class="astro-ssfzsv2f"> <a class="tab-item astro-ssfzsv2f" href="/pr/780/tools/view-ast-explorer" role="tab"> <svg aria-hidden="true" class="icon astro-ssfzsv2f astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="m21.32 9.55-1.89-.63.89-1.78A1 1 0 0 0 20.13 6L18 3.87a1 1 0 0 0-1.15-.19l-1.78.89-.63-1.89A1 1 0 0 0 13.5 2h-3a1 1 0 0 0-.95.68l-.63 1.89-1.78-.89A1 1 0 0 0 6 3.87L3.87 6a1 1 0 0 0-.19 1.15l.89 1.78-1.89.63a1 1 0 0 0-.68.94v3a1 1 0 0 0 .68.95l1.89.63-.89 1.78A1 1 0 0 0 3.87 18L6 20.13a1 1 0 0 0 1.15.19l1.78-.89.63 1.89a1 1 0 0 0 .95.68h3a1 1 0 0 0 .95-.68l.63-1.89 1.78.89a1 1 0 0 0 1.13-.19L20.13 18a1 1 0 0 0 .19-1.15l-.89-1.78 1.89-.63a1 1 0 0 0 .68-.94v-3a1 1 0 0 0-.68-.95ZM20 12.78l-1.2.4A2 2 0 0 0 17.64 16l.57 1.14-1.1 1.1-1.11-.6a2 2 0 0 0-2.79 1.16l-.4 1.2h-1.59l-.4-1.2A2 2 0 0 0 8 17.64l-1.14.57-1.1-1.1.6-1.11a2 2 0 0 0-1.16-2.82l-1.2-.4v-1.56l1.2-.4A2 2 0 0 0 6.36 8l-.57-1.11 1.1-1.1L8 6.36a2 2 0 0 0 2.82-1.16l.4-1.2h1.56l.4 1.2A2 2 0 0 0 16 6.36l1.14-.57 1.1 1.1-.6 1.11a2 2 0 0 0 1.16 2.79l1.2.4v1.59ZM12 8a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm0 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4Z"/></svg> Tools </a> </li>  </ul> </tabbed-content> <!-- Render the sidebar with filtered data using the Default component --> <sl-sidebar-state-persist data-hash="1htkdoa" class="astro-olsuadny"> <script aria-hidden="true">
		(() => {
			try {
				if (!matchMedia('(min-width: 50em)').matches) return;
				/** @type {HTMLElement | null} */
				const target = document.querySelector('sl-sidebar-state-persist');
				const state = JSON.parse(sessionStorage.getItem('sl-sidebar-state') || '0');
				if (!target || !state || target.dataset.hash !== state.hash) return;
				window._starlightScrollRestore = state.scroll;
				customElements.define(
					'sl-sidebar-restore',
					class SidebarRestore extends HTMLElement {
						connectedCallback() {
							try {
								const idx = parseInt(this.dataset.index || '');
								const details = this.closest('details');
								if (details && typeof state.open[idx] === 'boolean') details.open = state.open[idx];
							} catch {}
						}
					}
				);
			} catch {}
		})();
	</script>  <ul class="top-level astro-7rhlm76r"> <li class="astro-7rhlm76r"> <details open class="astro-7rhlm76r"> <sl-sidebar-restore data-index="0"></sl-sidebar-restore> <summary class="astro-7rhlm76r"> <div class="group-label astro-7rhlm76r"> <span class="large astro-7rhlm76r">Player</span>  </div> <svg aria-hidden="true" class="caret astro-7rhlm76r astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <ul class="astro-7rhlm76r"> <li class="astro-7rhlm76r"> <a href="/pr/780/player/about/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">About</span>  </a> </li><li class="astro-7rhlm76r"> <a href="/pr/780/player/faqs/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">FAQs</span>  </a> </li><li class="astro-7rhlm76r"> <a href="/pr/780/player/team/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">Player Team</span>  </a> </li> </ul>  </details> </li><li class="astro-7rhlm76r"> <a href="/pr/780/getting-started/" aria-current="false" class="large astro-7rhlm76r"> <span class="astro-7rhlm76r">Getting Started</span>  </a> </li><li class="astro-7rhlm76r"> <details open class="astro-7rhlm76r"> <sl-sidebar-restore data-index="1"></sl-sidebar-restore> <summary class="astro-7rhlm76r"> <div class="group-label astro-7rhlm76r"> <span class="large astro-7rhlm76r">Guides</span>  </div> <svg aria-hidden="true" class="caret astro-7rhlm76r astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <ul class="astro-7rhlm76r"> <li class="astro-7rhlm76r"> <a href="/pr/780/guides/designing-semantic-assets/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">Designing Semantic Assets</span>  </a> </li><li class="astro-7rhlm76r"> <a href="/pr/780/guides/formatting/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">Data Formatting and Deformatting</span>  </a> </li><li class="astro-7rhlm76r"> <a href="/pr/780/guides/multi-flow-experiences/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">Multi-Flow Experiences</span>  </a> </li><li class="astro-7rhlm76r"> <a href="/pr/780/guides/plugin-implementation/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">Plugin Implementation</span>  </a> </li><li class="astro-7rhlm76r"> <a href="/pr/780/guides/writing-plugins/" aria-current="page" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">Writing a Plugin</span>  </a> </li> </ul>  </details> </li><li class="astro-7rhlm76r"> <details open class="astro-7rhlm76r"> <sl-sidebar-restore data-index="2"></sl-sidebar-restore> <summary class="astro-7rhlm76r"> <div class="group-label astro-7rhlm76r"> <span class="large astro-7rhlm76r">Platforms</span>  </div> <svg aria-hidden="true" class="caret astro-7rhlm76r astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <ul class="astro-7rhlm76r"> <li class="astro-7rhlm76r"> <a href="/pr/780/platforms/cross-platform/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">Using Player Across Multiple Platforms</span>  </a> </li><li class="astro-7rhlm76r"> <a href="/pr/780/platforms/android/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">Android</span>  </a> </li><li class="astro-7rhlm76r"> <a href="/pr/780/platforms/jvm/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">JVM</span>  </a> </li> </ul>  </details> </li><li class="astro-7rhlm76r"> <details open class="astro-7rhlm76r"> <sl-sidebar-restore data-index="3"></sl-sidebar-restore> <summary class="astro-7rhlm76r"> <div class="group-label astro-7rhlm76r"> <span class="large astro-7rhlm76r">Authoring</span>  </div> <svg aria-hidden="true" class="caret astro-7rhlm76r astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <ul class="astro-7rhlm76r"> <li class="astro-7rhlm76r"> <a href="/pr/780/authoring/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">Overview</span>  </a> </li><li class="astro-7rhlm76r"> <a href="/pr/780/authoring/plugins/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">Plugins</span>  </a> </li><li class="astro-7rhlm76r"> <a href="/pr/780/authoring/schema/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">Schema</span>  </a> </li><li class="astro-7rhlm76r"> <a href="/pr/780/authoring/views/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">Views</span>  </a> </li> </ul>  </details> </li><li class="astro-7rhlm76r"> <details open class="astro-7rhlm76r"> <sl-sidebar-restore data-index="4"></sl-sidebar-restore> <summary class="astro-7rhlm76r"> <div class="group-label astro-7rhlm76r"> <span class="large astro-7rhlm76r">Content</span>  </div> <svg aria-hidden="true" class="caret astro-7rhlm76r astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <ul class="astro-7rhlm76r"> <li class="astro-7rhlm76r"> <a href="/pr/780/content/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">Content</span>  </a> </li><li class="astro-7rhlm76r"> <a href="/pr/780/content/assets-views/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">Assets &amp; Views</span>  </a> </li><li class="astro-7rhlm76r"> <a href="/pr/780/content/data-expressions/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">Data &amp; Expressions</span>  </a> </li><li class="astro-7rhlm76r"> <a href="/pr/780/content/navigation/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">Navigation</span>  </a> </li><li class="astro-7rhlm76r"> <a href="/pr/780/content/schema/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">Schema</span>  </a> </li> </ul>  </details> </li><li class="astro-7rhlm76r"> <details open class="astro-7rhlm76r"> <sl-sidebar-restore data-index="5"></sl-sidebar-restore> <summary class="astro-7rhlm76r"> <div class="group-label astro-7rhlm76r"> <span class="large astro-7rhlm76r">Assets</span>  </div> <svg aria-hidden="true" class="caret astro-7rhlm76r astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <ul class="astro-7rhlm76r"> <li class="astro-7rhlm76r"> <a href="/pr/780/assets/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">Assets</span>  </a> </li><li class="astro-7rhlm76r"> <a href="/pr/780/assets/custom/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">Custom Assets</span>  </a> </li><li class="astro-7rhlm76r"> <a href="/pr/780/assets/dsl/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">Writing DSL Components</span>  </a> </li><li class="astro-7rhlm76r"> <a href="/pr/780/assets/reference/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">Reference Assets</span>  </a> </li><li class="astro-7rhlm76r"> <a href="/pr/780/assets/transforms/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">Transforms</span>  </a> </li> </ul>  </details> </li><li class="astro-7rhlm76r"> <details open class="astro-7rhlm76r"> <sl-sidebar-restore data-index="6"></sl-sidebar-restore> <summary class="astro-7rhlm76r"> <div class="group-label astro-7rhlm76r"> <span class="large astro-7rhlm76r">Capabilities</span>  </div> <svg aria-hidden="true" class="caret astro-7rhlm76r astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <ul class="astro-7rhlm76r"> <li class="astro-7rhlm76r"> <a href="/pr/780/capabilities/cli/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">CLI</span>  </a> </li><li class="astro-7rhlm76r"> <a href="/pr/780/capabilities/storybook/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">Player + Storybook Integration</span>  </a> </li> </ul>  </details> </li><li class="astro-7rhlm76r"> <details open class="astro-7rhlm76r"> <sl-sidebar-restore data-index="7"></sl-sidebar-restore> <summary class="astro-7rhlm76r"> <div class="group-label astro-7rhlm76r"> <span class="large astro-7rhlm76r">XLR</span>  </div> <svg aria-hidden="true" class="caret astro-7rhlm76r astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <ul class="astro-7rhlm76r"> <li class="astro-7rhlm76r"> <a href="/pr/780/xlr/concepts/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">XLR Definitions</span>  </a> </li><li class="astro-7rhlm76r"> <a href="/pr/780/xlr/intro/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">Into to XLR</span>  </a> </li><li class="astro-7rhlm76r"> <a href="/pr/780/xlr/usage/" aria-current="false" class="astro-7rhlm76r"> <span class="astro-7rhlm76r">Using XLR</span>  </a> </li> </ul>  </details> </li> </ul>   <script aria-hidden="true">
		(() => {
			const scroller = document.getElementById('starlight__sidebar');
			if (!window._starlightScrollRestore || !scroller) return;
			scroller.scrollTop = window._starlightScrollRestore;
			delete window._starlightScrollRestore;
		})();
	</script> </sl-sidebar-state-persist>  <div class="md:sl-hidden"> <div class="mobile-preferences sl-flex astro-mu6dnnmv"> <div class="social-icons astro-mu6dnnmv"> <astro-island uid="Z1ade37" component-url="/pr/780/_astro/VersionSelector.DICdK5_W.js" component-export="default" renderer-url="/pr/780/_astro/client.BI4O7k-G.js" props="{&quot;route&quot;:[0,&quot;guides/writing-plugins&quot;],&quot;class&quot;:[0,&quot;astro-ymhdp2rl&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;VersionSelector&quot;,&quot;value&quot;:&quot;react&quot;}"></astro-island><a href="https://github.com/player-ui/player" rel="me" class="sl-flex astro-v7sn5jqv"><span class="sr-only astro-v7sn5jqv">GitHub</span><svg aria-hidden="true" class="astro-v7sn5jqv astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg></a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-g2qf5y42"> <span class="sr-only astro-g2qf5y42">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-g2qf5y42 astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> <select value="auto" autocomplete="off" class="astro-g2qf5y42"> <option value="dark" class="astro-g2qf5y42">Dark</option><option value="light" class="astro-g2qf5y42">Light</option><option value="auto" selected class="astro-g2qf5y42">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-g2qf5y42 astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div>  </div> </div> </div> </nav> <div class="main-frame astro-ngi7wwdc">  <script type="module">const a=document.getElementById("starlight__sidebar"),n=a?.querySelector("sl-sidebar-state-persist"),o="sl-sidebar-state",i=()=>{let t=[];const e=n?.dataset.hash||"";try{const s=sessionStorage.getItem(o),r=JSON.parse(s||"{}");Array.isArray(r.open)&&r.hash===e&&(t=r.open)}catch{}return{hash:e,open:t,scroll:a?.scrollTop||0}},c=t=>{try{sessionStorage.setItem(o,JSON.stringify(t))}catch{}},d=()=>c(i()),l=(t,e)=>{const s=i();s.open[e]=t,c(s)};n?.addEventListener("click",t=>{if(!(t.target instanceof Element))return;const e=t.target.closest("summary")?.closest("details");if(!e)return;const s=e.querySelector("sl-sidebar-restore"),r=parseInt(s?.dataset.index||"");isNaN(r)||l(!e.open,r)});addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&d()});addEventListener("pageHide",d);</script> <div class="lg:sl-flex astro-akdfboky"> <aside class="right-sidebar-container print:hidden astro-akdfboky"> <div class="right-sidebar astro-akdfboky"> <div class="lg:sl-hidden astro-4r3c3wh6"><mobile-starlight-toc data-min-h="2" data-max-h="3" class="astro-ebdx7xdz"><nav aria-labelledby="starlight__on-this-page--mobile" class="astro-ebdx7xdz"><details id="starlight__mobile-toc" class="astro-ebdx7xdz"><summary id="starlight__on-this-page--mobile" class="sl-flex astro-ebdx7xdz"><div class="toggle sl-flex astro-ebdx7xdz">On this page<svg aria-hidden="true" class="caret astro-ebdx7xdz astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg></div><span class="display-current astro-ebdx7xdz"></span></summary><div class="dropdown astro-ebdx7xdz"><ul class="isMobile astro-px4bqcpm" style="--depth: 0;"> <li class="astro-px4bqcpm" style="--depth: 0;"> <a href="#_top" class="astro-px4bqcpm" style="--depth: 0;"> <span class="astro-px4bqcpm" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-px4bqcpm" style="--depth: 0;"> <a href="#ios-plugins" class="astro-px4bqcpm" style="--depth: 0;"> <span class="astro-px4bqcpm" style="--depth: 0;">iOS Plugins</span> </a> <ul class="isMobile astro-px4bqcpm" style="--depth: 1;"> <li class="astro-px4bqcpm" style="--depth: 1;"> <a href="#nativeplugin" class="astro-px4bqcpm" style="--depth: 1;"> <span class="astro-px4bqcpm" style="--depth: 1;">NativePlugin</span> </a>  </li><li class="astro-px4bqcpm" style="--depth: 1;"> <a href="#jsbaseplugin" class="astro-px4bqcpm" style="--depth: 1;"> <span class="astro-px4bqcpm" style="--depth: 1;">JSBasePlugin</span> </a>  </li> </ul>  </li><li class="astro-px4bqcpm" style="--depth: 0;"> <a href="#android-plugins" class="astro-px4bqcpm" style="--depth: 0;"> <span class="astro-px4bqcpm" style="--depth: 0;">Android Plugins</span> </a> <ul class="isMobile astro-px4bqcpm" style="--depth: 1;"> <li class="astro-px4bqcpm" style="--depth: 1;"> <a href="#android-player-plugins" class="astro-px4bqcpm" style="--depth: 1;"> <span class="astro-px4bqcpm" style="--depth: 1;">Android Player Plugins</span> </a>  </li><li class="astro-px4bqcpm" style="--depth: 1;"> <a href="#jvm-player-plugins" class="astro-px4bqcpm" style="--depth: 1;"> <span class="astro-px4bqcpm" style="--depth: 1;">JVM Player Plugins</span> </a>  </li><li class="astro-px4bqcpm" style="--depth: 1;"> <a href="#js-player-plugins" class="astro-px4bqcpm" style="--depth: 1;"> <span class="astro-px4bqcpm" style="--depth: 1;">JS Player Plugins</span> </a>  </li><li class="astro-px4bqcpm" style="--depth: 1;"> <a href="#runtime-plugins" class="astro-px4bqcpm" style="--depth: 1;"> <span class="astro-px4bqcpm" style="--depth: 1;">Runtime Plugins</span> </a>  </li><li class="astro-px4bqcpm" style="--depth: 1;"> <a href="#plugin-order-of-operations" class="astro-px4bqcpm" style="--depth: 1;"> <span class="astro-px4bqcpm" style="--depth: 1;">Plugin Order of Operations</span> </a>  </li><li class="astro-px4bqcpm" style="--depth: 1;"> <a href="#rendering-alternative-components" class="astro-px4bqcpm" style="--depth: 1;"> <span class="astro-px4bqcpm" style="--depth: 1;">Rendering Alternative Components</span> </a>  </li> </ul>  </li> </ul> </div></details></nav></mobile-starlight-toc><script type="module" src="/pr/780/_astro/MobileTableOfContents.astro_astro_type_script_index_0_lang.C181hMzK.js"></script></div><div class="right-sidebar-panel sl-hidden lg:sl-block astro-4r3c3wh6"><div class="sl-container astro-4r3c3wh6"><starlight-toc data-min-h="2" data-max-h="3"><nav aria-labelledby="starlight__on-this-page"><h2 id="starlight__on-this-page">On this page</h2><ul class="astro-px4bqcpm" style="--depth: 0;"> <li class="astro-px4bqcpm" style="--depth: 0;"> <a href="#_top" class="astro-px4bqcpm" style="--depth: 0;"> <span class="astro-px4bqcpm" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-px4bqcpm" style="--depth: 0;"> <a href="#ios-plugins" class="astro-px4bqcpm" style="--depth: 0;"> <span class="astro-px4bqcpm" style="--depth: 0;">iOS Plugins</span> </a> <ul class="astro-px4bqcpm" style="--depth: 1;"> <li class="astro-px4bqcpm" style="--depth: 1;"> <a href="#nativeplugin" class="astro-px4bqcpm" style="--depth: 1;"> <span class="astro-px4bqcpm" style="--depth: 1;">NativePlugin</span> </a>  </li><li class="astro-px4bqcpm" style="--depth: 1;"> <a href="#jsbaseplugin" class="astro-px4bqcpm" style="--depth: 1;"> <span class="astro-px4bqcpm" style="--depth: 1;">JSBasePlugin</span> </a>  </li> </ul>  </li><li class="astro-px4bqcpm" style="--depth: 0;"> <a href="#android-plugins" class="astro-px4bqcpm" style="--depth: 0;"> <span class="astro-px4bqcpm" style="--depth: 0;">Android Plugins</span> </a> <ul class="astro-px4bqcpm" style="--depth: 1;"> <li class="astro-px4bqcpm" style="--depth: 1;"> <a href="#android-player-plugins" class="astro-px4bqcpm" style="--depth: 1;"> <span class="astro-px4bqcpm" style="--depth: 1;">Android Player Plugins</span> </a>  </li><li class="astro-px4bqcpm" style="--depth: 1;"> <a href="#jvm-player-plugins" class="astro-px4bqcpm" style="--depth: 1;"> <span class="astro-px4bqcpm" style="--depth: 1;">JVM Player Plugins</span> </a>  </li><li class="astro-px4bqcpm" style="--depth: 1;"> <a href="#js-player-plugins" class="astro-px4bqcpm" style="--depth: 1;"> <span class="astro-px4bqcpm" style="--depth: 1;">JS Player Plugins</span> </a>  </li><li class="astro-px4bqcpm" style="--depth: 1;"> <a href="#runtime-plugins" class="astro-px4bqcpm" style="--depth: 1;"> <span class="astro-px4bqcpm" style="--depth: 1;">Runtime Plugins</span> </a>  </li><li class="astro-px4bqcpm" style="--depth: 1;"> <a href="#plugin-order-of-operations" class="astro-px4bqcpm" style="--depth: 1;"> <span class="astro-px4bqcpm" style="--depth: 1;">Plugin Order of Operations</span> </a>  </li><li class="astro-px4bqcpm" style="--depth: 1;"> <a href="#rendering-alternative-components" class="astro-px4bqcpm" style="--depth: 1;"> <span class="astro-px4bqcpm" style="--depth: 1;">Rendering Alternative Components</span> </a>  </li> </ul>  </li> </ul> </nav></starlight-toc><script type="module" src="/pr/780/_astro/TableOfContents.astro_astro_type_script_index_0_lang.CKWWgpjV.js"></script></div></div> </div> </aside> <div class="main-pane astro-akdfboky">  <main data-pagefind-body class="astro-fq2xrgk7" lang="en" dir="ltr">    <div class="content-panel astro-menempa7"> <div class="sl-container astro-menempa7"> <h1 id="_top" class="astro-hhfmt4wn">Writing a Plugin</h1>  </div> </div>  <div class="content-panel astro-menempa7"> <div class="sl-container astro-menempa7"> <div class="sl-markdown-content"> <p>While we have published a majority of the plugins we have developed, there will always be new use cases that may require new functionality. Writing a plugin in the easiest way to extend Player functionality for these cases. Plugins work slightly differently on each platform so in this guide we will cover how to write a plugin for each platform.</p>
<p>If youâ€™re new to writing plugins, start with the <a href="/pr/780/plugins/">Plugins Overview</a> page.</p>
<script>
(() => {
	class StarlightTabsRestore extends HTMLElement {
		connectedCallback() {
			const starlightTabs = this.closest('starlight-tabs');
			if (!(starlightTabs instanceof HTMLElement) || typeof localStorage === 'undefined') return;
			const syncKey = starlightTabs.dataset.syncKey;
			if (!syncKey) return;
			const label = localStorage.getItem(`starlight-synced-tabs__${syncKey}`);
			if (!label) return;
			const tabs = [...starlightTabs?.querySelectorAll('[role="tab"]')];
			const tabIndexToRestore = tabs.findIndex(
				(tab) => tab instanceof HTMLAnchorElement && tab.textContent?.trim() === label
			);
			const panels = starlightTabs?.querySelectorAll(':scope > [role="tabpanel"]');
			const newTab = tabs[tabIndexToRestore];
			const newPanel = panels[tabIndexToRestore];
			if (tabIndexToRestore < 1 || !newTab || !newPanel) return;
			tabs[0]?.setAttribute('aria-selected', 'false');
			tabs[0]?.setAttribute('tabindex', '-1');
			panels?.[0]?.setAttribute('hidden', 'true');
			newTab.removeAttribute('tabindex');
			newTab.setAttribute('aria-selected', 'true');
			newPanel.removeAttribute('hidden');
		}
	}
	customElements.define('starlight-tabs-restore', StarlightTabsRestore);
})()
</script><starlight-tabs data-sync-key="lang-type" class="astro-2yetg6fg"> <div class="tablist-wrapper not-content astro-2yetg6fg"> <ul role="tablist" class="astro-2yetg6fg"> <li role="presentation" class="tab astro-2yetg6fg"> <a role="tab" href="#tab-panel-51" id="tab-51" aria-selected="true" tabindex="0" class="astro-2yetg6fg"> <svg aria-hidden="true" class="astro-2yetg6fg astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5.376 14.300L5.376 3.352L9.286 3.352L9.286 14.300Q9.286 17.842 7.630 19.452L7.630 19.452Q6.112 20.924 3.076 20.924L3.076 20.924Q2.386 20.924 1.558 20.809Q0.730 20.694 0.224 20.464L0.224 20.464L0.638 17.336Q1.512 17.750 2.662 17.750L2.662 17.750Q3.950 17.750 4.594 17.060L4.594 17.060Q5.376 16.232 5.376 14.300L5.376 14.300ZM11.862 19.912L12.736 16.600Q13.564 17.060 14.668 17.382L14.668 17.382Q15.910 17.750 17.014 17.750L17.014 17.750Q18.394 17.750 19.084 17.267Q19.774 16.784 19.774 15.910Q19.774 15.036 19.130 14.507Q18.486 13.978 16.876 13.426L16.876 13.426Q12.138 11.770 12.138 8.274L12.138 8.274Q12.138 5.974 13.909 4.525Q15.680 3.076 18.762 3.076L18.762 3.076Q21.200 3.076 23.224 3.950L23.224 3.950L22.350 7.124L22.074 6.986Q21.246 6.664 20.740 6.526L20.740 6.526Q19.774 6.250 18.762 6.250L18.762 6.250Q17.520 6.250 16.853 6.733Q16.186 7.216 16.186 7.998Q16.186 8.780 16.922 9.286L16.922 9.286Q17.474 9.700 19.314 10.436L19.314 10.436Q21.614 11.310 22.695 12.552Q23.776 13.794 23.776 15.588L23.776 15.588Q23.776 17.888 22.028 19.314L22.028 19.314Q20.142 20.924 16.738 20.924L16.738 20.924Q15.404 20.924 13.932 20.556L13.932 20.556Q12.782 20.326 11.862 19.912L11.862 19.912Z"/></svg> Core </a> </li><li role="presentation" class="tab astro-2yetg6fg"> <a role="tab" href="#tab-panel-52" id="tab-52" aria-selected="false" tabindex="-1" class="astro-2yetg6fg"> <svg aria-hidden="true" class="astro-2yetg6fg astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M18.955 15.993L18.993 15.993Q18.993 16.107 18.993 16.297L18.993 16.297Q19.221 18.615 19.221 19.774Q19.221 20.933 18.651 21.693Q18.081 22.453 17.207 22.529L17.207 22.529Q16.333 22.719 15.307 22.301L15.307 22.301Q14.547 21.921 13.179 21.009L13.179 21.009Q12.305 20.439 11.849 20.173L11.849 20.173Q10.671 21.123 9.949 21.579L9.949 21.579Q9.341 21.997 8.771 22.187L8.771 22.187Q7.707 22.643 6.795 22.472Q5.883 22.301 5.332 21.579Q4.781 20.857 4.762 19.679Q4.743 18.501 4.971 15.879L4.971 15.879Q3.527 15.423 2.805 14.929L2.805 14.929Q1.855 14.473 0.905 13.523L0.905 13.523Q0.145 12.725 0.183 11.794Q0.221 10.863 1.057 10.065L1.057 10.065Q1.665 9.343 2.691 8.849L2.691 8.849Q3.299 8.507 4.591 8.051L4.591 8.051Q4.667 8.051 4.838 7.994Q5.009 7.937 5.085 7.937L5.085 7.937L4.743 5.315Q4.705 4.479 4.971 3.073L4.971 3.073Q5.237 2.085 6.054 1.667Q6.871 1.249 7.935 1.515L7.935 1.515Q8.885 1.743 9.835 2.351L9.835 2.351Q10.519 2.769 11.393 3.529L11.393 3.529Q11.545 3.605 11.735 3.871L11.735 3.871L11.849 4.023Q13.749 2.579 14.813 1.971L14.813 1.971Q16.029 1.173 17.207 1.515L17.207 1.515Q18.081 1.705 18.594 2.446Q19.107 3.187 19.221 4.365L19.221 4.365L19.221 6.265Q19.221 6.645 19.031 7.405L19.031 7.405Q18.917 7.899 18.841 8.165L18.841 8.165Q19.905 8.507 20.874 8.982Q21.843 9.457 22.261 9.761L22.261 9.761Q22.983 10.255 23.401 10.882Q23.819 11.509 23.819 12.193Q23.819 12.877 23.401 13.504Q22.983 14.131 22.261 14.625L22.261 14.625Q21.805 14.929 20.855 15.423L20.855 15.423Q20.171 15.537 18.955 15.993L18.955 15.993ZM10.861 15.841L12.077 15.879Q12.267 15.879 12.685 15.841L12.685 15.841Q13.255 15.765 13.521 15.765L13.521 15.765Q14.015 15.765 14.357 15.271L14.357 15.271Q15.535 13.371 15.991 12.307L15.991 12.307Q16.105 12.155 16.105 11.927Q16.105 11.699 15.991 11.623L15.991 11.623Q15.421 10.521 14.205 8.659L14.205 8.659Q14.053 8.279 13.635 8.279L13.635 8.279Q11.621 8.279 10.557 8.165L10.557 8.165Q9.607 8.165 9.113 9.001L9.113 9.001Q8.657 9.723 8.391 10.179L8.391 10.179L7.859 11.167Q7.517 11.661 7.460 11.870Q7.403 12.079 7.460 12.288Q7.517 12.497 7.859 13.029L7.859 13.029L8.391 13.979L8.847 14.739Q9.227 15.347 9.379 15.499L9.379 15.499Q9.607 15.765 9.911 15.803L9.911 15.803Q10.139 15.841 10.861 15.841L10.861 15.841ZM5.199 14.929L5.199 14.929Q5.921 13.029 6.263 12.193L6.263 12.193L6.263 11.737L5.199 9.001Q3.071 9.647 1.893 10.521L1.893 10.521Q1.057 11.167 1.057 11.908Q1.057 12.649 1.893 13.257L1.893 13.257Q2.501 13.903 3.451 14.321L3.451 14.321Q4.021 14.587 5.199 14.929ZM18.613 8.887L18.613 8.887Q18.157 9.951 17.435 11.851L17.435 11.851L17.397 11.965Q17.359 12.079 17.435 12.079L17.435 12.079Q18.157 13.979 18.613 15.157L18.613 15.157Q19.069 14.929 20.019 14.435L20.019 14.435Q21.273 13.865 21.805 13.523L21.805 13.523Q22.793 12.877 22.793 12.079Q22.793 11.281 21.843 10.673L21.843 10.673Q21.197 10.103 19.753 9.419L19.753 9.419Q18.955 9.077 18.613 8.887ZM5.883 7.481L5.921 7.671Q7.821 7.481 8.885 7.215L8.885 7.215Q8.961 7.215 9.037 7.139L9.037 7.139L9.113 7.101Q9.797 6.151 11.013 4.707L11.013 4.707Q10.063 3.909 9.569 3.529L9.569 3.529Q8.733 2.883 7.935 2.579L7.935 2.579Q6.947 2.237 6.339 2.598Q5.731 2.959 5.541 4.023L5.541 4.023Q5.465 4.745 5.579 5.695L5.579 5.695Q5.655 6.265 5.883 7.481L5.883 7.481ZM17.777 7.709L17.777 7.671Q17.777 7.633 17.834 7.462Q17.891 7.291 17.891 7.215L17.891 7.215Q18.157 6.037 18.157 5.391L18.157 5.391Q18.233 4.327 17.891 3.529L17.891 3.529Q17.739 2.921 17.321 2.655Q16.903 2.389 16.371 2.465L16.371 2.465Q15.421 2.617 14.509 3.225L14.509 3.225Q13.939 3.567 12.951 4.479L12.951 4.479L12.685 4.707Q13.293 5.543 14.471 6.987L14.471 6.987L14.813 7.329L17.777 7.709ZM5.921 16.221L5.921 16.221Q5.883 16.449 5.807 16.867L5.807 16.867Q5.579 17.931 5.541 18.425L5.541 18.425Q5.465 19.299 5.693 20.059L5.693 20.059Q5.845 20.933 6.434 21.275Q7.023 21.617 7.935 21.351L7.935 21.351Q8.695 21.123 9.493 20.591L9.493 20.591Q9.949 20.249 10.823 19.489L10.823 19.489L11.127 19.223Q10.443 18.273 9.227 16.829L9.227 16.829Q8.999 16.601 8.885 16.601L8.885 16.601Q7.517 16.601 5.921 16.221ZM12.571 19.223L12.571 19.223Q13.065 19.869 14.015 20.553L14.015 20.553Q14.889 21.199 15.649 21.465L15.649 21.465Q17.549 22.035 17.891 20.173L17.891 20.173Q18.043 19.337 17.967 18.349L17.967 18.349Q17.929 17.741 17.701 16.525L17.701 16.525L17.663 16.373L16.903 16.449Q15.307 16.563 14.585 16.829L14.585 16.829Q14.243 17.019 13.939 17.361L13.939 17.361Q13.749 17.589 13.445 18.045L13.445 18.045Q13.179 18.425 13.046 18.634Q12.913 18.843 12.571 19.223ZM10.443 7.101L13.293 7.101Q13.027 6.797 12.552 6.265Q12.077 5.733 11.849 5.429L11.849 5.429L11.659 5.695Q10.937 6.607 10.443 7.101L10.443 7.101ZM12.837 17.361L13.293 16.829L10.557 16.829Q10.785 17.133 11.260 17.665Q11.735 18.197 11.963 18.501L11.963 18.501Q12.229 18.083 12.837 17.361L12.837 17.361ZM8.391 15.651L8.391 15.651Q8.239 15.385 7.935 14.853L7.935 14.853Q7.289 13.789 6.985 13.143L6.985 13.143L6.263 15.157Q6.909 15.423 8.391 15.651ZM16.713 13.143L16.713 13.143L15.307 15.651L17.435 15.271Q17.283 14.511 16.713 13.143ZM6.985 10.787L6.985 10.787L8.391 8.279L6.263 8.621L6.415 9.115Q6.681 10.217 6.985 10.787ZM15.307 8.279L15.307 8.279Q15.535 8.773 16.010 9.476Q16.485 10.179 16.713 10.673L16.713 10.673Q17.207 9.229 17.435 8.659L17.435 8.659Q16.523 8.621 15.307 8.279Z"/></svg> React </a> </li><li role="presentation" class="tab astro-2yetg6fg"> <a role="tab" href="#tab-panel-53" id="tab-53" aria-selected="false" tabindex="-1" class="astro-2yetg6fg"> <svg aria-hidden="true" class="astro-2yetg6fg astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M19.7 17.6c-.1-.2-.2-.4-.2-.6 0-.4-.2-.7-.5-1-.1-.1-.3-.2-.4-.2.6-1.8-.3-3.6-1.3-4.9-.8-1.2-2-2.1-1.9-3.7 0-1.9.2-5.4-3.3-5.1-3.6.2-2.6 3.9-2.7 5.2 0 1.1-.5 2.2-1.3 3.1-.2.2-.4.5-.5.7-1 1.2-1.5 2.8-1.5 4.3-.2.2-.4.4-.5.6-.1.1-.2.2-.2.3-.1.1-.3.2-.5.3-.4.1-.7.3-.9.7-.1.3-.2.7-.1 1.1.1.2.1.4 0 .7-.2.4-.2.9 0 1.4.3.4.8.5 1.5.6.5 0 1.1.2 1.6.4.5.3 1.1.5 1.7.5.3 0 .7-.1 1-.2.3-.2.5-.4.6-.7.4 0 1-.2 1.7-.2.6 0 1.2.2 2 .1 0 .1 0 .2.1.3.2.5.7.9 1.3 1h.2c.8-.1 1.6-.5 2.1-1.1.4-.4.9-.7 1.4-.9.6-.3 1-.5 1.1-1 .1-.7-.1-1.1-.5-1.7zM12.8 4.8c.6.1 1.1.6 1 1.2 0 .3-.1.6-.3.9h-.1c-.2-.1-.3-.1-.4-.2.1-.1.1-.3.2-.5 0-.4-.2-.7-.4-.7-.3 0-.5.3-.5.7v.1c-.1-.1-.3-.1-.4-.2V6c-.1-.5.3-1.1.9-1.2zm-.3 2c.1.1.3.2.4.2.1 0 .3.1.4.2.2.1.4.2.4.5s-.3.6-.9.8c-.2.1-.3.1-.4.2-.3.2-.6.3-1 .3-.3 0-.6-.2-.8-.4-.1-.1-.2-.2-.4-.3-.1-.1-.3-.3-.4-.6 0-.1.1-.2.2-.3.3-.2.4-.3.5-.4l.1-.1c.2-.3.6-.5 1-.5.3.1.6.2.9.4zM10.4 5c.4 0 .7.4.8 1.1v.2c-.1 0-.3.1-.4.2v-.2c0-.3-.2-.6-.4-.5-.2 0-.3.3-.3.6 0 .2.1.3.2.4 0 0-.1.1-.2.1-.2-.2-.4-.5-.4-.8 0-.6.3-1.1.7-1.1zm-1 16.1c-.7.3-1.6.2-2.2-.2-.6-.3-1.1-.4-1.8-.4-.5-.1-1-.1-1.1-.3-.1-.2-.1-.5.1-1 .1-.3.1-.6 0-.9-.1-.3-.1-.5 0-.8.1-.3.3-.4.6-.5.3-.1.5-.2.7-.4.1-.1.2-.2.3-.4.3-.4.5-.6.8-.6.6.1 1.1 1 1.5 1.9.2.3.4.7.7 1 .4.5.9 1.2.9 1.6 0 .5-.2.8-.5 1zm4.9-2.2c0 .1 0 .1-.1.2-1.2.9-2.8 1-4.1.3l-.6-.9c.9-.1.7-1.3-1.2-2.5-2-1.3-.6-3.7.1-4.8.1-.1.1 0-.3.8-.3.6-.9 2.1-.1 3.2 0-.8.2-1.6.5-2.4.7-1.3 1.2-2.8 1.5-4.3.1.1.1.1.2.1.1.1.2.2.3.2.2.3.6.4.9.4h.1c.4 0 .8-.1 1.1-.4.1-.1.2-.2.4-.2.3-.1.6-.3.9-.6.4 1.3.8 2.5 1.4 3.6.4.8.7 1.6.9 2.5.3 0 .7.1 1 .3.8.4 1.1.7 1 1.2H18c0-.3-.2-.6-.9-.9-.7-.3-1.3-.3-1.5.4-.1 0-.2.1-.3.1-.8.4-.8 1.5-.9 2.6.1.4 0 .7-.1 1.1zm4.6.6c-.6.2-1.1.6-1.5 1.1-.4.6-1.1 1-1.9.9-.4 0-.8-.3-.9-.7-.1-.6-.1-1.2.2-1.8.1-.4.2-.7.3-1.1.1-1.2.1-1.9.6-2.2 0 .5.3.8.7 1 .5 0 1-.1 1.4-.5h.2c.3 0 .5 0 .7.2.2.2.3.5.3.7 0 .3.2.6.3.9.5.5.5.8.5.9-.1.2-.5.4-.9.6zm-9-12c-.1 0-.1 0-.1.1 0 0 0 .1.1.1s.1.1.1.1c.3.4.8.6 1.4.7.5-.1 1-.2 1.5-.6l.6-.3c.1 0 .1-.1.1-.1 0-.1 0-.1-.1-.1-.2.1-.5.2-.7.3-.4.3-.9.5-1.4.5-.5 0-.9-.3-1.2-.6-.1 0-.2-.1-.3-.1z"/></svg> Android </a> </li><li role="presentation" class="tab astro-2yetg6fg"> <a role="tab" href="#tab-panel-54" id="tab-54" aria-selected="false" tabindex="-1" class="astro-2yetg6fg"> <svg aria-hidden="true" class="astro-2yetg6fg astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M14.94 5.19A4.38 4.38 0 0 0 16 2a4.44 4.44 0 0 0-3 1.52 4.17 4.17 0 0 0-1 3.09 3.69 3.69 0 0 0 2.94-1.42Zm2.52 7.44a4.51 4.51 0 0 1 2.16-3.81 4.66 4.66 0 0 0-3.66-2c-1.56-.16-3 .91-3.83.91s-2-.89-3.3-.87a4.92 4.92 0 0 0-4.14 2.53C2.93 12.45 4.24 17 6 19.47c.8 1.21 1.8 2.58 3.12 2.53s1.75-.82 3.28-.82 2 .82 3.3.79 2.22-1.24 3.06-2.45a11 11 0 0 0 1.38-2.85 4.41 4.41 0 0 1-2.68-4.04Z"/></svg> iOS </a> </li> </ul> </div> <div id="tab-panel-51" aria-labelledby="tab-51" role="tabpanel"> <div class="card astro-ya25bz2t"><p>Core plugins are the easiest way to extend Player functionality regardless of what platform you are using Player on. To make writing core plugins easy <code dir="auto">@player-ui/player</code> exposes an interface <code dir="auto">PlayerPlugin</code> that denotes everything needed. The two mandatory features are a <code dir="auto">name</code> property which is lets Player know how to refer to the plugin and an implemented <code dir="auto">apply</code> function that takes a <code dir="auto">player</code> object. Optionally a <code dir="auto">symbol</code> property can be used to provide a unique identifier that can be used to retrieve the plugin from Player.</p><p>The first step for creating a plugin is making our plugin class, making sure it implements the <code dir="auto">PlayerPlugin</code> interface from <code dir="auto">@player-ui/player</code>. By convention, a name attribute with the dash-cased name of your plugin should be defined.</p><div class="expressive-code"><link rel="stylesheet" href="/pr/780/_astro/ec.v4551.css"><script type="module" src="/pr/780/_astro/ec.p1z7b.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="typescript"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">class</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFCB8B;--1:#111111">ExamplePlayerPlugin</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">implements</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">PlayerPlugin</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">name </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">example-player-plugin</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">{</span><span style="--0:#919F9F;--1:#5F636F">/* A constructor can go here */</span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">apply</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D7DBE0;--1:#403F53">player</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--1:#111111"><span style="--0:#FFCB8B">Player</span><span style="--0:#D9F5DD">)</span></span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">{</span><span style="--0:#919F9F;--1:#5F636F">/* Your logic here */</span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">{</span><span style="--0:#919F9F;--1:#5F636F">/* Helper methods can go here */</span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="export class ExamplePlayerPlugin implements PlayerPlugin {  name = &#x27;example-player-plugin&#x27;;  {/* A constructor can go here */}  apply(player: Player) {    {/* Your logic here */}  }  {/* Helper methods can go here */}}"><div></div></button></div></figure></div><p>The <code dir="auto">apply</code> function is where the actual logic of the plugin lives. By tapping the hooks exposed via <code dir="auto">player.hooks</code> you gain access to the internal pipeline of components that comprise Player and can inject your functionality into their exposed hooks. For example if you want to do something any time Playerâ€™s state changes you could do the following:</p><div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="javascript"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">apply</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">player</span><span style="--0:#D6DEEB">: </span><span style="--0:#D7DBE0">Player</span><span style="--0:#D6DEEB">) {</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#096E72">player</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#FAF39F;--1:#111111">hooks</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#FAF39F;--1:#111111">state</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#82AAFF;--1:#3B61B0">tap</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#7FDBCA;--1:#096E72">this</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#7FDBCA;--1:#096E72">name</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D7DBE0;--1:#403F53">state</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">=></span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">{</span><span style="--0:#919F9F;--1:#5F636F">/* Your logic here */</span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">});</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="apply(player: Player) {  player.hooks.state.tap(this.name, (state) => {    {/* Your logic here */}  });}"><div></div></button></div></figure></div><p>Some components expose hooks themselves which may require multiple levels of taps which is not uncommon. For example if you wanted to modify the <code dir="auto">ViewInstance</code> before it was resolved you would do the following:</p><div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="javascript"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">apply</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">player</span><span style="--0:#D6DEEB">: </span><span style="--0:#D7DBE0">Player</span><span style="--0:#D6DEEB">) {</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#096E72">player</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#FAF39F;--1:#111111">hooks</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#FAF39F;--1:#111111">viewController</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#82AAFF;--1:#3B61B0">tap</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#7FDBCA;--1:#096E72">this</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#7FDBCA;--1:#096E72">name</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D7DBE0;--1:#403F53">vc</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">=></span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">vc</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#FAF39F;--1:#111111">hooks</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#FAF39F;--1:#111111">view</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#82AAFF;--1:#3B61B0">tap</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#7FDBCA;--1:#096E72">this</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#7FDBCA;--1:#096E72">name</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D7DBE0;--1:#403F53">vc</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">=></span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">{</span><span style="--0:#919F9F;--1:#5F636F">/* Your logic here */</span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">})</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">});</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="apply(player: Player) {  player.hooks.viewController.tap(this.name, (vc) => {    vc.hooks.view.tap(this.name, (vc) => {      {/* Your logic here */}    })  });}"><div></div></button></div></figure></div><p>It is not uncommon for core plugins to have constructors for cases where the plugin needs to take some configuration. In cases where plugin configs are more complicated than basic feature flags, it is recommended to make an interface to represent the config object. As an added benefit it also makes it easier to down stream consumers to use your plugin.</p><p>For a more comprehensive guide on plugins, check out this <a href="/pr/780/guides/plugin-implementation">Plugin Implementation</a> example.</p><p><em>Note: For the React Player you can import and load the plugin the same way you would a React Player Plugin but for the iOS and Android Players you will need to wrap the javascript bundle in a iOS/Android plugin to ensure it is available on your platform.</em></p><aside aria-label="Caution" class="starlight-aside starlight-aside--caution"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M12 16C11.8022 16 11.6089 16.0587 11.4444 16.1686C11.28 16.2784 11.1518 16.4346 11.0761 16.6173C11.0004 16.8001 10.9806 17.0011 11.0192 17.1951C11.0578 17.3891 11.153 17.5673 11.2929 17.7071C11.4327 17.847 11.6109 17.9422 11.8049 17.9808C11.9989 18.0194 12.2 17.9996 12.3827 17.9239C12.5654 17.8482 12.7216 17.72 12.8315 17.5556C12.9413 17.3911 13 17.1978 13 17C13 16.7348 12.8946 16.4805 12.7071 16.2929C12.5196 16.1054 12.2652 16 12 16ZM22.67 17.47L14.62 3.47003C14.3598 3.00354 13.9798 2.61498 13.5192 2.3445C13.0586 2.07401 12.5341 1.9314 12 1.9314C11.4659 1.9314 10.9414 2.07401 10.4808 2.3445C10.0202 2.61498 9.64019 3.00354 9.38 3.47003L1.38 17.47C1.11079 17.924 0.966141 18.441 0.960643 18.9688C0.955144 19.4966 1.089 20.0166 1.34868 20.4761C1.60837 20.9356 1.9847 21.3185 2.43968 21.5861C2.89466 21.8536 3.41218 21.9964 3.94 22H20.06C20.5921 22.0053 21.1159 21.8689 21.5779 21.6049C22.0399 21.341 22.4234 20.9589 22.689 20.4978C22.9546 20.0368 23.0928 19.5134 23.0895 18.9814C23.0862 18.4493 22.9414 17.9277 22.67 17.47ZM20.94 19.47C20.8523 19.626 20.7245 19.7556 20.5697 19.8453C20.4149 19.935 20.2389 19.9815 20.06 19.98H3.94C3.76111 19.9815 3.5851 19.935 3.43032 19.8453C3.27553 19.7556 3.14765 19.626 3.06 19.47C2.97223 19.318 2.92602 19.1456 2.92602 18.97C2.92602 18.7945 2.97223 18.622 3.06 18.47L11.06 4.47003C11.1439 4.30623 11.2714 4.16876 11.4284 4.07277C11.5855 3.97678 11.766 3.92599 11.95 3.92599C12.134 3.92599 12.3145 3.97678 12.4716 4.07277C12.6286 4.16876 12.7561 4.30623 12.84 4.47003L20.89 18.47C20.9892 18.6199 21.0462 18.7937 21.055 18.9732C21.0638 19.1527 21.0241 19.3312 20.94 19.49V19.47ZM12 8.00003C11.7348 8.00003 11.4804 8.10538 11.2929 8.29292C11.1054 8.48046 11 8.73481 11 9.00003V13C11 13.2652 11.1054 13.5196 11.2929 13.7071C11.4804 13.8947 11.7348 14 12 14C12.2652 14 12.5196 13.8947 12.7071 13.7071C12.8946 13.5196 13 13.2652 13 13V9.00003C13 8.73481 12.8946 8.48046 12.7071 8.29292C12.5196 8.10538 12.2652 8.00003 12 8.00003Z"></path></svg>Caution</p><div class="starlight-aside__content"><p>Even though core plugins are written in TypeScript, theyâ€™re not targeting web environments, which limits the common <a href="https://developer.mozilla.org/en-US/docs/Web/API">global web APIs</a> that TS developers are typically used to. Avoid web-specific APIs in core plugins unless absolutely necessary â€” polyfills, or native implementations may be required for the core plugin to function on mobile platforms.</p></div></aside></div> </div><div id="tab-panel-52" aria-labelledby="tab-52" role="tabpanel" hidden> <div class="card astro-ya25bz2t"><p>React Player Plugins are very similar to core plugins in both their composition and use. The <code dir="auto">@player-ui/react</code> package exposes an interface <code dir="auto">ReactPlayerPlugin</code> that, much like the <code dir="auto">PlayerPlugin</code> interface provides the necessary attributes that are required for a React Player plugin. Again a dash-cased <code dir="auto">name</code> attribute should be used by convention, and a function <code dir="auto">applyReact</code> is required that takes a <code dir="auto">ReactPlayer</code> instance. Similarly to core plugins in the <code dir="auto">applyReact</code> function you have access to the React Player object and access to the three exposed hooks:</p><ul>
<li>The <code dir="auto">webComponent</code> hook allows you to modify a React component that is stored in the React Player for use when it renders content. This happens during the initialization phase and ise useful if you want to wrap components in various content providers.</li>
<li>The <code dir="auto">playerComponent</code> hook allows you to modify a component or execute functionality when the React Player is rendering a component after the view has been reconciled in Player. This is useful if you want to inject additional props to components or collect data on which component was rendered.</li>
<li>The <code dir="auto">onBeforeViewReset</code> hook is fired when the view is resetting to undefined and you want to execute some asynchronous tasks.</li>
</ul><p>Below is an example of a basic <code dir="auto">ReactPlayerPlugin</code> that would expose a function to every component that gets loaded in the React Player:</p><div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="tsx"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export const </span><span style="--0:#82AAFF;--1:#3B61B0">FunctionContext</span><span style="--0:#C792EA;--1:#8844AE"> = </span><span style="--0:#D6DEEB;--1:#403F53">React</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#82AAFF;--1:#3B61B0">createContext</span><span style="--0:#C792EA;--1:#8844AE">&#x3C;{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">function</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#C792EA;--1:#8844AE"> </span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#C792EA;--1:#8844AE">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">}></span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C792EA;--1:#8844AE">{ </span><span style="--0:#82AAFF;--1:#3B61B0">handler</span><span style="--0:#C792EA;--1:#8844AE">: </span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#C792EA;--1:#8844AE"> => {} }</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export const </span><span style="--0:#82AAFF;--1:#3B61B0">useFunction</span><span style="--0:#C792EA;--1:#8844AE"> = </span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#C792EA;--1:#8844AE"> </span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#C792EA;--1:#8844AE"> => {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8844AE">  </span></span><span style="--0:#C792EA;--1:#8844AE">const { </span><span style="--0:#82AAFF;--1:#3B61B0">function</span><span style="--0:#C792EA;--1:#8844AE"> } = </span><span style="--0:#D6DEEB;--1:#403F53">React</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#82AAFF;--1:#3B61B0">useContext</span><span style="--0:#D6DEEB;--1:#403F53">(FunctionContext)</span><span style="--0:#C792EA;--1:#8844AE">;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8844AE">  </span></span><span style="--0:#C792EA;--1:#8844AE">return function;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">}</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">class</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFCB8B;--1:#111111">FunctionPlugin</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">implements</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">ReactPlayerPlugin</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">name </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">function-plugin</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#C792EA;--1:#8844AE">private</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">function</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">constructor</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--1:#403F53"><span style="--0:#D7DBE0">fn</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> defaultFunction</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">this</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#7FDBCA;--1:#096E72">function</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> fn;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">applyReact</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D7DBE0;--1:#403F53">rp</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--1:#111111"><span style="--0:#FFCB8B">ReactPlayer</span><span style="--0:#D9F5DD">)</span></span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">rp</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#FAF39F;--1:#111111">hooks</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#FAF39F;--1:#111111">webComponent</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#82AAFF;--1:#3B61B0">tap</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#7FDBCA;--1:#096E72">this</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#7FDBCA;--1:#096E72">name</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D7DBE0;--1:#403F53">Comp</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">=></span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#82AAFF;--1:#3B61B0">const</span><span style="--0:#C792EA;--1:#8844AE"> { </span><span style="--0:#82AAFF;--1:#3B61B0">function</span><span style="--0:#C792EA;--1:#8844AE"> } = </span><span style="--0:#7FDBCA;--1:#096E72">this</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">=></span><span style="--0:#D6DEEB;--1:#403F53"> (</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#7FDBCA;--1:#8844AE">&#x3C;</span><span style="--0:#F78C6C;--1:#AA0982">FunctionContext.Provider</span><span style="--0:#7FDBCA;--1:#8844AE"> </span><span style="--0:#C5E478;--1:#3B61B0">value</span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#E2817F;--1:#B23834">{</span><span style="--0:#7FDBCA;--1:#8844AE">{ </span><span style="--0:#D6DEEB;--1:#403F53">function</span><span style="--0:#7FDBCA;--1:#8844AE"> }</span><span style="--0:#E2817F;--1:#B23834">}</span><span style="--0:#7FDBCA;--1:#8844AE">></span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#7FDBCA;--1:#8844AE">&#x3C;</span><span style="--0:#F78C6C;--1:#AA0982">Comp</span><span style="--0:#7FDBCA;--1:#8844AE"> /></span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#7FDBCA;--1:#8844AE">&#x3C;/</span><span style="--0:#F78C6C;--1:#AA0982">FunctionContext.Provider</span><span style="--0:#7FDBCA;--1:#8844AE">></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">});</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">{</span><span style="--0:#919F9F;--1:#5F636F">/* Helper methods can go here */</span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="export const FunctionContext = React.createContext<{  function: ();}>({ handler: () => {} });export const useFunction = (): () => {  const { function } = React.useContext(FunctionContext);  return function;};export class FunctionPlugin implements ReactPlayerPlugin {  name = &#x27;function-plugin&#x27;;  private function: ();  constructor(fn = defaultFunction) {    this.function = fn;  }  applyReact(rp: ReactPlayer) {    rp.hooks.webComponent.tap(this.name, (Comp) => {      const { function } = this;      return () => (        <FunctionContext.Provider value={{ function }}>          <Comp />        </FunctionContext.Provider>      );    });  }  {/* Helper methods can go here */}}"><div></div></button></div></figure></div><p>Lastly React plugins can also act as a core plugin in cases where core functionality needs to be extended for the React plugin to work. Since both the <code dir="auto">PlayerPlugin</code> and <code dir="auto">ReactPlayerPlugin</code> are typescript interfaces a plugin can implement both and be considered a valid plugin.</p></div> </div><div id="tab-panel-53" aria-labelledby="tab-53" role="tabpanel" hidden> <div class="card astro-ya25bz2t"><div class="sl-heading-wrapper level-h2"><h2 id="android-plugins">Android Plugins</h2><a class="sl-anchor-link" href="#android-plugins"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œAndroid Pluginsâ€</span></a></div><p>For all types of plugins, the <code dir="auto">apply(instance: T)</code> signature is the standard way of getting the instance of whatever the plugin is applying to. It is best practice that this method remains idempotent, but that doesnâ€™t mean that plugins canâ€™t maintain state to hold a reference to said <code dir="auto">instance</code>. Different types of plugins are handled at different stages of initialization, but the order of the same types of plugins will be preserved when applying the plugins.</p><div class="sl-heading-wrapper level-h3"><h3 id="android-player-plugins">Android Player Plugins</h3><a class="sl-anchor-link" href="#android-player-plugins"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œAndroid Player Pluginsâ€</span></a></div><p>Android Player plugins must implement the <code dir="auto">AndroidPlayerPlugin</code> interface, which will give them access to an <code dir="auto">AndroidPlayer</code> instance through the <code dir="auto">apply</code> method. Plugins can use this instance to register UI assets, apply themes, or even access the <a href="#jvm-player-plugins">Player hooks</a>.</p><p>Likely the most common usecase for plugins is to provide UI through assets. More information can be found in the <a href="/pr/780/assets/custom">Custom Assets guide</a>.</p><div class="sl-heading-wrapper level-h3"><h3 id="jvm-player-plugins">JVM Player Plugins</h3><a class="sl-anchor-link" href="#jvm-player-plugins"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œJVM Player Pluginsâ€</span></a></div><p>Player plugins that are only required for the JVM use cases should implement the <code dir="auto">PlayerPlugin</code> interface. This provides a <em>limited</em> <code dir="auto">Player</code> wrapper of the core JS Player, which are exposed through the Player <code dir="auto">hooks</code>. A basic example of <code dir="auto">PlayerPlugin</code> to handle errors:</p><div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="kotlin"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">class</span><span style="--0:#D6DEEB;--1:#403F53"> HandleErrorPlayerPlugin : PlayerPlugin {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">override</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">fun</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">apply</span><span style="--0:#D6DEEB;--1:#403F53">(player: Player) {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">        </span></span><span style="--0:#D6DEEB;--1:#403F53">player.hooks.state.</span><span style="--0:#82AAFF;--1:#3B61B0">tap</span><span style="--0:#D6DEEB;--1:#403F53"> { state </span><span style="--0:#C792EA;--1:#8844AE">-></span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#C792EA;--1:#8844AE">if</span><span style="--0:#D6DEEB;--1:#403F53"> (state </span><span style="--0:#C792EA;--1:#8844AE">is</span><span style="--0:#D6DEEB;--1:#403F53"> ErrorState) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">                </span><span style="--0:#919F9F;--1:#5D6376">// handle error</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">            </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">        </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="class HandleErrorPlayerPlugin : PlayerPlugin {    override fun apply(player: Player) {        player.hooks.state.tap { state ->            if (state is ErrorState) {                // handle error            }        }    }}"><div></div></button></div></figure></div><p>For more practical examples, take a look at the <a href="/pr/780/plugins/android/coroutines/">coroutines plugins</a> which tie asynchronous Player paradigms to <a href="https://kotlinlang.org/docs/coroutines-overview.html">Kotlin Coroutines</a> constructs.</p><aside aria-label="Note" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" class="starlight-aside__icon"><path d="M12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11ZM12.38 7.08C12.1365 6.97998 11.8635 6.97998 11.62 7.08C11.4973 7.12759 11.3851 7.19896 11.29 7.29C11.2017 7.3872 11.1306 7.49882 11.08 7.62C11.024 7.73868 10.9966 7.86882 11 8C10.9992 8.13161 11.0245 8.26207 11.0742 8.38391C11.124 8.50574 11.1973 8.61656 11.29 8.71C11.3872 8.79833 11.4988 8.86936 11.62 8.92C11.7715 8.98224 11.936 9.00632 12.099 8.99011C12.2619 8.97391 12.4184 8.91792 12.5547 8.82707C12.691 8.73622 12.8029 8.61328 12.8805 8.46907C12.9582 8.32486 12.9992 8.16378 13 8C12.9963 7.73523 12.8927 7.48163 12.71 7.29C12.6149 7.19896 12.5028 7.12759 12.38 7.08ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z"></path></svg>Note</p><div class="starlight-aside__content"><p>The <code dir="auto">AndroidPlayer</code> also extends the â€œcoreâ€ JVM <code dir="auto">Player</code>, which means that Android Player plugins already have access to everything the <code dir="auto">PlayerPlugin</code> provides.</p></div></aside><div class="sl-heading-wrapper level-h3"><h3 id="js-player-plugins">JS Player Plugins</h3><a class="sl-anchor-link" href="#js-player-plugins"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œJS Player Pluginsâ€</span></a></div><p>Given the core Player is written in TypeScript incidentally means that most Player plugins will also be written in TypeScript. Loading these on the JVM platform requires some additional setup. At the very least, the plugin will need to be bundled with its dependencies and transpiled according the the target <a href="/pr/780/platforms/jvm#javascript-runtime">JS runtime</a>.</p><p>Once you have your bundle, all that is left is implementing the wrapper on the JVM. The plugin wrapper should implement the <code dir="auto">JSPluginWrapper</code>, which includes an <code dir="auto">apply(runtime: Runtime)</code> method to provide the <code dir="auto">Runtime</code> in which to instantiate the JS Player plugin within.</p><p>For plugins that do not have any constructor arguments, the <code dir="auto">JSScriptPluginWrapper</code> can be used to simplify the overhead of instantiated that plugin. It is an abstract class that implements of the <code dir="auto">JSPluginWrapper</code>. This can be instantiated with the loaded bundle as a string or the location of the bundle on the classpath and will automatically read the bundle and instantiate the plugin within the JS runtime.</p><div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="kotlin"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">class</span><span style="--0:#D6DEEB;--1:#403F53"> MyCorePlugin : JSScriptPluginWrapper(</span><span style="--0:#ECC48D;--1:#984E4D">"MyCorePluginName"</span><span style="--0:#D6DEEB;--1:#403F53">, sourcePath </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#984E4D">"path/to/source.js"</span><span style="--0:#D6DEEB;--1:#403F53">) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#919F9F;--1:#5D6376">// Expose a member of the core instance</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">public</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">val</span><span style="--0:#D6DEEB;--1:#403F53"> someField: String by NodeSerializableField(String.</span><span style="--0:#82AAFF;--1:#3B61B0">serializer</span><span style="--0:#D6DEEB;--1:#403F53">())</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#919F9F;--1:#5D6376">// Privately declare loosely typed-function of the core instance</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">private</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">val</span><span style="--0:#D6DEEB;--1:#403F53"> someFunc: Invokable&#x3C;String> by NodeSerializableFunction()</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#919F9F;--1:#5D6376">// Expose strictly typed method for consumption</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">public</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">fun</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">someFunc</span><span style="--0:#D6DEEB;--1:#403F53">(p1: String): String </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">someFunc</span><span style="--0:#D6DEEB;--1:#403F53">(p1)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="class MyCorePlugin : JSScriptPluginWrapper(&#x22;MyCorePluginName&#x22;, sourcePath = &#x22;path/to/source.js&#x22;) {    // Expose a member of the core instance    public val someField: String by NodeSerializableField(String.serializer())    // Privately declare loosely typed-function of the core instance    private val someFunc: Invokable<String> by NodeSerializableFunction()    // Expose strictly typed method for consumption    public fun someFunc(p1: String): String = someFunc(p1)}"><div></div></button></div></figure></div><div class="sl-heading-wrapper level-h3"><h3 id="runtime-plugins">Runtime Plugins</h3><a class="sl-anchor-link" href="#runtime-plugins"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œRuntime Pluginsâ€</span></a></div><p><code dir="auto">RuntimePlugin</code>s are supertypes of the <code dir="auto">JSPluginWrapper</code> for JS Player plugin wrappers. At this layer, they can be used to add non-player specific functionality to the JS runtime. For example, the <a href="/pr/780/plugins/multiplatform/beacon/"><code dir="auto">BeaconPlugin</code></a> requires the <code dir="auto">setTimeout</code> global method, which does not exist by default in some runtimes. Thus, the <code dir="auto">BeaconPlugin</code> applies the <code dir="auto">SetTimeoutPlugin</code>, which is a <code dir="auto">RuntimePlugin</code>, before it instantiates the actual JS Player beacon plugin.</p><div class="sl-heading-wrapper level-h3"><h3 id="plugin-order-of-operations">Plugin Order of Operations</h3><a class="sl-anchor-link" href="#plugin-order-of-operations"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œPlugin Order of Operationsâ€</span></a></div><p>With all these different types of plugins, it may be difficult to understand how they are treated and when each is applied. Each of these plugin types implements the base <code dir="auto">Plugin</code> interface, which provides a bounding layer for any type of plugin. Both the Android and JVM Players accept a collection of <code dir="auto">Plugin</code>s, which may or may not be specific to that Player. This allows non-player plugins, such as the <code dir="auto">RuntimePlugin</code> to be passed into the instantiation of either Player, simplifying the overhead of using such plugins. During the different layers of initialization, the internals will handle each type of plugin that it cares about. Because the internals are expecting certain types of plugins, any direct implementation of the base <code dir="auto">Plugin</code> is certainly an error. Below is a detailed sequence diagram describing the order in which plugins are applied.</p><div class="flex justify-center astro-6kov3kig"> <img src="/pr/780/_astro/plugin-ooo.DKpOzyR__Z1MEGlh.webp" darkmodeinvert="true" alt="Plugin Order of Operations" loading="lazy" decoding="async" fetchpriority="auto" width="1144" height="1517" class="dark-mode-invert astro-6kov3kig">   </div></div> </div><div id="tab-panel-54" aria-labelledby="tab-54" role="tabpanel" hidden> <div class="card astro-ya25bz2t"><div class="sl-heading-wrapper level-h2"><h2 id="ios-plugins">iOS Plugins</h2><a class="sl-anchor-link" href="#ios-plugins"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œiOS Pluginsâ€</span></a></div><p>iOS Player Plugins are very similar to core and react plugins in both their composition and use.</p><div class="sl-heading-wrapper level-h3"><h3 id="nativeplugin">NativePlugin</h3><a class="sl-anchor-link" href="#nativeplugin"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œNativePluginâ€</span></a></div><p>The <code dir="auto">PlayerUI/Core</code> subspec exposes an interface <code dir="auto">NativePlugin</code> that, much like the core <code dir="auto">PlayerPlugin</code> interfaces, provides the necessary attributes that are required for an iOS Player plugin. A <code dir="auto">pluginName</code> attributed is required, and a function <code dir="auto">apply</code> is required that takes an instance of a Player implementation. Similarly to core plugins, in the <code dir="auto">apply</code> function you have access to the Player object and access to the hooks. <code dir="auto">apply</code> uses generics to future proof so plugins can be used for multiple Player implementations should they be created.</p><p>The <code dir="auto">player</code> passed to <code dir="auto">apply</code> exposes hooks from the core player, as well as hooks specific to that player implementation. For the current state of this project, the <code dir="auto">SwiftUIPlayer</code> is the primary iOS Player, and exposes two hooks for the SwiftUI layer specifically:</p><ul>
<li>The <code dir="auto">view</code> hook allows you to modify the root view that will be displayed in the SwiftUIPlayer body. This is useful for applying changes to the environment for the SwiftUI view tree, or apply ViewModifiers and such.</li>
<li>The <code dir="auto">transition</code> hook allows you to specify a <code dir="auto">PlayerViewTransition</code> object to be applied when the flow transitions from one view to another, to animate the transition.</li>
</ul><div class="sl-heading-wrapper level-h4"><h4 id="basic-example">Basic Example</h4><a class="sl-anchor-link" href="#basic-example"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œBasic Exampleâ€</span></a></div><p>Below is an example of a basic <code dir="auto">NativePlugin</code> that sets a value in the EnvironmentValues when the plugin is included:</p><div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="swift"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> PlayerUI</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">class</span><span style="--0:#D6DEEB;--1:#403F53"> EnvironmentPlugin: </span><span style="--0:#C5E478;--1:#3B61B0">NativePlugin </span><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">let</span><span style="--0:#D6DEEB;--1:#403F53"> pluginName </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">EnvironmentPlugin</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">func</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">apply</span><span style="--0:#D6DEEB;--1:#403F53">&#x3C;</span><span style="--0:#7FDBCA;--1:#096E72">P</span><span style="--0:#D6DEEB;--1:#403F53">></span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#82AAFF;--1:#3B61B0">player</span><span style="--0:#D6DEEB;--1:#403F53">: P</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">where</span><span style="--0:#D6DEEB;--1:#403F53"> P</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">HeadlessPlayer</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#C792EA;--1:#8844AE">guard</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">let</span><span style="--0:#D6DEEB;--1:#403F53"> player </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> player </span><span style="--0:#7FDBCA;--1:#096E72">as?</span><span style="--0:#D6DEEB;--1:#403F53"> SwiftUIPlayer </span><span style="--0:#C792EA;--1:#8844AE">else</span><span style="--0:#D6DEEB;--1:#403F53"> { </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">player.</span><span style="--0:#C5E478;--1:#3B61B0">hooks</span><span style="--0:#D6DEEB;--1:#403F53">.view.</span><span style="--0:#C5E478;--1:#3B61B0">tap</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--1:#3B61B0"><span style="--0:#C5E478">name</span><span style="--0:#82AAFF">: pluginName</span></span><span style="--0:#D6DEEB;--1:#403F53">) { (</span><span style="--0:#C5E478;--1:#3B61B0">view</span><span style="--0:#D6DEEB;--1:#403F53">: AnyView) </span><span style="--0:#7FDBCA;--1:#096E72">-></span><span style="--0:#D6DEEB;--1:#403F53"> AnyView </span><span style="--0:#C792EA;--1:#8844AE">in</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">AnyView</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--1:#3B61B0"><span style="--0:#82AAFF">view.</span><span style="--0:#C5E478">environment</span></span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--1:#3B61B0"><span style="--0:#82AAFF">\.</span><span style="--0:#C5E478">someEnvironmentKey</span><span style="--0:#82AAFF">, someValue</span></span><span style="--0:#D6DEEB;--1:#403F53">))</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="import PlayerUIclass EnvironmentPlugin: NativePlugin {    let pluginName = &#x22;EnvironmentPlugin&#x22;    func apply<P>(player: P) where P: HeadlessPlayer {      guard let player = player as? SwiftUIPlayer else { return }      player.hooks.view.tap(name: pluginName) { (view: AnyView) -> AnyView in          return AnyView(view.environment(\.someEnvironmentKey, someValue))      }    }}"><div></div></button></div></figure></div><p>Likely the most common usecase for plugins is to provide UI through assets. More information can be found in the <a href="/pr/780/assets/custom">Custom Assets guide</a>.</p><div class="sl-heading-wrapper level-h3"><h3 id="jsbaseplugin">JSBasePlugin</h3><a class="sl-anchor-link" href="#jsbaseplugin"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œJSBasePluginâ€</span></a></div><p>Building native features on top of shared functionality is one of the primary benefits of using player. As such we expose convenience utilities to enable loading JavaScript Player Plugins as the base for your <code dir="auto">NativePlugin</code>.</p><div class="sl-heading-wrapper level-h4"><h4 id="basic-setup">Basic Setup</h4><a class="sl-anchor-link" href="#basic-setup"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œBasic Setupâ€</span></a></div><p>This example will load the <code dir="auto">SharedJSPlugin</code> in the JavaScript layer when included as a plugin to <code dir="auto">SwiftUIPlayer</code>.</p><div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="swift"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> PlayerUI</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">class</span><span style="--0:#D6DEEB;--1:#403F53"> SharedJSPlugin: </span><span style="--0:#C5E478;--1:#3B61B0">JSBasePlugin </span><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">convenience</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">init</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#919F9F;--1:#5D6376">// pluginName must match the exported class name in the JavaScript plugin</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#7FDBCA;--1:#096E72">self</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C792EA;--1:#8844AE">init</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--1:#3B61B0"><span style="--0:#C5E478">fileName</span><span style="--0:#82AAFF">: 'shared</span></span><span style="--0:#7FDBCA;--1:#096E72">-</span><span style="--0:#82AAFF;--1:#3B61B0">js</span><span style="--0:#7FDBCA;--1:#096E72">-</span><span style="--0:#82AAFF;--1:#3B61B0">plugin</span><span style="--0:#7FDBCA;--1:#096E72">-</span><span style="--1:#3B61B0"><span style="--0:#82AAFF">bundle', </span><span style="--0:#C5E478">pluginName</span><span style="--0:#82AAFF">: 'SharedJSPlugin'</span></span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#919F9F;--1:#5D6376">// Construct the URL to load the JS bundle</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">override</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">open</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">func</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">getUrlForFile</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#82AAFF;--1:#3B61B0">fileName</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#C5E478;--1:#3B61B0">String</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">-></span><span style="--0:#D6DEEB;--1:#403F53"> URL</span><span style="--0:#7FDBCA;--1:#096E72">?</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">ResourceUtilities.</span><span style="--0:#C5E478;--1:#3B61B0">urlForFile</span><span style="--0:#D6DEEB;--1:#403F53">(</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#3B61B0">        </span></span><span style="--0:#C5E478;--1:#3B61B0">fileName</span><span style="--0:#82AAFF;--1:#3B61B0">: fileName,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#3B61B0">        </span></span><span style="--0:#C5E478;--1:#3B61B0">ext</span><span style="--0:#82AAFF;--1:#3B61B0">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">js</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#82AAFF;--1:#3B61B0">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#3B61B0">        </span></span><span style="--0:#C5E478;--1:#3B61B0">bundle</span><span style="--0:#82AAFF;--1:#3B61B0">: </span><span style="--0:#C5E478;--1:#3B61B0">Bundle</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--1:#3B61B0"><span style="--0:#C5E478">for</span><span style="--0:#82AAFF">: YourPlugin.</span></span><span style="--0:#C792EA;--1:#8844AE">self</span><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--0:#82AAFF;--1:#3B61B0">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#3B61B0">        </span></span><span style="--0:#C5E478;--1:#3B61B0">pathComponent</span><span style="--0:#82AAFF;--1:#3B61B0">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">YOUR_POD.bundle</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="import PlayerUIclass SharedJSPlugin: JSBasePlugin {    convenience init() {      // pluginName must match the exported class name in the JavaScript plugin      self.init(fileName: &#x27;shared-js-plugin-bundle&#x27;, pluginName: &#x27;SharedJSPlugin&#x27;)    }    // Construct the URL to load the JS bundle    override open func getUrlForFile(fileName: String) -> URL? {      ResourceUtilities.urlForFile(        fileName: fileName,        ext: &#x22;js&#x22;,        bundle: Bundle(for: YourPlugin.self),        pathComponent: &#x22;YOUR_POD.bundle&#x22;      )    }}"><div></div></button></div></figure></div><div class="sl-heading-wrapper level-h4"><h4 id="arguments-for-constructing-the-javascript-plugins">Arguments for constructing the JavaScript plugins</h4><a class="sl-anchor-link" href="#arguments-for-constructing-the-javascript-plugins"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œArguments for constructing the JavaScript pluginsâ€</span></a></div><p>To simplify the ease of use, the <code dir="auto">JSContext</code> for <code dir="auto">JSBasePlugin</code> implementations is provided when the underlying resources for the core <code dir="auto">player</code> are being setup. This means that we need to provide the arguments for the JavaScript constructor late. To do this, override the <code dir="auto">getArguments</code> function:</p><div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="swift"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> PlayerUI</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">class</span><span style="--0:#D6DEEB;--1:#403F53"> SharedJSPlugin: </span><span style="--0:#C5E478;--1:#3B61B0">JSBasePlugin </span><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">var</span><span style="--0:#D6DEEB;--1:#403F53"> option: Boolean</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">convenience</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">init</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#82AAFF;--1:#3B61B0">option</span><span style="--0:#D6DEEB;--1:#403F53">: Boolean</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#919F9F;--1:#5D6376">// pluginName must match the exported class name in the JavaScript plugin</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#7FDBCA;--1:#096E72">self</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C792EA;--1:#8844AE">init</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--1:#3B61B0"><span style="--0:#C5E478">fileName</span><span style="--0:#82AAFF">: 'shared</span></span><span style="--0:#7FDBCA;--1:#096E72">-</span><span style="--0:#82AAFF;--1:#3B61B0">js</span><span style="--0:#7FDBCA;--1:#096E72">-</span><span style="--0:#82AAFF;--1:#3B61B0">plugin</span><span style="--0:#7FDBCA;--1:#096E72">-</span><span style="--1:#3B61B0"><span style="--0:#82AAFF">bundle', </span><span style="--0:#C5E478">pluginName</span><span style="--0:#82AAFF">: 'SharedJSPlugin'</span></span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#7FDBCA;--1:#096E72">self</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">option</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> option</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">override</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">open</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">func</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">getArguments</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">-></span><span style="--0:#D6DEEB;--1:#403F53"> [</span><span style="--0:#C5E478;--1:#3B61B0">Any</span><span style="--0:#D6DEEB;--1:#403F53">] {</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#919F9F;--1:#5D6376">// plugin just takes a boolean arguments</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> [option]</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#919F9F;--1:#5D6376">// More common in JavaScript, constructor takes an object</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> [[</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">enable</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C792EA;--1:#8844AE">:</span><span style="--0:#D6DEEB;--1:#403F53"> option]]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="import PlayerUIclass SharedJSPlugin: JSBasePlugin {    var option: Boolean    convenience init(option: Boolean) {      // pluginName must match the exported class name in the JavaScript plugin      self.init(fileName: &#x27;shared-js-plugin-bundle&#x27;, pluginName: &#x27;SharedJSPlugin&#x27;)      self.option = option    }    override open func getArguments() -> [Any] {        // plugin just takes a boolean arguments        return [option]        // More common in JavaScript, constructor takes an object        return [[&#x22;enable&#x22;: option]]    }}"><div></div></button></div></figure></div><p><strong>Note</strong>: As <code dir="auto">JavaScriptCore</code> cannot resolve dependencies at runtime, using a module bundler such as <a href="https://github.com/egoist/tsup">tsup</a> is required.</p><p><strong>Note</strong>: <code dir="auto">JSBasePlugin</code> implementations do not necessarily need to be a <code dir="auto">PlayerPlugin</code>, for example, the <a href="https://github.com/player-ui/player/blob/main/plugins/beacon/ios/Sources/BaseBeaconPlugin.swift#L59">BeaconPlugin</a> can take plugins in itâ€™s constructor, that are not <code dir="auto">PlayerPlugin</code>.</p></div> </div> <starlight-tabs-restore class="astro-2yetg6fg"></starlight-tabs-restore> </starlight-tabs>  <script type="module">class r extends HTMLElement{constructor(){super(),this.#s="starlight-synced-tabs__";const t=this.querySelector('[role="tablist"]');if(this.tabs=[...t.querySelectorAll('[role="tab"]')],this.panels=[...this.querySelectorAll(':scope > [role="tabpanel"]')],this.#t=this.dataset.syncKey,this.#t){const n=r.#e.get(this.#t)??[];n.push(this),r.#e.set(this.#t,n)}this.tabs.forEach((n,c)=>{n.addEventListener("click",e=>{e.preventDefault();const i=t.querySelector('[aria-selected="true"]');e.currentTarget!==i&&this.switchTab(e.currentTarget,c)}),n.addEventListener("keydown",e=>{const i=this.tabs.indexOf(e.currentTarget),s=e.key==="ArrowLeft"?i-1:e.key==="ArrowRight"?i+1:e.key==="Home"?0:e.key==="End"?this.tabs.length-1:null;s!==null&&this.tabs[s]&&(e.preventDefault(),this.switchTab(this.tabs[s],s))})})}static#e=new Map;#t;#s;switchTab(t,n,c=!0){if(!t)return;const e=c?this.getBoundingClientRect().top:0;this.tabs.forEach(s=>{s.setAttribute("aria-selected","false"),s.setAttribute("tabindex","-1")}),this.panels.forEach(s=>{s.hidden=!0});const i=this.panels[n];i&&(i.hidden=!1),t.removeAttribute("tabindex"),t.setAttribute("aria-selected","true"),c&&(t.focus(),r.#r(this,t),window.scrollTo({top:window.scrollY+(this.getBoundingClientRect().top-e),behavior:"instant"}))}#n(t){!this.#t||typeof localStorage>"u"||localStorage.setItem(this.#s+this.#t,t)}static#r(t,n){const c=t.#t,e=r.#i(n);if(!c||!e)return;const i=r.#e.get(c);if(i){for(const s of i){if(s===t)continue;const a=s.tabs.findIndex(o=>r.#i(o)===e);a!==-1&&s.switchTab(s.tabs[a],a,!1)}t.#n(e)}}static#i(t){return t.textContent?.trim()}}customElements.define("starlight-tabs",r);</script><script type="module">function s(o){const t=new URL(window.location.href);t.searchParams.set("lang",o),window.history.pushState({},"",t)}function r(){const t=new URL(window.location.href).searchParams.get("lang")?.toLowerCase();t&&document.querySelectorAll('a[role="tab"]').forEach(e=>{e.textContent?.trim().toLowerCase()===t&&e.click()})}document.addEventListener("DOMContentLoaded",()=>{r(),window.addEventListener("popstate",r),document.querySelectorAll('[role="tablist"]').forEach(t=>{t.addEventListener("click",n=>{const e=n.target?.closest('a[role="tab"]');if(e){const a=e.textContent?.trim().toLowerCase();a&&s(a)}})})});</script>
<div class="sl-heading-wrapper level-h3"><h3 id="rendering-alternative-components">Rendering Alternative Components</h3><a class="sl-anchor-link" href="#rendering-alternative-components"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled â€œRendering Alternative Componentsâ€</span></a></div>
<p>Sometimes you may want to replace the entire Player component with an alternative view based on some external event or state. The <code dir="auto">ReactPlayer</code> exposes a <code dir="auto">viewUpdateSubscription</code> that can be used to trigger updates and pass data to your plugin.</p>
<p>Here is an example of how to use <code dir="auto">viewUpdateSubscription</code> to render an alternative component:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="tsx"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> { ReactPlayer, ReactPlayerPlugin } </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">@player-ui/react</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> { useSubscribedState } </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">@player-ui/react-subscribe</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">class</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFCB8B;--1:#111111">AlternativeComponentPlugin</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">implements</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">ReactPlayerPlugin</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">name </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">alternative-component-plugin</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">applyReact</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D7DBE0;--1:#403F53">rp</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--1:#111111"><span style="--0:#FFCB8B">ReactPlayer</span><span style="--0:#D9F5DD">)</span></span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">rp</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#FAF39F;--1:#111111">hooks</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#FAF39F;--1:#111111">webComponent</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#82AAFF;--1:#3B61B0">tap</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#7FDBCA;--1:#096E72">this</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#7FDBCA;--1:#096E72">name</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D7DBE0;--1:#403F53">Comp</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">=></span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">=></span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#82AAFF;--1:#3B61B0">const</span><span style="--0:#C792EA;--1:#8844AE"> </span><span style="--0:#82AAFF;--1:#3B61B0">view</span><span style="--0:#C792EA;--1:#8844AE"> = </span><span style="--0:#82AAFF;--1:#3B61B0">useSubscribedState</span><span style="--0:#D6DEEB;--1:#403F53">(rp</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#7FDBCA;--1:#096E72">viewUpdateSubscription</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#919F9F;--1:#5D6376">// Alternatively, without a hook:</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#919F9F;--1:#5D6376">// rp.viewUpdateSubscription.get().type === "alternative-component"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C792EA;--1:#8844AE">if</span><span style="--0:#D6DEEB;--1:#403F53"> (view</span><span style="--0:#C792EA;--1:#8844AE">?.</span><span style="--0:#7FDBCA;--1:#096E72">type</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">===</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">alternative-component</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;</span><span style="--0:#CAECE6">div</span><span style="--0:#7FDBCA">></span></span><span style="--0:#D6DEEB;--1:#403F53">Alternative Component</span><span style="--1:#8844AE"><span style="--0:#7FDBCA">&#x3C;/</span><span style="--0:#CAECE6">div</span><span style="--0:#7FDBCA">></span></span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">        </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#8844AE">&#x3C;</span><span style="--0:#F78C6C;--1:#AA0982">Comp</span><span style="--0:#7FDBCA;--1:#8844AE"> /></span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">};</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">});</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5D6376">// Usage</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">const </span><span style="--0:#82AAFF;--1:#3B61B0">player</span><span style="--0:#C792EA;--1:#8844AE"> = </span><span style="--0:#7FDBCA;--1:#096E72">new</span><span style="--0:#C792EA;--1:#8844AE"> </span><span style="--0:#82AAFF;--1:#3B61B0">ReactPlayer</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C792EA;--1:#8844AE">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8844AE">  </span></span><span style="--0:#C792EA;--1:#8844AE">plugins:</span><span style="--0:#D6DEEB;--1:#403F53"> [</span><span style="--0:#7FDBCA;--1:#096E72">new</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">AlternativeComponentPlugin</span><span style="--0:#D6DEEB;--1:#403F53">()]</span><span style="--0:#C792EA;--1:#8844AE">,</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">}</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5D6376">// Trigger the alternative component</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">player</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#FAF39F;--1:#111111">viewUpdateSubscription</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#82AAFF;--1:#3B61B0">publish</span><span style="--0:#D6DEEB;--1:#403F53">({ type: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">alternative-component</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> });</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="import { ReactPlayer, ReactPlayerPlugin } from &#x22;@player-ui/react&#x22;;import { useSubscribedState } from &#x22;@player-ui/react-subscribe&#x22;;export class AlternativeComponentPlugin implements ReactPlayerPlugin {  name = &#x22;alternative-component-plugin&#x22;;  applyReact(rp: ReactPlayer) {    rp.hooks.webComponent.tap(this.name, (Comp) => {      return () => {        const view = useSubscribedState(rp.viewUpdateSubscription);        // Alternatively, without a hook:        // rp.viewUpdateSubscription.get().type === &#x22;alternative-component&#x22;        if (view?.type === &#x22;alternative-component&#x22;) {          return <div>Alternative Component</div>;        }        return <Comp />;      };    });  }}// Usageconst player = new ReactPlayer({  plugins: [new AlternativeComponentPlugin()],});// Trigger the alternative componentplayer.viewUpdateSubscription.publish({ type: &#x22;alternative-component&#x22; });"><div></div></button></div></figure></div> </div> <footer class="sl-flex astro-t5skuwnd"> <div class="meta sl-flex astro-t5skuwnd"> <a href="https://github.com/player-ui/player/edit/main/docs/site/src/content/docs/guides/writing-plugins.mdx" class="sl-flex print:hidden astro-36z5fdi4"><svg aria-hidden="true" class="astro-36z5fdi4 astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.2em;"><path d="M22 7.24a1 1 0 0 0-.29-.71l-4.24-4.24a1 1 0 0 0-1.1-.22 1 1 0 0 0-.32.22l-2.83 2.83L2.29 16.05a1 1 0 0 0-.29.71V21a1 1 0 0 0 1 1h4.24a1 1 0 0 0 .76-.29l10.87-10.93L21.71 8c.1-.1.17-.2.22-.33a1 1 0 0 0 0-.24v-.14l.07-.05ZM6.83 20H4v-2.83l9.93-9.93 2.83 2.83L6.83 20ZM18.17 8.66l-2.83-2.83 1.42-1.41 2.82 2.82-1.41 1.42Z"/></svg>Edit page</a> <p>
Last updated: <time datetime="2026-01-15T15:52:43.000Z">Jan 15, 2026</time></p> </div> <div class="pagination-links print:hidden astro-rfdqeo4u" dir="ltr"> <a href="/pr/780/guides/plugin-implementation/" rel="prev" class="astro-rfdqeo4u"> <svg aria-hidden="true" class="astro-rfdqeo4u astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17 11H9.41l3.3-3.29a1.004 1.004 0 1 0-1.42-1.42l-5 5a1 1 0 0 0-.21.33 1 1 0 0 0 0 .76 1 1 0 0 0 .21.33l5 5a1.002 1.002 0 0 0 1.639-.325 1 1 0 0 0-.219-1.095L9.41 13H17a1 1 0 0 0 0-2Z"/></svg> <span class="astro-rfdqeo4u"> Previous <br class="astro-rfdqeo4u"> <span class="link-title astro-rfdqeo4u">Plugin Implementation</span> </span> </a> <a href="/pr/780/platforms/cross-platform/" rel="next" class="astro-rfdqeo4u"> <svg aria-hidden="true" class="astro-rfdqeo4u astro-hzvncqix" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17.92 11.62a1.001 1.001 0 0 0-.21-.33l-5-5a1.003 1.003 0 1 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1.002 1.002 0 0 0 .325 1.639 1 1 0 0 0 1.095-.219l5-5a1 1 0 0 0 .21-.33 1 1 0 0 0 0-.76Z"/></svg> <span class="astro-rfdqeo4u"> Next <br class="astro-rfdqeo4u"> <span class="link-title astro-rfdqeo4u">Using Player Across Multiple Platforms</span> </span> </a> </div>   </footer>  </div> </div>   </main> </div> </div>  </div> </div>  </body></html>