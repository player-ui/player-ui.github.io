<!DOCTYPE html><html lang="en" dir="ltr" data-theme="dark" data-has-toc data-has-sidebar class="astro-wizzbz2n"> <head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>AsyncNode Plugin | Player</title><link rel="canonical"/><link rel="shortcut icon" href="/pr/720/favicon.ico" type="image/x-icon"/><meta name="generator" content="Astro v5.12.9"/><meta name="generator" content="Starlight v0.35.2"/><meta property="og:title" content="AsyncNode Plugin"/><meta property="og:type" content="article"/><meta property="og:url"/><meta property="og:locale" content="en"/><meta property="og:description"/><meta property="og:site_name" content="Player"/><meta name="twitter:card" content="summary_large_image"/><script>
	window.StarlightThemeProvider = (() => {
		const storedTheme =
			typeof localStorage !== 'undefined' && localStorage.getItem('starlight-theme');
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
		document.documentElement.dataset.theme = theme === 'light' ? 'light' : 'dark';
		return {
			updatePickers(theme = storedTheme || 'auto') {
				document.querySelectorAll('starlight-theme-select').forEach((picker) => {
					const select = picker.querySelector('select');
					if (select) select.value = theme;
					/** @type {HTMLTemplateElement | null} */
					const tmpl = document.querySelector(`#theme-icons`);
					const newIcon = tmpl && tmpl.content.querySelector('.' + theme);
					if (newIcon) {
						const oldIcon = picker.querySelector('svg.label-icon');
						if (oldIcon) {
							oldIcon.replaceChildren(...newIcon.cloneNode(true).childNodes);
						}
					}
				});
			},
		};
	})();
</script><template id="theme-icons"><svg aria-hidden="true" class="light astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h1a1 1 0 0 0 1-1Zm.64 5-.71.71a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l.71-.71A1 1 0 0 0 5.64 17ZM12 5a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v1a1 1 0 0 0 1 1Zm5.66 2.34a1 1 0 0 0 .7-.29l.71-.71a1 1 0 1 0-1.41-1.41l-.66.71a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.29Zm-12-.29a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.71-.71a1.004 1.004 0 1 0-1.43 1.41l.73.71ZM21 11h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2Zm-2.64 6A1 1 0 0 0 17 18.36l.71.71a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.76-.66ZM12 6.5a5.5 5.5 0 1 0 5.5 5.5A5.51 5.51 0 0 0 12 6.5Zm0 9a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm0 3.5a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1a1 1 0 0 0-1-1Z"/></svg><svg aria-hidden="true" class="dark astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.64 13a1 1 0 0 0-1.05-.14 8.049 8.049 0 0 1-3.37.73 8.15 8.15 0 0 1-8.14-8.1 8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05Zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27a10.15 10.15 0 0 0 10.14 10.14 9.784 9.784 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32v-.04Z"/></svg><svg aria-hidden="true" class="auto astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg></template><link rel="stylesheet" href="/pr/720/_astro/print.BOqcyqY-.css" media="print"><link rel="stylesheet" href="/pr/720/_astro/dsl-content-playground.lvxOhOxF.css">
<style>@layer starlight.components{:root{--sl-badge-default-border: var(--sl-color-accent);--sl-badge-default-bg: var(--sl-color-accent-low);--sl-badge-default-text: #fff;--sl-badge-note-border: var(--sl-color-blue);--sl-badge-note-bg: var(--sl-color-blue-low);--sl-badge-note-text: #fff;--sl-badge-danger-border: var(--sl-color-red);--sl-badge-danger-bg: var(--sl-color-red-low);--sl-badge-danger-text: #fff;--sl-badge-success-border: var(--sl-color-green);--sl-badge-success-bg: var(--sl-color-green-low);--sl-badge-success-text: #fff;--sl-badge-caution-border: var(--sl-color-orange);--sl-badge-caution-bg: var(--sl-color-orange-low);--sl-badge-caution-text: #fff;--sl-badge-tip-border: var(--sl-color-purple);--sl-badge-tip-bg: var(--sl-color-purple-low);--sl-badge-tip-text: #fff}[data-theme=light]:root{--sl-badge-default-bg: var(--sl-color-accent-high);--sl-badge-note-bg: var(--sl-color-blue-high);--sl-badge-danger-bg: var(--sl-color-red-high);--sl-badge-success-bg: var(--sl-color-green-high);--sl-badge-caution-bg: var(--sl-color-orange-high);--sl-badge-tip-bg: var(--sl-color-purple-high)}.sl-badge:where(.astro-esxpk2om){display:inline-block;border:1px solid var(--sl-color-border-badge);border-radius:.25rem;font-family:var(--sl-font-system-mono);line-height:normal;color:var(--sl-color-text-badge);background-color:var(--sl-color-bg-badge);overflow-wrap:anywhere}.sidebar-content .sl-badge:where(.astro-esxpk2om){line-height:1;font-size:var(--sl-text-xs);padding:.125rem .375rem}.sidebar-content a[aria-current=page]>.sl-badge:where(.astro-esxpk2om){--sl-color-bg-badge: transparent;--sl-color-border-badge: currentColor;color:inherit}.default:where(.astro-esxpk2om){--sl-color-bg-badge: var(--sl-badge-default-bg);--sl-color-border-badge: var(--sl-badge-default-border);--sl-color-text-badge: var(--sl-badge-default-text)}.note:where(.astro-esxpk2om){--sl-color-bg-badge: var(--sl-badge-note-bg);--sl-color-border-badge: var(--sl-badge-note-border);--sl-color-text-badge: var(--sl-badge-note-text)}.danger:where(.astro-esxpk2om){--sl-color-bg-badge: var(--sl-badge-danger-bg);--sl-color-border-badge: var(--sl-badge-danger-border);--sl-color-text-badge: var(--sl-badge-danger-text)}.success:where(.astro-esxpk2om){--sl-color-bg-badge: var(--sl-badge-success-bg);--sl-color-border-badge: var(--sl-badge-success-border);--sl-color-text-badge: var(--sl-badge-success-text)}.tip:where(.astro-esxpk2om){--sl-color-bg-badge: var(--sl-badge-tip-bg);--sl-color-border-badge: var(--sl-badge-tip-border);--sl-color-text-badge: var(--sl-badge-tip-text)}.caution:where(.astro-esxpk2om){--sl-color-bg-badge: var(--sl-badge-caution-bg);--sl-color-border-badge: var(--sl-badge-caution-border);--sl-color-text-badge: var(--sl-badge-caution-text)}.small:where(.astro-esxpk2om){font-size:var(--sl-text-xs);padding:.125rem .25rem}.medium:where(.astro-esxpk2om){font-size:var(--sl-text-sm);padding:.175rem .35rem}.large:where(.astro-esxpk2om){font-size:var(--sl-text-base);padding:.225rem .45rem}.sl-markdown-content :is(h1,h2,h3,h4,h5,h6) .sl-badge:where(.astro-esxpk2om){vertical-align:middle}}
@layer starlight.components{.card-grid:where(.astro-pxhb2yxk){display:grid;grid-template-columns:100%;gap:1rem}.card-grid:where(.astro-pxhb2yxk)>*{margin-top:0!important}@media (min-width: 50rem){.card-grid:where(.astro-pxhb2yxk){grid-template-columns:1fr 1fr;gap:1.5rem}.stagger:where(.astro-pxhb2yxk){--stagger-height: 5rem;padding-bottom:var(--stagger-height)}.stagger:where(.astro-pxhb2yxk)>*:nth-child(2n){transform:translateY(var(--stagger-height))}}}
@layer starlight.components{.card:where(.astro-bqzlusdk){--sl-card-border: var(--sl-color-purple);--sl-card-bg: var(--sl-color-purple-low);border:1px solid var(--sl-color-gray-5);background-color:var(--sl-color-black);padding:clamp(1rem,calc(.125rem + 3vw),2.5rem);flex-direction:column;gap:clamp(.5rem,calc(.125rem + 1vw),1rem)}.card:where(.astro-bqzlusdk):nth-child(4n+1){--sl-card-border: var(--sl-color-orange);--sl-card-bg: var(--sl-color-orange-low)}.card:where(.astro-bqzlusdk):nth-child(4n+3){--sl-card-border: var(--sl-color-green);--sl-card-bg: var(--sl-color-green-low)}.card:where(.astro-bqzlusdk):nth-child(4n+4){--sl-card-border: var(--sl-color-red);--sl-card-bg: var(--sl-color-red-low)}.card:where(.astro-bqzlusdk):nth-child(4n+5){--sl-card-border: var(--sl-color-blue);--sl-card-bg: var(--sl-color-blue-low)}.title:where(.astro-bqzlusdk){font-weight:600;font-size:var(--sl-text-h4);color:var(--sl-color-white);line-height:var(--sl-line-height-headings);gap:1rem;align-items:center}.card:where(.astro-bqzlusdk) .icon:where(.astro-bqzlusdk){border:1px solid var(--sl-card-border);background-color:var(--sl-card-bg);padding:.2em;border-radius:.25rem;flex-shrink:0}.card:where(.astro-bqzlusdk) .body:where(.astro-bqzlusdk){margin:0;font-size:clamp(var(--sl-text-sm),calc(.5rem + 1vw),var(--sl-text-body))}}
@layer starlight.components{svg:where(.astro-igj36mgr){color:var(--sl-icon-color);font-size:var(--sl-icon-size, 1em);width:1em;height:1em}}
@layer starlight.components{starlight-tabs:where(.astro-eymk54ea){display:block}.tablist-wrapper:where(.astro-eymk54ea){overflow-x:auto}:where(.astro-eymk54ea)[role=tablist]{display:flex;list-style:none;border-bottom:2px solid var(--sl-color-gray-5);padding:0}.tab:where(.astro-eymk54ea){margin-bottom:-2px}.tab:where(.astro-eymk54ea)>:where(.astro-eymk54ea)[role=tab]{display:flex;align-items:center;gap:.5rem;padding:0 1.25rem;text-decoration:none;border-bottom:2px solid var(--sl-color-gray-5);color:var(--sl-color-gray-3);outline-offset:var(--sl-outline-offset-inside);overflow-wrap:initial}.tab:where(.astro-eymk54ea) :where(.astro-eymk54ea)[role=tab][aria-selected=true]{color:var(--sl-color-white);border-color:var(--sl-color-text-accent);font-weight:600}.tablist-wrapper:where(.astro-eymk54ea)~[role=tabpanel]{margin-top:1rem}}
@layer starlight.components{.sl-steps{--bullet-size: calc(var(--sl-line-height) * 1rem);--bullet-margin: .375rem;list-style:none;counter-reset:steps-counter var(--sl-steps-start, 0);padding-inline-start:0}.sl-steps>li{counter-increment:steps-counter;position:relative;padding-inline-start:calc(var(--bullet-size) + 1rem);padding-bottom:1px;min-height:calc(var(--bullet-size) + var(--bullet-margin))}.sl-steps>li+li{margin-top:0}.sl-steps>li:before{content:counter(steps-counter);position:absolute;top:0;inset-inline-start:0;width:var(--bullet-size);height:var(--bullet-size);line-height:var(--bullet-size);font-size:var(--sl-text-xs);font-weight:600;text-align:center;color:var(--sl-color-white);background-color:var(--sl-color-gray-6);border-radius:99rem;box-shadow:inset 0 0 0 1px var(--sl-color-gray-5)}.sl-steps>li:after{--guide-width: 1px;content:"";position:absolute;top:calc(var(--bullet-size) + var(--bullet-margin));bottom:var(--bullet-margin);inset-inline-start:calc((var(--bullet-size) - var(--guide-width)) / 2);width:var(--guide-width);background-color:var(--sl-color-hairline-light)}}@layer starlight.content{.sl-steps>li>:first-child{--lh: calc(1em * var(--sl-line-height));--shift-y: calc(.5 * (var(--bullet-size) - var(--lh)));transform:translateY(var(--shift-y));margin-bottom:var(--shift-y)}.sl-steps>li>:first-child:where(h1,h2,h3,h4,h5,h6){--lh: calc(1em * var(--sl-line-height-headings))}@supports (--prop: 1lh){.sl-steps>li>:first-child{--lh: 1lh}}}
@layer starlight.components{.sl-link-button:where(.astro-e6ht7re6){align-items:center;border:1px solid transparent;border-radius:999rem;display:inline-flex;font-size:var(--sl-text-sm);gap:.5em;line-height:1.1875;outline-offset:.25rem;padding:.4375rem 1.125rem;text-decoration:none}.sl-link-button:where(.astro-e6ht7re6).primary{background:var(--sl-color-text-accent);border-color:var(--sl-color-text-accent);color:var(--sl-color-black)}.sl-link-button:where(.astro-e6ht7re6).primary:hover{color:var(--sl-color-black)}.sl-link-button:where(.astro-e6ht7re6).secondary{border-color:inherit;color:var(--sl-color-white)}.sl-link-button:where(.astro-e6ht7re6).minimal{color:var(--sl-color-white);padding-inline:0}.sl-link-button:where(.astro-e6ht7re6) svg{flex-shrink:0}@media (min-width: 50rem){.sl-link-button:where(.astro-e6ht7re6){font-size:var(--sl-text-base);padding:.9375rem 1.25rem}}.sl-markdown-content .sl-link-button:where(.astro-e6ht7re6){margin-inline-end:1rem}.sl-markdown-content .sl-link-button:where(.astro-e6ht7re6):not(:where(p *)){margin-block:1rem}}
</style>
<link rel="stylesheet" href="/pr/720/_astro/PlayerPreview.FgoiL6xE.css"><script type="module" src="/pr/720/_astro/page.7qqag-5g.js"></script><style>.card:where(.astro-ya25bz2t){padding:1rem;border:1px solid var(--sl-color-gray-5)}
</style></head> <body class="astro-wizzbz2n"> <a href="#_top" class="astro-xkseqonn">Skip to content</a>  <div class="page sl-flex astro-lsljmdwx"> <header class="header astro-lsljmdwx"><div class="header astro-z6gwwyvd"> <div class="title-wrapper sl-flex astro-z6gwwyvd"> <a href="/pr/720/" class="site-title sl-flex astro-kl2n4lcu">  <img class="light:sl-hidden print:hidden astro-kl2n4lcu" alt src="/pr/720/_astro/logo-dark-large.BVfeRCvY.png" width="498" height="131"> <img class="dark:sl-hidden print:block astro-kl2n4lcu" alt src="/pr/720/_astro/logo-light-large.aXhJk181.png" width="497" height="132"> <span class="sr-only astro-kl2n4lcu" translate="no"> Player </span> </a>  </div> <div class="sl-flex print:hidden astro-z6gwwyvd"> <sl-doc-search data-translations="{&#34;placeholder&#34;:&#34;Search&#34;,&#34;translations&#34;:{&#34;button&#34;:{&#34;buttonText&#34;:&#34;Search&#34;,&#34;buttonAriaLabel&#34;:&#34;Search&#34;},&#34;modal&#34;:{&#34;searchBox&#34;:{},&#34;startScreen&#34;:{},&#34;errorScreen&#34;:{},&#34;footer&#34;:{},&#34;noResultsScreen&#34;:{}}}}"> <button type="button" class="DocSearch DocSearch-Button" aria-label="Search"> <span class="DocSearch-Button-Container"> <svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"> <path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path> </svg> <span class="DocSearch-Button-Placeholder">Search</span> </span> <span class="DocSearch-Button-Keys"></span> </button> </sl-doc-search>  <script type="module" src="/pr/720/_astro/DocSearch.astro_astro_type_script_index_0_lang.BejZ1KR7.js"></script> </div> <div class="sl-hidden md:sl-flex print:hidden right-group astro-z6gwwyvd"> <div class="sl-flex social-icons astro-z6gwwyvd"> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="4fprc" component-url="/pr/720/_astro/VersionSelector.DICdK5_W.js" component-export="default" renderer-url="/pr/720/_astro/client.BI4O7k-G.js" props="{&quot;route&quot;:[0,&quot;plugins/multiplatform/async-node&quot;],&quot;class&quot;:[0,&quot;astro-ymhdp2rl&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;VersionSelector&quot;,&quot;value&quot;:&quot;react&quot;}"></astro-island><a href="https://github.com/player-ui/player" rel="me" class="sl-flex astro-ewycgniz"><span class="sr-only astro-ewycgniz">GitHub</span><svg aria-hidden="true" class="astro-ewycgniz astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg></a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-zklzlsoa"> <span class="sr-only astro-zklzlsoa">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-zklzlsoa astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> <select value="auto" autocomplete="off" class="astro-zklzlsoa"> <option value="dark" class="astro-zklzlsoa">Dark</option><option value="light" class="astro-zklzlsoa">Light</option><option value="auto" selected class="astro-zklzlsoa">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-zklzlsoa astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script> <script type="module">const r="starlight-theme",o=e=>e==="auto"||e==="dark"||e==="light"?e:"auto",c=()=>o(typeof localStorage<"u"&&localStorage.getItem(r));function n(e){typeof localStorage<"u"&&localStorage.setItem(r,e==="light"||e==="dark"?e:"")}const l=()=>matchMedia("(prefers-color-scheme: light)").matches?"light":"dark";function t(e){StarlightThemeProvider.updatePickers(e),document.documentElement.dataset.theme=e==="auto"?l():e,n(e)}matchMedia("(prefers-color-scheme: light)").addEventListener("change",()=>{c()==="auto"&&t("auto")});class s extends HTMLElement{constructor(){super(),t(c()),this.querySelector("select")?.addEventListener("change",a=>{a.currentTarget instanceof HTMLSelectElement&&t(o(a.currentTarget.value))})}}customElements.define("starlight-theme-select",s);</script> <script type="module">class s extends HTMLElement{constructor(){super();const e=this.querySelector("select");e&&(e.addEventListener("change",t=>{t.currentTarget instanceof HTMLSelectElement&&(window.location.pathname=t.currentTarget.value)}),window.addEventListener("pageshow",t=>{if(!t.persisted)return;const n=e.querySelector("option[selected]")?.index;n!==e.selectedIndex&&(e.selectedIndex=n??0)}))}}customElements.define("starlight-lang-select",s);</script> </div> </div> </header> <nav class="sidebar print:hidden astro-lsljmdwx" aria-label="Main"> <starlight-menu-button class="print:hidden astro-yasz6asb"> <button aria-expanded="false" aria-label="Menu" aria-controls="starlight__sidebar" class="sl-flex md:sl-hidden astro-yasz6asb"> <svg aria-hidden="true" class="open-menu astro-yasz6asb astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"/></svg> <svg aria-hidden="true" class="close-menu astro-yasz6asb astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="m13.41 12 6.3-6.29a1.004 1.004 0 1 0-1.42-1.42L12 10.59l-6.29-6.3a1.004 1.004 0 0 0-1.42 1.42l6.3 6.29-6.3 6.29a1 1 0 0 0 0 1.42.998.998 0 0 0 1.42 0l6.29-6.3 6.29 6.3a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.42L13.41 12Z"/></svg> </button> </starlight-menu-button> <script type="module">class s extends HTMLElement{constructor(){super(),this.btn=this.querySelector("button"),this.btn.addEventListener("click",()=>this.toggleExpanded());const t=this.closest("nav");t&&t.addEventListener("keyup",e=>this.closeOnEscape(e))}setExpanded(t){this.setAttribute("aria-expanded",String(t)),document.body.toggleAttribute("data-mobile-menu-expanded",t)}toggleExpanded(){this.setExpanded(this.getAttribute("aria-expanded")!=="true")}closeOnEscape(t){t.code==="Escape"&&(this.setExpanded(!1),this.btn.focus())}}customElements.define("starlight-menu-button",s);</script>   <div id="starlight__sidebar" class="sidebar-pane astro-lsljmdwx"> <div class="sidebar-content sl-flex astro-lsljmdwx"> <tabbed-content class="tabbed-sidebar astro-ssfzsv2f"> <ul class="tab-list astro-wizzbz2n astro-ssfzsv2f">  <li class="astro-ssfzsv2f"> <a class="tab-item astro-ssfzsv2f" href="/pr/720/player/about/" role="tab"> <svg aria-hidden="true" class="icon astro-ssfzsv2f astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12.000 23.802L12.000 23.802Q8.808 23.802 6.078 22.185Q3.348 20.568 1.752 17.838L1.752 17.838Q0.114 15.024 0.198 11.748L0.198 11.748Q0.240 8.598 1.836 5.952Q3.432 3.306 6.078 1.794L6.078 1.794Q8.850 0.198 12.126 0.198L12.126 0.198Q15.318 0.198 18.027 1.815Q20.736 3.432 22.290 6.162L22.290 6.162Q23.886 8.976 23.802 12.252L23.802 12.252Q23.760 15.360 22.143 18.027Q20.526 20.694 17.880 22.206L17.880 22.206Q15.150 23.802 12.000 23.802ZM7.800 4.650L7.800 4.650L7.800 19.224L7.926 19.224L18.552 12.126L18.678 12Q18.678 12 18.552 12L18.552 12Q11.496 7.254 7.800 4.902L7.800 4.902Q7.884 4.818 7.884 4.734Q7.884 4.650 7.800 4.650Z"/></svg> Player </a> </li><li class="astro-ssfzsv2f"> <a class="tab-item current astro-ssfzsv2f" href="/pr/720/plugins/" role="tab"> <svg aria-hidden="true" class="icon astro-ssfzsv2f astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 22H5a3 3 0 0 1-3-3V9a3 3 0 0 1 3-3h1a4 4 0 0 1 7.3-2.18c.448.64.692 1.4.7 2.18h3a1 1 0 0 1 1 1v3a4 4 0 0 1 2.18 7.3A3.86 3.86 0 0 1 18 18v3a1 1 0 0 1-1 1ZM5 8a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11v-3.18a1 1 0 0 1 1.33-.95 1.77 1.77 0 0 0 1.74-.23 2 2 0 0 0 .93-1.37 2 2 0 0 0-.48-1.59 1.89 1.89 0 0 0-2.17-.55 1 1 0 0 1-1.33-.95V8h-3.2a1 1 0 0 1-1-1.33 1.77 1.77 0 0 0-.23-1.74 1.939 1.939 0 0 0-3-.43A2 2 0 0 0 8 6c.002.23.046.456.13.67A1 1 0 0 1 7.18 8H5Z"/></svg> Plugins </a> </li><li class="astro-ssfzsv2f"> <a class="tab-item astro-ssfzsv2f" href="/pr/720/tools/view-ast-explorer" role="tab"> <svg aria-hidden="true" class="icon astro-ssfzsv2f astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="m21.32 9.55-1.89-.63.89-1.78A1 1 0 0 0 20.13 6L18 3.87a1 1 0 0 0-1.15-.19l-1.78.89-.63-1.89A1 1 0 0 0 13.5 2h-3a1 1 0 0 0-.95.68l-.63 1.89-1.78-.89A1 1 0 0 0 6 3.87L3.87 6a1 1 0 0 0-.19 1.15l.89 1.78-1.89.63a1 1 0 0 0-.68.94v3a1 1 0 0 0 .68.95l1.89.63-.89 1.78A1 1 0 0 0 3.87 18L6 20.13a1 1 0 0 0 1.15.19l1.78-.89.63 1.89a1 1 0 0 0 .95.68h3a1 1 0 0 0 .95-.68l.63-1.89 1.78.89a1 1 0 0 0 1.13-.19L20.13 18a1 1 0 0 0 .19-1.15l-.89-1.78 1.89-.63a1 1 0 0 0 .68-.94v-3a1 1 0 0 0-.68-.95ZM20 12.78l-1.2.4A2 2 0 0 0 17.64 16l.57 1.14-1.1 1.1-1.11-.6a2 2 0 0 0-2.79 1.16l-.4 1.2h-1.59l-.4-1.2A2 2 0 0 0 8 17.64l-1.14.57-1.1-1.1.6-1.11a2 2 0 0 0-1.16-2.82l-1.2-.4v-1.56l1.2-.4A2 2 0 0 0 6.36 8l-.57-1.11 1.1-1.1L8 6.36a2 2 0 0 0 2.82-1.16l.4-1.2h1.56l.4 1.2A2 2 0 0 0 16 6.36l1.14-.57 1.1 1.1-.6 1.11a2 2 0 0 0 1.16 2.79l1.2.4v1.59ZM12 8a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm0 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4Z"/></svg> Tools </a> </li>  </ul> </tabbed-content> <!-- Render the sidebar with filtered data using the Default component --> <sl-sidebar-state-persist data-hash="0njol63" class="astro-432yn3ku"> <script aria-hidden="true">
		(() => {
			try {
				if (!matchMedia('(min-width: 50em)').matches) return;
				/** @type {HTMLElement | null} */
				const target = document.querySelector('sl-sidebar-state-persist');
				const state = JSON.parse(sessionStorage.getItem('sl-sidebar-state') || '0');
				if (!target || !state || target.dataset.hash !== state.hash) return;
				window._starlightScrollRestore = state.scroll;
				customElements.define(
					'sl-sidebar-restore',
					class SidebarRestore extends HTMLElement {
						connectedCallback() {
							try {
								const idx = parseInt(this.dataset.index || '');
								const details = this.closest('details');
								if (details && typeof state.open[idx] === 'boolean') details.open = state.open[idx];
							} catch {}
						}
					}
				);
			} catch {}
		})();
	</script>  <ul class="top-level astro-oc5b5jgd"> <li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/" aria-current="false" class="large astro-oc5b5jgd"> <span class="astro-oc5b5jgd">Plugins Overview</span>  </a> </li><li class="astro-oc5b5jgd"> <details open class="astro-oc5b5jgd"> <sl-sidebar-restore data-index="0"></sl-sidebar-restore> <summary class="astro-oc5b5jgd"> <div class="group-label astro-oc5b5jgd"> <span class="large astro-oc5b5jgd">Android/JVM Plugins</span>  </div> <svg aria-hidden="true" class="caret astro-oc5b5jgd astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <ul class="astro-oc5b5jgd"> <li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/android/coroutines/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">Coroutines</span>  </a> </li><li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/android/set-timeout/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">SetTimeout Plugin</span>  </a> </li> </ul>  </details> </li><li class="astro-oc5b5jgd"> <details open class="astro-oc5b5jgd"> <sl-sidebar-restore data-index="1"></sl-sidebar-restore> <summary class="astro-oc5b5jgd"> <div class="group-label astro-oc5b5jgd"> <span class="large astro-oc5b5jgd">Core Plugins</span>  </div> <svg aria-hidden="true" class="caret astro-oc5b5jgd astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <ul class="astro-oc5b5jgd"> <li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/core/asset-transform/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">Asset Transform</span>  </a> </li><li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/core/common-expressions/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">Common Expressions</span>  </a> </li><li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/core/common-types/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">Common Types</span>  </a> </li><li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/core/computed-properties/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">Computed Properties</span>  </a> </li><li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/core/data-change-listener/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">Data Change Listener</span>  </a> </li><li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/core/data-filter/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">Data Filter</span>  </a> </li><li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/core/expression/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">Expression</span>  </a> </li><li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/core/markdown/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">Markdown</span>  </a> </li><li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/core/meta/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">Meta</span>  </a> </li><li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/core/stage-revert-data/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">Stage Revert Data</span>  </a> </li><li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/core/types-provider/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">Types Provider</span>  </a> </li> </ul>  </details> </li><li class="astro-oc5b5jgd"> <details open class="astro-oc5b5jgd"> <sl-sidebar-restore data-index="2"></sl-sidebar-restore> <summary class="astro-oc5b5jgd"> <div class="group-label astro-oc5b5jgd"> <span class="large astro-oc5b5jgd">iOS Plugins</span>  </div> <svg aria-hidden="true" class="caret astro-oc5b5jgd astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <ul class="astro-oc5b5jgd"> <li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/ios/external-action-view-modifier/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">External Action View Modifier</span>  </a> </li><li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/ios/swiftui-pending-transaction/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">SwiftUIPendingTransactionPlugin</span>  </a> </li><li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/ios/transition/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">Transition Plugin</span>  </a> </li> </ul>  </details> </li><li class="astro-oc5b5jgd"> <details open class="astro-oc5b5jgd"> <sl-sidebar-restore data-index="3"></sl-sidebar-restore> <summary class="astro-oc5b5jgd"> <div class="group-label astro-oc5b5jgd"> <span class="large astro-oc5b5jgd">Language Plugins</span>  </div> <svg aria-hidden="true" class="caret astro-oc5b5jgd astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <ul class="astro-oc5b5jgd"> <li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/language/complexity-check/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">Complexity Check Plugin</span>  </a> </li><li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/language/metrics-output/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">Metrics Output Plugin</span>  </a> </li> </ul>  </details> </li><li class="astro-oc5b5jgd"> <details open class="astro-oc5b5jgd"> <sl-sidebar-restore data-index="4"></sl-sidebar-restore> <summary class="astro-oc5b5jgd"> <div class="group-label astro-oc5b5jgd"> <span class="large astro-oc5b5jgd">React Plugins</span>  </div> <svg aria-hidden="true" class="caret astro-oc5b5jgd astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <ul class="astro-oc5b5jgd"> <li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/react/auto-scroll-manager/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">Auto Scroll Manager Plugin</span>  </a> </li> </ul>  </details> </li><li class="astro-oc5b5jgd"> <details open class="astro-oc5b5jgd"> <sl-sidebar-restore data-index="5"></sl-sidebar-restore> <summary class="astro-oc5b5jgd"> <div class="group-label astro-oc5b5jgd"> <span class="large astro-oc5b5jgd">Multiplatform Plugins</span>  </div> <svg aria-hidden="true" class="caret astro-oc5b5jgd astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <ul class="astro-oc5b5jgd"> <li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/multiplatform/asset-provider/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">Asset Provider Plugin</span>  </a> </li><li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/multiplatform/async-node/" aria-current="page" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">AsyncNode Plugin</span>  </a> </li><li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/multiplatform/beacon/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">Beacon Plugin</span>  </a> </li><li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/multiplatform/check-path/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">Check Path Plugin</span>  </a> </li><li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/multiplatform/console-logger/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">Console Logger</span>  </a> </li><li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/multiplatform/external-action/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">External Action</span>  </a> </li><li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/multiplatform/metrics/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">Metrics</span>  </a> </li><li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/multiplatform/partial-match-fingerprint/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">Partial Match</span>  </a> </li><li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/multiplatform/pub-sub/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">PubSub</span>  </a> </li><li class="astro-oc5b5jgd"> <a href="/pr/720/plugins/multiplatform/shared-constants/" aria-current="false" class="astro-oc5b5jgd"> <span class="astro-oc5b5jgd">Shared Constants</span>  </a> </li> </ul>  </details> </li> </ul>   <script aria-hidden="true">
		(() => {
			const scroller = document.getElementById('starlight__sidebar');
			if (!window._starlightScrollRestore || !scroller) return;
			scroller.scrollTop = window._starlightScrollRestore;
			delete window._starlightScrollRestore;
		})();
	</script> </sl-sidebar-state-persist>  <div class="md:sl-hidden"> <div class="mobile-preferences sl-flex astro-x4aa336z"> <div class="social-icons astro-x4aa336z"> <astro-island uid="4fprc" component-url="/pr/720/_astro/VersionSelector.DICdK5_W.js" component-export="default" renderer-url="/pr/720/_astro/client.BI4O7k-G.js" props="{&quot;route&quot;:[0,&quot;plugins/multiplatform/async-node&quot;],&quot;class&quot;:[0,&quot;astro-ymhdp2rl&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;VersionSelector&quot;,&quot;value&quot;:&quot;react&quot;}"></astro-island><a href="https://github.com/player-ui/player" rel="me" class="sl-flex astro-ewycgniz"><span class="sr-only astro-ewycgniz">GitHub</span><svg aria-hidden="true" class="astro-ewycgniz astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg></a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-zklzlsoa"> <span class="sr-only astro-zklzlsoa">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-zklzlsoa astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> <select value="auto" autocomplete="off" class="astro-zklzlsoa"> <option value="dark" class="astro-zklzlsoa">Dark</option><option value="light" class="astro-zklzlsoa">Light</option><option value="auto" selected class="astro-zklzlsoa">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-zklzlsoa astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div>  </div> </div> </div> </nav> <div class="main-frame astro-lsljmdwx">  <script type="module">const a=document.getElementById("starlight__sidebar"),n=a?.querySelector("sl-sidebar-state-persist"),o="sl-sidebar-state",i=()=>{let t=[];const e=n?.dataset.hash||"";try{const s=sessionStorage.getItem(o),r=JSON.parse(s||"{}");Array.isArray(r.open)&&r.hash===e&&(t=r.open)}catch{}return{hash:e,open:t,scroll:a?.scrollTop||0}},c=t=>{try{sessionStorage.setItem(o,JSON.stringify(t))}catch{}},d=()=>c(i()),l=(t,e)=>{const s=i();s.open[e]=t,c(s)};n?.addEventListener("click",t=>{if(!(t.target instanceof Element))return;const e=t.target.closest("summary")?.closest("details");if(!e)return;const s=e.querySelector("sl-sidebar-restore"),r=parseInt(s?.dataset.index||"");isNaN(r)||l(!e.open,r)});addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&d()});addEventListener("pageHide",d);</script> <div class="lg:sl-flex astro-fvgxaocg"> <aside class="right-sidebar-container print:hidden astro-fvgxaocg"> <div class="right-sidebar astro-fvgxaocg"> <div class="lg:sl-hidden astro-mwmtgkws"><mobile-starlight-toc data-min-h="2" data-max-h="3" class="astro-wlrriyiq"><nav aria-labelledby="starlight__on-this-page--mobile" class="astro-wlrriyiq"><details id="starlight__mobile-toc" class="astro-wlrriyiq"><summary id="starlight__on-this-page--mobile" class="sl-flex astro-wlrriyiq"><div class="toggle sl-flex astro-wlrriyiq">On this page<svg aria-hidden="true" class="caret astro-wlrriyiq astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg></div><span class="display-current astro-wlrriyiq"></span></summary><div class="dropdown astro-wlrriyiq"><ul class="isMobile astro-5zbs4usk" style="--depth: 0;"> <li class="astro-5zbs4usk" style="--depth: 0;"> <a href="#_top" class="astro-5zbs4usk" style="--depth: 0;"> <span class="astro-5zbs4usk" style="--depth: 0;">Overview</span> </a> <ul class="isMobile astro-5zbs4usk" style="--depth: 1;"> <li class="astro-5zbs4usk" style="--depth: 1;"> <a href="#continuous-streaming" class="astro-5zbs4usk" style="--depth: 1;"> <span class="astro-5zbs4usk" style="--depth: 1;">Continuous Streaming</span> </a>  </li> </ul>  </li><li class="astro-5zbs4usk" style="--depth: 0;"> <a href="#usage" class="astro-5zbs4usk" style="--depth: 0;"> <span class="astro-5zbs4usk" style="--depth: 0;">Usage</span> </a> <ul class="isMobile astro-5zbs4usk" style="--depth: 1;"> <li class="astro-5zbs4usk" style="--depth: 1;"> <a href="#error-handling" class="astro-5zbs4usk" style="--depth: 1;"> <span class="astro-5zbs4usk" style="--depth: 1;">Error Handling</span> </a>  </li><li class="astro-5zbs4usk" style="--depth: 1;"> <a href="#cocoapods" class="astro-5zbs4usk" style="--depth: 1;"> <span class="astro-5zbs4usk" style="--depth: 1;">CocoaPods</span> </a>  </li><li class="astro-5zbs4usk" style="--depth: 1;"> <a href="#swift-usage" class="astro-5zbs4usk" style="--depth: 1;"> <span class="astro-5zbs4usk" style="--depth: 1;">Swift Usage</span> </a>  </li><li class="astro-5zbs4usk" style="--depth: 1;"> <a href="#asynctransform" class="astro-5zbs4usk" style="--depth: 1;"> <span class="astro-5zbs4usk" style="--depth: 1;">AsyncTransform</span> </a>  </li><li class="astro-5zbs4usk" style="--depth: 1;"> <a href="#flatten" class="astro-5zbs4usk" style="--depth: 1;"> <span class="astro-5zbs4usk" style="--depth: 1;">Flatten</span> </a>  </li> </ul>  </li> </ul> </div></details></nav></mobile-starlight-toc><script type="module" src="/pr/720/_astro/MobileTableOfContents.astro_astro_type_script_index_0_lang.C181hMzK.js"></script></div><div class="right-sidebar-panel sl-hidden lg:sl-block astro-mwmtgkws"><div class="sl-container astro-mwmtgkws"><starlight-toc data-min-h="2" data-max-h="3"><nav aria-labelledby="starlight__on-this-page"><h2 id="starlight__on-this-page">On this page</h2><ul class="astro-5zbs4usk" style="--depth: 0;"> <li class="astro-5zbs4usk" style="--depth: 0;"> <a href="#_top" class="astro-5zbs4usk" style="--depth: 0;"> <span class="astro-5zbs4usk" style="--depth: 0;">Overview</span> </a> <ul class="astro-5zbs4usk" style="--depth: 1;"> <li class="astro-5zbs4usk" style="--depth: 1;"> <a href="#continuous-streaming" class="astro-5zbs4usk" style="--depth: 1;"> <span class="astro-5zbs4usk" style="--depth: 1;">Continuous Streaming</span> </a>  </li> </ul>  </li><li class="astro-5zbs4usk" style="--depth: 0;"> <a href="#usage" class="astro-5zbs4usk" style="--depth: 0;"> <span class="astro-5zbs4usk" style="--depth: 0;">Usage</span> </a> <ul class="astro-5zbs4usk" style="--depth: 1;"> <li class="astro-5zbs4usk" style="--depth: 1;"> <a href="#error-handling" class="astro-5zbs4usk" style="--depth: 1;"> <span class="astro-5zbs4usk" style="--depth: 1;">Error Handling</span> </a>  </li><li class="astro-5zbs4usk" style="--depth: 1;"> <a href="#cocoapods" class="astro-5zbs4usk" style="--depth: 1;"> <span class="astro-5zbs4usk" style="--depth: 1;">CocoaPods</span> </a>  </li><li class="astro-5zbs4usk" style="--depth: 1;"> <a href="#swift-usage" class="astro-5zbs4usk" style="--depth: 1;"> <span class="astro-5zbs4usk" style="--depth: 1;">Swift Usage</span> </a>  </li><li class="astro-5zbs4usk" style="--depth: 1;"> <a href="#asynctransform" class="astro-5zbs4usk" style="--depth: 1;"> <span class="astro-5zbs4usk" style="--depth: 1;">AsyncTransform</span> </a>  </li><li class="astro-5zbs4usk" style="--depth: 1;"> <a href="#flatten" class="astro-5zbs4usk" style="--depth: 1;"> <span class="astro-5zbs4usk" style="--depth: 1;">Flatten</span> </a>  </li> </ul>  </li> </ul> </nav></starlight-toc><script type="module" src="/pr/720/_astro/TableOfContents.astro_astro_type_script_index_0_lang.CKWWgpjV.js"></script></div></div> </div> </aside> <div class="main-pane astro-fvgxaocg">  <main data-pagefind-body class="astro-wizzbz2n" lang="en" dir="ltr">    <div class="content-panel astro-v4uk7qlg"> <div class="sl-container astro-v4uk7qlg"> <h1 id="_top" class="astro-yzophyvd">AsyncNode Plugin</h1>  </div> </div>  <div class="content-panel astro-v4uk7qlg"> <div class="sl-container astro-v4uk7qlg"> <div class="sl-markdown-content"> <p>The AsyncNode Plugin is used to enable streaming additional content into a flow that has already been loaded and rendered.<br>
A common use case for this plugin is conversational UI, as the users input more dialogue, new content must be streamed into Player in order to keep the UI up to date.</p>
<p>The pillar that makes this possible is the concept of an <code dir="auto">AsyncNode</code>. An <code dir="auto">AsyncNode</code> is any tree node with the property <code dir="auto">async: true</code>, it represents a placeholder node that will be replaced by a concrete node in the future. <code dir="auto">AsyncNode</code> is added to the AST tree during asset transform process(You can read more about what transform is <a href="/pr/720/assets/transforms">here</a>). In the example below, it shows the content and resolved result.</p>
<div class="sl-heading-wrapper level-h4"><h4 id="content-authoring">Content authoring:</h4><a class="sl-anchor-link" href="#content-authoring"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Content authoring:”</span></a></div>
<p>Value of <code dir="auto">chat-message</code> is the asset to render</p>
<ul>
<li>JSON content</li>
</ul>
<div class="expressive-code"><link rel="stylesheet" href="/pr/720/_astro/ec.v4551.css"><script type="module" src="/pr/720/_astro/ec.p1z7b.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="json"><code><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#7FDBCA;--1:#096E72">"id"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">chat-1</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#7FDBCA;--1:#096E72">"type"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">chat-message</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#7FDBCA;--1:#096E72">"value"</span><span style="--0:#D6DEEB;--1:#403F53">: {</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#7FDBCA;--1:#096E72">"id"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">text-1</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#7FDBCA;--1:#096E72">"type"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">text</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#7FDBCA;--1:#096E72">"value"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">chat message</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">        </span></span><span style="--0:#D6DEEB;--1:#403F53">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">},</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="      {        &#x22;id&#x22;: &#x22;chat-1&#x22;,        &#x22;type&#x22;: &#x22;chat-message&#x22;,        &#x22;value&#x22;: {          &#x22;id&#x22;: &#x22;text-1&#x22;,          &#x22;type&#x22;: &#x22;text&#x22;,          &#x22;value&#x22;: &#x22;chat message&#x22;,        },      },"><div></div></button></div></figure></div>
<ul>
<li>DSL</li>
</ul>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="typescript"><code><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#C792EA;--1:#8844AE">&#x3C;</span><span style="--0:#D6DEEB;--1:#403F53">ChatMessage id</span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">chat</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C792EA;--1:#8844AE">></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">&#x3C;</span><span style="--0:#D6DEEB;--1:#403F53">ChatMessage</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#7FDBCA;--1:#096E72">Value</span><span style="--0:#C792EA;--1:#8844AE">></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">&#x3C;</span><span style="--0:#FFCB8B;--1:#111111">Text</span><span style="--0:#D6DEEB;--1:#403F53">>Hello World</span><span style="--0:#C792EA;--1:#8844AE">!&#x3C;/</span><span style="--0:#D6DEEB;--1:#403F53">Text</span><span style="--0:#C792EA;--1:#8844AE">></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">&#x3C;/</span><span style="--0:#D6DEEB;--1:#403F53">ChatMessage</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#7FDBCA;--1:#096E72">Value</span><span style="--0:#C792EA;--1:#8844AE">></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#C792EA;--1:#8844AE">&#x3C;/</span><span style="--0:#D6DEEB;--1:#403F53">ChatMessage</span><span style="--0:#C792EA;--1:#8844AE">></span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="  <ChatMessage id=&#x22;chat&#x22;>    <ChatMessage.Value>      <Text>Hello World!</Text>    </ChatMessage.Value>  </ChatMessage>"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h4"><h4 id="resolved">Resolved</h4><a class="sl-anchor-link" href="#resolved"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Resolved”</span></a></div>
<p><code dir="auto">chat-message</code> asset is wrapped into a wrapper container with children including the <code dir="auto">Text</code> asset in value and an <code dir="auto">AsyncNode</code> in the associated asset transform before resolving.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="json"><code><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#7FDBCA;--1:#096E72">"id"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">collection-async-chat-1</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#7FDBCA;--1:#096E72">"type"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">collection</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#7FDBCA;--1:#096E72">"values"</span><span style="--0:#D6DEEB;--1:#403F53">: [</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">        </span></span><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#7FDBCA;--1:#096E72">"asset"</span><span style="--0:#D6DEEB;--1:#403F53">: {</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#7FDBCA;--1:#096E72">"id"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">1</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#7FDBCA;--1:#096E72">"type"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">text</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#7FDBCA;--1:#096E72">"value"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">chat message</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">          </span></span><span style="--0:#D6DEEB;--1:#403F53">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">        </span></span><span style="--0:#D6DEEB;--1:#403F53">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">],</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="    {      &#x22;id&#x22;: &#x22;collection-async-chat-1&#x22;,      &#x22;type&#x22;: &#x22;collection&#x22;,      &#x22;values&#x22;: [        {          &#x22;asset&#x22;: {            &#x22;id&#x22;: &#x22;1&#x22;,            &#x22;type&#x22;: &#x22;text&#x22;,            &#x22;value&#x22;: &#x22;chat message&#x22;,          },        },      ],    }"><div></div></button></div></figure></div>
<p>If there is no asset to display, there will be only one <code dir="auto">AsyncNode</code> in resolved result and no content will be rendered.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="json"><code><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#7FDBCA;--1:#096E72">"id"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">chat-1</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#7FDBCA;--1:#096E72">"type"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">chat-message</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">},</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="      {        &#x22;id&#x22;: &#x22;chat-1&#x22;,        &#x22;type&#x22;: &#x22;chat-message&#x22;,      },"><div></div></button></div></figure></div>
<p>The <code dir="auto">AsyncNodePlugin</code> exposes an <code dir="auto">onAsyncNode</code> hook on all platforms. The <code dir="auto">onAsyncNode</code> hook will be invoked with the current node when the plugin is available and an <code dir="auto">AsyncNode</code> is detected during the resolve process. The node used to call the hook with could contain metadata according to content spec.</p>
<p>User should tap into the <code dir="auto">onAsyncNode</code> hook to examine the node’s metadata before making a decision on what to replace the async node with. The return could be a single asset node or an array of asset nodes, or the return could be even a null|undefined if the async node is no longer relevant.</p>
<p>Returning a value in the above context enables uses cases where the async node only needs to be resolved once. For use cases where the async node needs to be updated multiple times, the onAsyncNode hook provides a second callback argument that can be used to update the value multiple times. For example, if the async node is used to represent some placeholder for toasts, or notifications, the async node handler could initially resolve with some content, and then update with null after some time to remove those views.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="continuous-streaming">Continuous Streaming</h3><a class="sl-anchor-link" href="#continuous-streaming"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Continuous Streaming”</span></a></div>
<p>In order to keep streaming in new content, there must be at least 1 or more <code dir="auto">AsyncNode</code>s in the view tree at all times.<br>
This means there must be a constant renewal of new <code dir="auto">AsyncNode</code>s after the previous ones are resolved by the user.</p>
<div class="sl-heading-wrapper level-h2"><h2 id="usage">Usage</h2><a class="sl-anchor-link" href="#usage"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Usage”</span></a></div>
<p>The <code dir="auto">AsyncNodePlugin</code> itself accepts an options object with a <code dir="auto">plugins</code> array, enabling the integration of multiple view plugins for extended functionality.
The <code dir="auto">AsyncNodePluginPlugin</code> is provided as a default way of handling asset-async nodes, it is just one handler for one possible way of using async nodes. If the default behavior does not align with the desired usage, users are able to provide their own implementation of the handler in the form of a plugin to be passed to the base <code dir="auto">AsyncNodePlugin</code>. The <code dir="auto">AsyncNodePluginPlugin</code> also comes from the <code dir="auto">'@player-ui/async-node-plugin'</code> and contains the resolver and parser functionality.</p>
<script>
(() => {
	class StarlightTabsRestore extends HTMLElement {
		connectedCallback() {
			const starlightTabs = this.closest('starlight-tabs');
			if (!(starlightTabs instanceof HTMLElement) || typeof localStorage === 'undefined') return;
			const syncKey = starlightTabs.dataset.syncKey;
			if (!syncKey) return;
			const label = localStorage.getItem(`starlight-synced-tabs__${syncKey}`);
			if (!label) return;
			const tabs = [...starlightTabs?.querySelectorAll('[role="tab"]')];
			const tabIndexToRestore = tabs.findIndex(
				(tab) => tab instanceof HTMLAnchorElement && tab.textContent?.trim() === label
			);
			const panels = starlightTabs?.querySelectorAll(':scope > [role="tabpanel"]');
			const newTab = tabs[tabIndexToRestore];
			const newPanel = panels[tabIndexToRestore];
			if (tabIndexToRestore < 1 || !newTab || !newPanel) return;
			tabs[0]?.setAttribute('aria-selected', 'false');
			tabs[0]?.setAttribute('tabindex', '-1');
			panels?.[0]?.setAttribute('hidden', 'true');
			newTab.removeAttribute('tabindex');
			newTab.setAttribute('aria-selected', 'true');
			newPanel.removeAttribute('hidden');
		}
	}
	customElements.define('starlight-tabs-restore', StarlightTabsRestore);
})()
</script><starlight-tabs data-sync-key="lang-type" class="astro-eymk54ea"> <div class="tablist-wrapper not-content astro-eymk54ea"> <ul role="tablist" class="astro-eymk54ea"> <li role="presentation" class="tab astro-eymk54ea"> <a role="tab" href="#tab-panel-125" id="tab-125" aria-selected="true" tabindex="0" class="astro-eymk54ea"> <svg aria-hidden="true" class="astro-eymk54ea astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5.376 14.300L5.376 3.352L9.286 3.352L9.286 14.300Q9.286 17.842 7.630 19.452L7.630 19.452Q6.112 20.924 3.076 20.924L3.076 20.924Q2.386 20.924 1.558 20.809Q0.730 20.694 0.224 20.464L0.224 20.464L0.638 17.336Q1.512 17.750 2.662 17.750L2.662 17.750Q3.950 17.750 4.594 17.060L4.594 17.060Q5.376 16.232 5.376 14.300L5.376 14.300ZM11.862 19.912L12.736 16.600Q13.564 17.060 14.668 17.382L14.668 17.382Q15.910 17.750 17.014 17.750L17.014 17.750Q18.394 17.750 19.084 17.267Q19.774 16.784 19.774 15.910Q19.774 15.036 19.130 14.507Q18.486 13.978 16.876 13.426L16.876 13.426Q12.138 11.770 12.138 8.274L12.138 8.274Q12.138 5.974 13.909 4.525Q15.680 3.076 18.762 3.076L18.762 3.076Q21.200 3.076 23.224 3.950L23.224 3.950L22.350 7.124L22.074 6.986Q21.246 6.664 20.740 6.526L20.740 6.526Q19.774 6.250 18.762 6.250L18.762 6.250Q17.520 6.250 16.853 6.733Q16.186 7.216 16.186 7.998Q16.186 8.780 16.922 9.286L16.922 9.286Q17.474 9.700 19.314 10.436L19.314 10.436Q21.614 11.310 22.695 12.552Q23.776 13.794 23.776 15.588L23.776 15.588Q23.776 17.888 22.028 19.314L22.028 19.314Q20.142 20.924 16.738 20.924L16.738 20.924Q15.404 20.924 13.932 20.556L13.932 20.556Q12.782 20.326 11.862 19.912L11.862 19.912Z"/></svg> Core </a> </li><li role="presentation" class="tab astro-eymk54ea"> <a role="tab" href="#tab-panel-126" id="tab-126" aria-selected="false" tabindex="-1" class="astro-eymk54ea"> <svg aria-hidden="true" class="astro-eymk54ea astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M18.955 15.993L18.993 15.993Q18.993 16.107 18.993 16.297L18.993 16.297Q19.221 18.615 19.221 19.774Q19.221 20.933 18.651 21.693Q18.081 22.453 17.207 22.529L17.207 22.529Q16.333 22.719 15.307 22.301L15.307 22.301Q14.547 21.921 13.179 21.009L13.179 21.009Q12.305 20.439 11.849 20.173L11.849 20.173Q10.671 21.123 9.949 21.579L9.949 21.579Q9.341 21.997 8.771 22.187L8.771 22.187Q7.707 22.643 6.795 22.472Q5.883 22.301 5.332 21.579Q4.781 20.857 4.762 19.679Q4.743 18.501 4.971 15.879L4.971 15.879Q3.527 15.423 2.805 14.929L2.805 14.929Q1.855 14.473 0.905 13.523L0.905 13.523Q0.145 12.725 0.183 11.794Q0.221 10.863 1.057 10.065L1.057 10.065Q1.665 9.343 2.691 8.849L2.691 8.849Q3.299 8.507 4.591 8.051L4.591 8.051Q4.667 8.051 4.838 7.994Q5.009 7.937 5.085 7.937L5.085 7.937L4.743 5.315Q4.705 4.479 4.971 3.073L4.971 3.073Q5.237 2.085 6.054 1.667Q6.871 1.249 7.935 1.515L7.935 1.515Q8.885 1.743 9.835 2.351L9.835 2.351Q10.519 2.769 11.393 3.529L11.393 3.529Q11.545 3.605 11.735 3.871L11.735 3.871L11.849 4.023Q13.749 2.579 14.813 1.971L14.813 1.971Q16.029 1.173 17.207 1.515L17.207 1.515Q18.081 1.705 18.594 2.446Q19.107 3.187 19.221 4.365L19.221 4.365L19.221 6.265Q19.221 6.645 19.031 7.405L19.031 7.405Q18.917 7.899 18.841 8.165L18.841 8.165Q19.905 8.507 20.874 8.982Q21.843 9.457 22.261 9.761L22.261 9.761Q22.983 10.255 23.401 10.882Q23.819 11.509 23.819 12.193Q23.819 12.877 23.401 13.504Q22.983 14.131 22.261 14.625L22.261 14.625Q21.805 14.929 20.855 15.423L20.855 15.423Q20.171 15.537 18.955 15.993L18.955 15.993ZM10.861 15.841L12.077 15.879Q12.267 15.879 12.685 15.841L12.685 15.841Q13.255 15.765 13.521 15.765L13.521 15.765Q14.015 15.765 14.357 15.271L14.357 15.271Q15.535 13.371 15.991 12.307L15.991 12.307Q16.105 12.155 16.105 11.927Q16.105 11.699 15.991 11.623L15.991 11.623Q15.421 10.521 14.205 8.659L14.205 8.659Q14.053 8.279 13.635 8.279L13.635 8.279Q11.621 8.279 10.557 8.165L10.557 8.165Q9.607 8.165 9.113 9.001L9.113 9.001Q8.657 9.723 8.391 10.179L8.391 10.179L7.859 11.167Q7.517 11.661 7.460 11.870Q7.403 12.079 7.460 12.288Q7.517 12.497 7.859 13.029L7.859 13.029L8.391 13.979L8.847 14.739Q9.227 15.347 9.379 15.499L9.379 15.499Q9.607 15.765 9.911 15.803L9.911 15.803Q10.139 15.841 10.861 15.841L10.861 15.841ZM5.199 14.929L5.199 14.929Q5.921 13.029 6.263 12.193L6.263 12.193L6.263 11.737L5.199 9.001Q3.071 9.647 1.893 10.521L1.893 10.521Q1.057 11.167 1.057 11.908Q1.057 12.649 1.893 13.257L1.893 13.257Q2.501 13.903 3.451 14.321L3.451 14.321Q4.021 14.587 5.199 14.929ZM18.613 8.887L18.613 8.887Q18.157 9.951 17.435 11.851L17.435 11.851L17.397 11.965Q17.359 12.079 17.435 12.079L17.435 12.079Q18.157 13.979 18.613 15.157L18.613 15.157Q19.069 14.929 20.019 14.435L20.019 14.435Q21.273 13.865 21.805 13.523L21.805 13.523Q22.793 12.877 22.793 12.079Q22.793 11.281 21.843 10.673L21.843 10.673Q21.197 10.103 19.753 9.419L19.753 9.419Q18.955 9.077 18.613 8.887ZM5.883 7.481L5.921 7.671Q7.821 7.481 8.885 7.215L8.885 7.215Q8.961 7.215 9.037 7.139L9.037 7.139L9.113 7.101Q9.797 6.151 11.013 4.707L11.013 4.707Q10.063 3.909 9.569 3.529L9.569 3.529Q8.733 2.883 7.935 2.579L7.935 2.579Q6.947 2.237 6.339 2.598Q5.731 2.959 5.541 4.023L5.541 4.023Q5.465 4.745 5.579 5.695L5.579 5.695Q5.655 6.265 5.883 7.481L5.883 7.481ZM17.777 7.709L17.777 7.671Q17.777 7.633 17.834 7.462Q17.891 7.291 17.891 7.215L17.891 7.215Q18.157 6.037 18.157 5.391L18.157 5.391Q18.233 4.327 17.891 3.529L17.891 3.529Q17.739 2.921 17.321 2.655Q16.903 2.389 16.371 2.465L16.371 2.465Q15.421 2.617 14.509 3.225L14.509 3.225Q13.939 3.567 12.951 4.479L12.951 4.479L12.685 4.707Q13.293 5.543 14.471 6.987L14.471 6.987L14.813 7.329L17.777 7.709ZM5.921 16.221L5.921 16.221Q5.883 16.449 5.807 16.867L5.807 16.867Q5.579 17.931 5.541 18.425L5.541 18.425Q5.465 19.299 5.693 20.059L5.693 20.059Q5.845 20.933 6.434 21.275Q7.023 21.617 7.935 21.351L7.935 21.351Q8.695 21.123 9.493 20.591L9.493 20.591Q9.949 20.249 10.823 19.489L10.823 19.489L11.127 19.223Q10.443 18.273 9.227 16.829L9.227 16.829Q8.999 16.601 8.885 16.601L8.885 16.601Q7.517 16.601 5.921 16.221ZM12.571 19.223L12.571 19.223Q13.065 19.869 14.015 20.553L14.015 20.553Q14.889 21.199 15.649 21.465L15.649 21.465Q17.549 22.035 17.891 20.173L17.891 20.173Q18.043 19.337 17.967 18.349L17.967 18.349Q17.929 17.741 17.701 16.525L17.701 16.525L17.663 16.373L16.903 16.449Q15.307 16.563 14.585 16.829L14.585 16.829Q14.243 17.019 13.939 17.361L13.939 17.361Q13.749 17.589 13.445 18.045L13.445 18.045Q13.179 18.425 13.046 18.634Q12.913 18.843 12.571 19.223ZM10.443 7.101L13.293 7.101Q13.027 6.797 12.552 6.265Q12.077 5.733 11.849 5.429L11.849 5.429L11.659 5.695Q10.937 6.607 10.443 7.101L10.443 7.101ZM12.837 17.361L13.293 16.829L10.557 16.829Q10.785 17.133 11.260 17.665Q11.735 18.197 11.963 18.501L11.963 18.501Q12.229 18.083 12.837 17.361L12.837 17.361ZM8.391 15.651L8.391 15.651Q8.239 15.385 7.935 14.853L7.935 14.853Q7.289 13.789 6.985 13.143L6.985 13.143L6.263 15.157Q6.909 15.423 8.391 15.651ZM16.713 13.143L16.713 13.143L15.307 15.651L17.435 15.271Q17.283 14.511 16.713 13.143ZM6.985 10.787L6.985 10.787L8.391 8.279L6.263 8.621L6.415 9.115Q6.681 10.217 6.985 10.787ZM15.307 8.279L15.307 8.279Q15.535 8.773 16.010 9.476Q16.485 10.179 16.713 10.673L16.713 10.673Q17.207 9.229 17.435 8.659L17.435 8.659Q16.523 8.621 15.307 8.279Z"/></svg> React </a> </li><li role="presentation" class="tab astro-eymk54ea"> <a role="tab" href="#tab-panel-127" id="tab-127" aria-selected="false" tabindex="-1" class="astro-eymk54ea"> <svg aria-hidden="true" class="astro-eymk54ea astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M19.7 17.6c-.1-.2-.2-.4-.2-.6 0-.4-.2-.7-.5-1-.1-.1-.3-.2-.4-.2.6-1.8-.3-3.6-1.3-4.9-.8-1.2-2-2.1-1.9-3.7 0-1.9.2-5.4-3.3-5.1-3.6.2-2.6 3.9-2.7 5.2 0 1.1-.5 2.2-1.3 3.1-.2.2-.4.5-.5.7-1 1.2-1.5 2.8-1.5 4.3-.2.2-.4.4-.5.6-.1.1-.2.2-.2.3-.1.1-.3.2-.5.3-.4.1-.7.3-.9.7-.1.3-.2.7-.1 1.1.1.2.1.4 0 .7-.2.4-.2.9 0 1.4.3.4.8.5 1.5.6.5 0 1.1.2 1.6.4.5.3 1.1.5 1.7.5.3 0 .7-.1 1-.2.3-.2.5-.4.6-.7.4 0 1-.2 1.7-.2.6 0 1.2.2 2 .1 0 .1 0 .2.1.3.2.5.7.9 1.3 1h.2c.8-.1 1.6-.5 2.1-1.1.4-.4.9-.7 1.4-.9.6-.3 1-.5 1.1-1 .1-.7-.1-1.1-.5-1.7zM12.8 4.8c.6.1 1.1.6 1 1.2 0 .3-.1.6-.3.9h-.1c-.2-.1-.3-.1-.4-.2.1-.1.1-.3.2-.5 0-.4-.2-.7-.4-.7-.3 0-.5.3-.5.7v.1c-.1-.1-.3-.1-.4-.2V6c-.1-.5.3-1.1.9-1.2zm-.3 2c.1.1.3.2.4.2.1 0 .3.1.4.2.2.1.4.2.4.5s-.3.6-.9.8c-.2.1-.3.1-.4.2-.3.2-.6.3-1 .3-.3 0-.6-.2-.8-.4-.1-.1-.2-.2-.4-.3-.1-.1-.3-.3-.4-.6 0-.1.1-.2.2-.3.3-.2.4-.3.5-.4l.1-.1c.2-.3.6-.5 1-.5.3.1.6.2.9.4zM10.4 5c.4 0 .7.4.8 1.1v.2c-.1 0-.3.1-.4.2v-.2c0-.3-.2-.6-.4-.5-.2 0-.3.3-.3.6 0 .2.1.3.2.4 0 0-.1.1-.2.1-.2-.2-.4-.5-.4-.8 0-.6.3-1.1.7-1.1zm-1 16.1c-.7.3-1.6.2-2.2-.2-.6-.3-1.1-.4-1.8-.4-.5-.1-1-.1-1.1-.3-.1-.2-.1-.5.1-1 .1-.3.1-.6 0-.9-.1-.3-.1-.5 0-.8.1-.3.3-.4.6-.5.3-.1.5-.2.7-.4.1-.1.2-.2.3-.4.3-.4.5-.6.8-.6.6.1 1.1 1 1.5 1.9.2.3.4.7.7 1 .4.5.9 1.2.9 1.6 0 .5-.2.8-.5 1zm4.9-2.2c0 .1 0 .1-.1.2-1.2.9-2.8 1-4.1.3l-.6-.9c.9-.1.7-1.3-1.2-2.5-2-1.3-.6-3.7.1-4.8.1-.1.1 0-.3.8-.3.6-.9 2.1-.1 3.2 0-.8.2-1.6.5-2.4.7-1.3 1.2-2.8 1.5-4.3.1.1.1.1.2.1.1.1.2.2.3.2.2.3.6.4.9.4h.1c.4 0 .8-.1 1.1-.4.1-.1.2-.2.4-.2.3-.1.6-.3.9-.6.4 1.3.8 2.5 1.4 3.6.4.8.7 1.6.9 2.5.3 0 .7.1 1 .3.8.4 1.1.7 1 1.2H18c0-.3-.2-.6-.9-.9-.7-.3-1.3-.3-1.5.4-.1 0-.2.1-.3.1-.8.4-.8 1.5-.9 2.6.1.4 0 .7-.1 1.1zm4.6.6c-.6.2-1.1.6-1.5 1.1-.4.6-1.1 1-1.9.9-.4 0-.8-.3-.9-.7-.1-.6-.1-1.2.2-1.8.1-.4.2-.7.3-1.1.1-1.2.1-1.9.6-2.2 0 .5.3.8.7 1 .5 0 1-.1 1.4-.5h.2c.3 0 .5 0 .7.2.2.2.3.5.3.7 0 .3.2.6.3.9.5.5.5.8.5.9-.1.2-.5.4-.9.6zm-9-12c-.1 0-.1 0-.1.1 0 0 0 .1.1.1s.1.1.1.1c.3.4.8.6 1.4.7.5-.1 1-.2 1.5-.6l.6-.3c.1 0 .1-.1.1-.1 0-.1 0-.1-.1-.1-.2.1-.5.2-.7.3-.4.3-.9.5-1.4.5-.5 0-.9-.3-1.2-.6-.1 0-.2-.1-.3-.1z"/></svg> Android </a> </li><li role="presentation" class="tab astro-eymk54ea"> <a role="tab" href="#tab-panel-128" id="tab-128" aria-selected="false" tabindex="-1" class="astro-eymk54ea"> <svg aria-hidden="true" class="astro-eymk54ea astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M14.94 5.19A4.38 4.38 0 0 0 16 2a4.44 4.44 0 0 0-3 1.52 4.17 4.17 0 0 0-1 3.09 3.69 3.69 0 0 0 2.94-1.42Zm2.52 7.44a4.51 4.51 0 0 1 2.16-3.81 4.66 4.66 0 0 0-3.66-2c-1.56-.16-3 .91-3.83.91s-2-.89-3.3-.87a4.92 4.92 0 0 0-4.14 2.53C2.93 12.45 4.24 17 6 19.47c.8 1.21 1.8 2.58 3.12 2.53s1.75-.82 3.28-.82 2 .82 3.3.79 2.22-1.24 3.06-2.45a11 11 0 0 0 1.38-2.85 4.41 4.41 0 0 1-2.68-4.04Z"/></svg> iOS </a> </li> </ul> </div> <div id="tab-panel-125" aria-labelledby="tab-125" role="tabpanel"> <div class="card astro-ya25bz2t"><p>Add the plugin to Player:</p><div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="typescript"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> { Player } </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">@player-ui/player</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> { AsyncNodePlugin, AsyncNodePluginPlugin } </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">@player-ui/async-node-plugin</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">const </span><span style="--0:#82AAFF;--1:#3B61B0">asyncNodePlugin</span><span style="--0:#C792EA;--1:#8844AE"> = </span><span style="--0:#7FDBCA;--1:#096E72">new</span><span style="--0:#C792EA;--1:#8844AE"> </span><span style="--0:#82AAFF;--1:#3B61B0">AsyncNodePlugin</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C792EA;--1:#8844AE">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8844AE">    </span></span><span style="--0:#C792EA;--1:#8844AE">plugins:</span><span style="--0:#D6DEEB;--1:#403F53"> [</span><span style="--0:#7FDBCA;--1:#096E72">new</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">AsyncNodePluginPlugin</span><span style="--0:#D6DEEB;--1:#403F53">()]</span><span style="--0:#C792EA;--1:#8844AE">,</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">}</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5D6376">// Configuring async node behaviour</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">asyncNodePlugin</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#FAF39F;--1:#111111">hooks</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#FAF39F;--1:#111111">onAsyncNode</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#82AAFF;--1:#3B61B0">tap</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">handleAsync</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#C792EA;--1:#8844AE">async</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D7DBE0;--1:#403F53">node</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> Node</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--1:#111111"><span style="--0:#FFCB8B">Node</span><span style="--0:#D9F5DD">)</span></span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">=></span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#096E72">...</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#919F9F;--1:#5D6376">// Determine what to return to be parsed into a concrete UI asset</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">});</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5D6376">// For use cases where the async node needs to be updated multiple times</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">asyncNodePlugin</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#FAF39F;--1:#111111">hooks</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#FAF39F;--1:#111111">onAsyncNode</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#82AAFF;--1:#3B61B0">tap</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">toast-provider</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#C792EA;--1:#8844AE">async</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D7DBE0;--1:#403F53">node</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> Node</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#FFCB8B;--1:#111111">Async</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#82AAFF;--1:#3B61B0">update</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D7DBE0;--1:#403F53">content</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">=></span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">void</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">=></span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">...</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#919F9F;--1:#5D6376">// do some async task to get content</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#C792EA;--1:#8844AE">const </span><span style="--0:#82AAFF;--1:#3B61B0">toastContent</span><span style="--0:#C792EA;--1:#8844AE"> = await </span><span style="--0:#82AAFF;--1:#3B61B0">makeToastFor</span><span style="--0:#D6DEEB;--1:#403F53">(node</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#7FDBCA;--1:#096E72">id</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#919F9F;--1:#5D6376">// set timer for 5 seconds to remove the toast content from the view</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">setTimeout</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">=></span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">update</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#FF6A83;--1:#A24848">null</span><span style="--0:#D6DEEB;--1:#403F53">), </span><span style="--0:#F78C6C;--1:#AA0982">5000</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#919F9F;--1:#5D6376">// uses same mechanism as before</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> toastContent;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">});</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">const </span><span style="--0:#82AAFF;--1:#3B61B0">player</span><span style="--0:#C792EA;--1:#8844AE"> = </span><span style="--0:#7FDBCA;--1:#096E72">new</span><span style="--0:#C792EA;--1:#8844AE"> </span><span style="--0:#82AAFF;--1:#3B61B0">Player</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C792EA;--1:#8844AE">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8844AE">  </span></span><span style="--0:#C792EA;--1:#8844AE">plugins:</span><span style="--0:#D6DEEB;--1:#403F53"> [</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">asyncNodePlugin</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">}</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="import { Player } from &#x27;@player-ui/player&#x27;;import { AsyncNodePlugin, AsyncNodePluginPlugin } from &#x27;@player-ui/async-node-plugin&#x27;;const asyncNodePlugin = new AsyncNodePlugin({    plugins: [new AsyncNodePluginPlugin()],});// Configuring async node behaviourasyncNodePlugin.hooks.onAsyncNode.tap(&#x27;handleAsync&#x27;, async (node: Node.Node) => {  ...  // Determine what to return to be parsed into a concrete UI asset});// For use cases where the async node needs to be updated multiple timesasyncNodePlugin.hooks.onAsyncNode.tap(&#x22;toast-provider&#x22;, async (node: Node.Async, update: (content) => void) => {    ...  // do some async task to get content  const toastContent = await makeToastFor(node.id);  // set timer for 5 seconds to remove the toast content from the view  setTimeout(() => update(null), 5000);  // uses same mechanism as before  return toastContent;});const player = new Player({  plugins: [    asyncNodePlugin  ]})"><div></div></button></div></figure></div><p>or initialize plugin with async handler</p><div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="typescript"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> { Player } </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">@player-ui/player</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> { AsyncNodePlugin, AsyncNodePluginPlugin } </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">@player-ui/async-node-plugin</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">const </span><span style="--0:#82AAFF;--1:#3B61B0">asyncHandler</span><span style="--0:#C792EA;--1:#8844AE"> = </span><span style="--0:#D6DEEB;--1:#403F53">(</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#D7DBE0;--1:#403F53">node</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#C792EA;--1:#8844AE"> Node.</span><span style="--0:#FFCB8B;--1:#111111">Async</span><span style="--0:#C792EA;--1:#8844AE">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">callback</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#C792EA;--1:#8844AE"> </span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D7DBE0;--1:#403F53">content</span><span style="--0:#7FDBCA;--1:#096E72">:</span><span style="--0:#C792EA;--1:#8844AE"> </span><span style="--0:#C5E478;--1:#3B61B0">any</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#C792EA;--1:#8844AE"> => </span><span style="--0:#C5E478;--1:#3B61B0">void</span><span style="--0:#C792EA;--1:#8844AE">,</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--0:#C792EA;--1:#8844AE"> => {</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#919F9F;--1:#5D6376">// do some async task to get content</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8844AE">  </span></span><span style="--0:#C792EA;--1:#8844AE">return </span><span style="--0:#D6DEEB;--1:#403F53">result</span><span style="--0:#C792EA;--1:#8844AE">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">}</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">const </span><span style="--0:#82AAFF;--1:#3B61B0">plugin</span><span style="--0:#C792EA;--1:#8844AE"> = </span><span style="--0:#7FDBCA;--1:#096E72">new</span><span style="--0:#C792EA;--1:#8844AE"> </span><span style="--0:#82AAFF;--1:#3B61B0">AsyncNodePlugin</span><span style="--0:#D6DEEB;--1:#403F53">(</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8844AE">  </span></span><span style="--0:#C792EA;--1:#8844AE">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8844AE">    </span></span><span style="--0:#C792EA;--1:#8844AE">plugins:</span><span style="--0:#D6DEEB;--1:#403F53"> [</span><span style="--0:#7FDBCA;--1:#096E72">new</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">AsyncNodePluginPlugin</span><span style="--0:#D6DEEB;--1:#403F53">()]</span><span style="--0:#C792EA;--1:#8844AE">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8844AE">  </span></span><span style="--0:#C792EA;--1:#8844AE">},</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#D6DEEB;--1:#403F53">asyncHandler</span><span style="--0:#C792EA;--1:#8844AE">,</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">const </span><span style="--0:#82AAFF;--1:#3B61B0">player</span><span style="--0:#C792EA;--1:#8844AE"> = </span><span style="--0:#7FDBCA;--1:#096E72">new</span><span style="--0:#C792EA;--1:#8844AE"> </span><span style="--0:#82AAFF;--1:#3B61B0">Player</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C792EA;--1:#8844AE">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8844AE">  </span></span><span style="--0:#C792EA;--1:#8844AE">plugins:</span><span style="--0:#D6DEEB;--1:#403F53"> [</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">asyncNodePlugin</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">}</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="import { Player } from &#x27;@player-ui/player&#x27;;import { AsyncNodePlugin, AsyncNodePluginPlugin } from &#x27;@player-ui/async-node-plugin&#x27;;const asyncHandler = (  node: Node.Async,  callback: (content: any) => void,) => {  // do some async task to get content  return result;};const plugin = new AsyncNodePlugin(  {    plugins: [new AsyncNodePluginPlugin()],  },  asyncHandler,);const player = new Player({  plugins: [    asyncNodePlugin  ]})"><div></div></button></div></figure></div></div> </div><div id="tab-panel-126" aria-labelledby="tab-126" role="tabpanel" hidden> <div class="card astro-ya25bz2t"><p>The <code dir="auto">react</code> version of the AsyncNodePlugin is identical to using the core plugin. Refer to core usage for handler configuration:</p><div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="typescript"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> { ReactPlayer } </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">@player-ui/react</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">AsyncNodePlugin,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">AsyncNodePluginPlugin,</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">} </span><span style="--0:#C792EA;--1:#8844AE">from</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">@player-ui/async-node-plugin</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">const </span><span style="--0:#82AAFF;--1:#3B61B0">asyncNodePlugin</span><span style="--0:#C792EA;--1:#8844AE"> = </span><span style="--0:#7FDBCA;--1:#096E72">new</span><span style="--0:#C792EA;--1:#8844AE"> </span><span style="--0:#82AAFF;--1:#3B61B0">AsyncNodePlugin</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C792EA;--1:#8844AE">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8844AE">  </span></span><span style="--0:#C792EA;--1:#8844AE">plugins:</span><span style="--0:#D6DEEB;--1:#403F53"> [</span><span style="--0:#7FDBCA;--1:#096E72">new</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">AsyncNodePluginPlugin</span><span style="--0:#D6DEEB;--1:#403F53">()]</span><span style="--0:#C792EA;--1:#8844AE">,</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">}</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">const </span><span style="--0:#82AAFF;--1:#3B61B0">player</span><span style="--0:#C792EA;--1:#8844AE"> = </span><span style="--0:#7FDBCA;--1:#096E72">new</span><span style="--0:#C792EA;--1:#8844AE"> </span><span style="--0:#82AAFF;--1:#3B61B0">ReactPlayer</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C792EA;--1:#8844AE">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8844AE">  </span></span><span style="--0:#C792EA;--1:#8844AE">plugins:</span><span style="--0:#D6DEEB;--1:#403F53"> [asyncNodePlugin]</span><span style="--0:#C792EA;--1:#8844AE">,</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">}</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="import { ReactPlayer } from &#x22;@player-ui/react&#x22;;import {  AsyncNodePlugin,  AsyncNodePluginPlugin,} from &#x22;@player-ui/async-node-plugin&#x22;;const asyncNodePlugin = new AsyncNodePlugin({  plugins: [new AsyncNodePluginPlugin()],});const player = new ReactPlayer({  plugins: [asyncNodePlugin],});"><div></div></button></div></figure></div></div> </div><div id="tab-panel-127" aria-labelledby="tab-127" role="tabpanel" hidden> <div class="card astro-ya25bz2t"><p>In build.gradle</p><div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="kotlin"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">implementation </span><span style="--0:#ECC48D;--1:#984E4D">"com.intuit.playerui.plugins:async-node:</span><span style="--0:#C5E478;--1:#3B61B0">$PLAYER_VERSION</span><span style="--0:#ECC48D;--1:#984E4D">"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="implementation &#x22;com.intuit.playerui.plugins:async-node:$PLAYER_VERSION&#x22;"><div></div></button></div></figure></div><p>In integration code</p><div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="kotlin"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> com.intuit.playerui.plugins.asyncnode.AsyncNodePlugin</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">val</span><span style="--0:#D6DEEB;--1:#403F53"> asyncNodePlugin </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">AsyncNodePlugin</span><span style="--0:#D6DEEB;--1:#403F53">(plugins: [</span><span style="--0:#82AAFF;--1:#3B61B0">AsyncNodePluginPlugin</span><span style="--0:#D6DEEB;--1:#403F53">()])</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5D6376">// Configuring async node behaviour</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">asyncNodePlugin.hooks.onAsyncNode.</span><span style="--0:#82AAFF;--1:#3B61B0">tap</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#ECC48D;--1:#984E4D">"handleAsync"</span><span style="--0:#D6DEEB;--1:#403F53">) { hookContext, node </span><span style="--0:#C792EA;--1:#8844AE">-></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">..</span><span style="--0:#D6DEEB;--1:#403F53">.</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#919F9F;--1:#5D6376">// Determine what to return in the form of a list of maps representing UI asset to be parsed</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#919F9F;--1:#5D6376">// e.g.</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#919F9F;--1:#5D6376">// listOf(</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#919F9F;--1:#5D6376">//  mapOf(</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#919F9F;--1:#5D6376">//    "asset" to mapOf(</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#919F9F;--1:#5D6376">//      "id" to "asset-1",</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#919F9F;--1:#5D6376">//      "type" to "text",</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#919F9F;--1:#5D6376">//      "value" to "new asset!"</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#919F9F;--1:#5D6376">//    )</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#919F9F;--1:#5D6376">//  )</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#919F9F;--1:#5D6376">// )</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">AndroidPlayer</span><span style="--0:#D6DEEB;--1:#403F53">(asyncNodePlugin)</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="import com.intuit.playerui.plugins.asyncnode.AsyncNodePluginval asyncNodePlugin = AsyncNodePlugin(plugins: [AsyncNodePluginPlugin()])// Configuring async node behaviourasyncNodePlugin.hooks.onAsyncNode.tap(&#x22;handleAsync&#x22;) { hookContext, node ->    ...    // Determine what to return in the form of a list of maps representing UI asset to be parsed    // e.g.    // listOf(    //  mapOf(    //    &#x22;asset&#x22; to mapOf(    //      &#x22;id&#x22; to &#x22;asset-1&#x22;,    //      &#x22;type&#x22; to &#x22;text&#x22;,    //      &#x22;value&#x22; to &#x22;new asset!&#x22;    //    )    //  )    // )}AndroidPlayer(asyncNodePlugin)"><div></div></button></div></figure></div><p>or initialize plugin with async handler</p><div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="kotlin"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">import</span><span style="--0:#D6DEEB;--1:#403F53"> com.intuit.playerui.plugins.asyncnode.AsyncNodePlugin</span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5D6376">// Configuring async node behaviour</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">val</span><span style="--0:#D6DEEB;--1:#403F53"> asyncHandler </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> { node: Node, callback: ((result: Any?) -> Unit)? </span><span style="--0:#C792EA;--1:#8844AE">-></span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#82AAFF;--1:#3B61B0">mapOf</span><span style="--0:#D6DEEB;--1:#403F53">(</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#ECC48D;--1:#984E4D">"asset"</span><span style="--0:#D6DEEB;--1:#403F53"> to </span><span style="--0:#82AAFF;--1:#3B61B0">mapOf</span><span style="--0:#D6DEEB;--1:#403F53">(</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#ECC48D;--1:#984E4D">"id"</span><span style="--0:#D6DEEB;--1:#403F53"> to </span><span style="--0:#ECC48D;--1:#984E4D">"asset-1"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#ECC48D;--1:#984E4D">"type"</span><span style="--0:#D6DEEB;--1:#403F53"> to </span><span style="--0:#ECC48D;--1:#984E4D">"text"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#ECC48D;--1:#984E4D">"value"</span><span style="--0:#D6DEEB;--1:#403F53"> to </span><span style="--0:#ECC48D;--1:#984E4D">"New asset!"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">        </span></span><span style="--0:#D6DEEB;--1:#403F53">),</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">val</span><span style="--0:#D6DEEB;--1:#403F53"> asyncNodePlugin </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">AsyncNodePlugin</span><span style="--0:#D6DEEB;--1:#403F53">(plugins: [</span><span style="--0:#82AAFF;--1:#3B61B0">AsyncNodePluginPlugin</span><span style="--0:#D6DEEB;--1:#403F53">(asyncHandler </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> handler)])</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">AndroidPlayer</span><span style="--0:#D6DEEB;--1:#403F53">(asyncNodePlugin)</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="import com.intuit.playerui.plugins.asyncnode.AsyncNodePlugin// Configuring async node behaviourval asyncHandler = { node: Node, callback: ((result: Any?) -> Unit)? ->    mapOf(        &#x22;asset&#x22; to mapOf(            &#x22;id&#x22; to &#x22;asset-1&#x22;,            &#x22;type&#x22; to &#x22;text&#x22;,            &#x22;value&#x22; to &#x22;New asset!&#x22;,        ),    )}val asyncNodePlugin = AsyncNodePlugin(plugins: [AsyncNodePluginPlugin(asyncHandler = handler)])AndroidPlayer(asyncNodePlugin)"><div></div></button></div></figure></div></div> </div><div id="tab-panel-128" aria-labelledby="tab-128" role="tabpanel" hidden> <div class="card astro-ya25bz2t"><div class="sl-heading-wrapper level-h3"><h3 id="error-handling">Error Handling</h3><a class="sl-anchor-link" href="#error-handling"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Error Handling”</span></a></div><p>By default, errors happening during the <code dir="auto">onAsyncNode</code> hook bubble up as player flow failures. These errors can come from the taps themselves, or from parsing the result of those taps within the core plugin. Use the <code dir="auto">onAsyncNodeError</code> to catch these errors and handle them gracefully. Even if the error is handled, it will be logged by the player logger. The return on the hook will determine what gets rendered in the view. To render nothing, return <code dir="auto">null</code></p><div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="typescript"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">const </span><span style="--0:#82AAFF;--1:#3B61B0">asyncNodePlugin</span><span style="--0:#C792EA;--1:#8844AE"> = </span><span style="--0:#7FDBCA;--1:#096E72">new</span><span style="--0:#C792EA;--1:#8844AE"> </span><span style="--0:#82AAFF;--1:#3B61B0">AsyncNodePlugin</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C792EA;--1:#8844AE">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8844AE">  </span></span><span style="--0:#C792EA;--1:#8844AE">plugins:</span><span style="--0:#D6DEEB;--1:#403F53"> [</span><span style="--0:#7FDBCA;--1:#096E72">new</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">AsyncNodePluginPlugin</span><span style="--0:#D6DEEB;--1:#403F53">()]</span><span style="--0:#C792EA;--1:#8844AE">,</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">}</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">asyncNodePlugin</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#FAF39F;--1:#111111">hooks</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#FAF39F;--1:#111111">onAsyncNodeError</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#82AAFF;--1:#3B61B0">tap</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">handleAsyncError</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--1:#403F53"><span style="--0:#D7DBE0">error</span><span style="--0:#D6DEEB">, </span><span style="--0:#D7DBE0">node</span></span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">=></span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#919F9F;--1:#5D6376">// Do something to handle the error in the background</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FF6A83;--1:#A24848">null</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">});</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="const asyncNodePlugin = new AsyncNodePlugin({  plugins: [new AsyncNodePluginPlugin()],});asyncNodePlugin.hooks.onAsyncNodeError.tap(&#x22;handleAsyncError&#x22;, (error, node) => {  // Do something to handle the error in the background  return null;});"><div></div></button></div></figure></div><div class="sl-heading-wrapper level-h3"><h3 id="cocoapods">CocoaPods</h3><a class="sl-anchor-link" href="#cocoapods"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “CocoaPods”</span></a></div><p>Add the subspec to your <code dir="auto">Podfile</code></p><div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="ruby"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">pod </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">PlayerUI/AsyncNodePlugin</span><span style="--0:#D9F5DD;--1:#111111">'</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="pod &#x27;PlayerUI/AsyncNodePlugin&#x27;"><div></div></button></div></figure></div><div class="sl-heading-wrapper level-h3"><h3 id="swift-usage">Swift Usage</h3><a class="sl-anchor-link" href="#swift-usage"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Swift Usage”</span></a></div><p>In integration code</p><div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="swift"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">var</span><span style="--0:#D6DEEB;--1:#403F53"> body: </span><span style="--0:#C792EA;--1:#8844AE">some</span><span style="--0:#D6DEEB;--1:#403F53"> View {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3B61B0">SwiftUIPlayer</span><span style="--0:#D6DEEB;--1:#403F53">(</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#3B61B0">        </span></span><span style="--0:#C5E478;--1:#3B61B0">flow</span><span style="--0:#82AAFF;--1:#3B61B0">: flow,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#3B61B0">        </span></span><span style="--0:#C5E478;--1:#3B61B0">plugins</span><span style="--0:#82AAFF;--1:#3B61B0">: [</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#3B61B0">          </span></span><span style="--0:#C5E478;--1:#3B61B0">AsyncNodePlugin</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--1:#3B61B0"><span style="--0:#C5E478">plugins</span><span style="--0:#82AAFF">: [</span><span style="--0:#C5E478">AsyncNodePluginPlugin</span></span><span style="--0:#D6DEEB;--1:#403F53">()</span><span style="--0:#82AAFF;--1:#3B61B0">]</span><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--1:#3B61B0"><span style="--0:#82AAFF">, </span><span style="--0:#C5E478">asyncHookHandler</span><span style="--0:#82AAFF">: { node </span></span><span style="--0:#C792EA;--1:#8844AE">in</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#919F9F;--1:#5D6376">// Determine what to return either using the singleNode or multiNode case</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#919F9F;--1:#5D6376">// Then JSON can be provided using the concrete case, see below for using the encodable case</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--1:#3B61B0"><span style="--0:#82AAFF"> .</span><span style="--0:#C5E478">singleNode</span></span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--1:#3B61B0"><span style="--0:#82AAFF">.</span><span style="--0:#C5E478">concrete</span></span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3B61B0">jsContext</span><span style="--0:#7FDBCA;--1:#096E72">?</span><span style="--1:#3B61B0"><span style="--0:#82AAFF">.</span><span style="--0:#C5E478">evaluateScript</span></span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">"""</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#ECC48D;--1:#984E4D">                  </span></span><span style="--0:#ECC48D;--1:#984E4D">({"asset": {"id": "text", "type": "text", "value":"new node from the hook"}})</span></div></div><div class="ec-line"><div class="code"><span class="indent">                  </span><span style="--0:#D9F5DD;--1:#111111">"""</span><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--0:#82AAFF;--1:#3B61B0"> </span><span style="--0:#7FDBCA;--1:#096E72">??</span><span style="--1:#3B61B0"><span style="--0:#82AAFF"> </span><span style="--0:#C5E478">JSValue</span></span><span style="--0:#D6DEEB;--1:#403F53">()))</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#919F9F;--1:#5D6376">// OR</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--1:#3B61B0"><span style="--0:#82AAFF"> .</span><span style="--0:#C5E478">multiNode</span></span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3B61B0">[</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#82AAFF;--1:#3B61B0">                </span></span><span style="--0:#82AAFF;--1:#3B61B0">.</span><span style="--0:#C5E478;--1:#3B61B0">concrete</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3B61B0">jsContext</span><span style="--0:#7FDBCA;--1:#096E72">?</span><span style="--1:#3B61B0"><span style="--0:#82AAFF">.</span><span style="--0:#C5E478">evaluateScript</span></span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">"""</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#ECC48D;--1:#984E4D">                  </span></span><span style="--0:#ECC48D;--1:#984E4D">({"asset": {"id": "text", "type": "text", "value":"1st value in the multinode"}})</span></div></div><div class="ec-line"><div class="code"><span class="indent">                  </span><span style="--0:#D9F5DD;--1:#111111">"""</span><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--0:#82AAFF;--1:#3B61B0"> </span><span style="--0:#7FDBCA;--1:#096E72">??</span><span style="--1:#3B61B0"><span style="--0:#82AAFF"> </span><span style="--0:#C5E478">JSValue</span></span><span style="--0:#D6DEEB;--1:#403F53">())</span><span style="--0:#82AAFF;--1:#3B61B0">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#82AAFF;--1:#3B61B0">                </span></span><span style="--0:#82AAFF;--1:#3B61B0">.</span><span style="--0:#C5E478;--1:#3B61B0">concrete</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3B61B0">jsContext</span><span style="--0:#7FDBCA;--1:#096E72">?</span><span style="--1:#3B61B0"><span style="--0:#82AAFF">.</span><span style="--0:#C5E478">evaluateScript</span></span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">"""</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#ECC48D;--1:#984E4D">                  </span></span><span style="--0:#ECC48D;--1:#984E4D">({"asset": {"id": "async-node-2", "async": "true" }})</span></div></div><div class="ec-line"><div class="code"><span class="indent">                  </span><span style="--0:#D9F5DD;--1:#111111">"""</span><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--0:#82AAFF;--1:#3B61B0"> </span><span style="--0:#7FDBCA;--1:#096E72">??</span><span style="--1:#3B61B0"><span style="--0:#82AAFF"> </span><span style="--0:#C5E478">JSValue</span></span><span style="--0:#D6DEEB;--1:#403F53">())</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#82AAFF;--1:#3B61B0">              </span></span><span style="--0:#82AAFF;--1:#3B61B0">]</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#82AAFF;--1:#3B61B0">          </span></span><span style="--0:#82AAFF;--1:#3B61B0">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#82AAFF;--1:#3B61B0">        </span></span><span style="--0:#82AAFF;--1:#3B61B0">],</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#3B61B0">        </span></span><span style="--0:#C5E478;--1:#3B61B0">result</span><span style="--0:#82AAFF;--1:#3B61B0">: $resultBinding</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="var body: some View {    SwiftUIPlayer(        flow: flow,        plugins: [          AsyncNodePlugin(plugins: [AsyncNodePluginPlugin()]), asyncHookHandler: { node in              // Determine what to return either using the singleNode or multiNode case              // Then JSON can be provided using the concrete case, see below for using the encodable case              return .singleNode(.concrete(jsContext?.evaluateScript(&#x22;&#x22;&#x22;                  ({&#x22;asset&#x22;: {&#x22;id&#x22;: &#x22;text&#x22;, &#x22;type&#x22;: &#x22;text&#x22;, &#x22;value&#x22;:&#x22;new node from the hook&#x22;}})                  &#x22;&#x22;&#x22;) ?? JSValue()))              // OR              return .multiNode([                .concrete(jsContext?.evaluateScript(&#x22;&#x22;&#x22;                  ({&#x22;asset&#x22;: {&#x22;id&#x22;: &#x22;text&#x22;, &#x22;type&#x22;: &#x22;text&#x22;, &#x22;value&#x22;:&#x22;1st value in the multinode&#x22;}})                  &#x22;&#x22;&#x22;) ?? JSValue()),                .concrete(jsContext?.evaluateScript(&#x22;&#x22;&#x22;                  ({&#x22;asset&#x22;: {&#x22;id&#x22;: &#x22;async-node-2&#x22;, &#x22;async&#x22;: &#x22;true&#x22; }})                  &#x22;&#x22;&#x22;) ?? JSValue())              ])          }        ],        result: $resultBinding    )}"><div></div></button></div></figure></div><p>or tapping asycHandler after initializing the plugin</p><div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="swift"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">var</span><span style="--0:#D6DEEB;--1:#403F53"> body: </span><span style="--0:#C792EA;--1:#8844AE">some</span><span style="--0:#D6DEEB;--1:#403F53"> View {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">let</span><span style="--0:#D6DEEB;--1:#403F53"> asyncHandler: AsyncHookHandler </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> { _,_ </span><span style="--0:#C792EA;--1:#8844AE">in</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> .</span><span style="--0:#C5E478;--1:#3B61B0">singleNode</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--1:#3B61B0"><span style="--0:#82AAFF">.</span><span style="--0:#C5E478">concrete</span></span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#3B61B0">JSValue</span><span style="--0:#D6DEEB;--1:#403F53">()))</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">let</span><span style="--0:#D6DEEB;--1:#403F53"> plugin </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">AsyncNodePlugin</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--1:#3B61B0"><span style="--0:#C5E478">plugins</span><span style="--0:#82AAFF">: [asyncNodePluginPlugin]</span></span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">plugin.</span><span style="--0:#C5E478;--1:#3B61B0">context</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> context</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">plugin.</span><span style="--0:#C5E478;--1:#3B61B0">hooks</span><span style="--0:#7FDBCA;--1:#096E72">?</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">onAsyncNode</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">tap</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3B61B0">{ node, callback </span><span style="--0:#C792EA;--1:#8844AE">in</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C792EA;--1:#8844AE">let</span><span style="--0:#82AAFF;--1:#3B61B0"> replacementNode </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#82AAFF;--1:#3B61B0"> </span><span style="--0:#C792EA;--1:#8844AE">try</span><span style="--0:#82AAFF;--1:#3B61B0"> </span><span style="--0:#C792EA;--1:#8844AE">await</span><span style="--0:#82AAFF;--1:#3B61B0"> </span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3B61B0">asyncHandler</span><span style="--0:#D6DEEB;--1:#403F53">)(</span><span style="--0:#82AAFF;--1:#3B61B0">node, callback</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--1:#3B61B0"><span style="--0:#82AAFF"> replacementNode.</span><span style="--0:#C5E478">handlerTypeToJSValue</span></span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--1:#3B61B0"><span style="--0:#C5E478">context</span><span style="--0:#82AAFF">: context </span></span><span style="--0:#7FDBCA;--1:#096E72">??</span><span style="--1:#3B61B0"><span style="--0:#82AAFF"> </span><span style="--0:#C5E478">JSContext</span></span><span style="--0:#D6DEEB;--1:#403F53">())</span><span style="--0:#82AAFF;--1:#3B61B0"> </span><span style="--0:#7FDBCA;--1:#096E72">??</span><span style="--1:#3B61B0"><span style="--0:#82AAFF"> </span><span style="--0:#C5E478">JSValue</span></span><span style="--0:#D6DEEB;--1:#403F53">()</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#82AAFF;--1:#3B61B0">    </span></span><span style="--0:#82AAFF;--1:#3B61B0">}</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C5E478;--1:#3B61B0">SwiftUIPlayer</span><span style="--0:#D6DEEB;--1:#403F53">(</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#3B61B0">        </span></span><span style="--0:#C5E478;--1:#3B61B0">flow</span><span style="--0:#82AAFF;--1:#3B61B0">: flow,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#3B61B0">        </span></span><span style="--0:#C5E478;--1:#3B61B0">plugins</span><span style="--0:#82AAFF;--1:#3B61B0">: [plugin],</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#3B61B0">        </span></span><span style="--0:#C5E478;--1:#3B61B0">result</span><span style="--0:#82AAFF;--1:#3B61B0">: $resultBinding</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="var body: some View {    let asyncHandler: AsyncHookHandler = { _,_ in        return .singleNode(.concrete(JSValue()))    }    let plugin = AsyncNodePlugin(plugins: [asyncNodePluginPlugin])    plugin.context = context    plugin.hooks?.onAsyncNode.tap({ node, callback in        let replacementNode = try await (asyncHandler)(node, callback)        return replacementNode.handlerTypeToJSValue(context: context ?? JSContext()) ?? JSValue()    })    SwiftUIPlayer(        flow: flow,        plugins: [plugin],        result: $resultBinding    )}"><div></div></button></div></figure></div><p>The plugin also provides a default asset placeholder struct that is encodable, instead of passing in the JSON string users can use
<code dir="auto">AssetPlaceholderNode</code> which includes an <code dir="auto">asset</code> key that takes any user defined Encodable struct as the value. Assuming the following encodable struct is defined:</p><div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="swift"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">struct</span><span style="--0:#D6DEEB;--1:#403F53"> PlaceholderNode: </span><span style="--0:#C5E478;--1:#3B61B0">Codable</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#C5E478;--1:#3B61B0">Equatable</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#C5E478;--1:#3B61B0">AssetData </span><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">public</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">var</span><span style="--0:#D6DEEB;--1:#403F53"> id: </span><span style="--0:#C5E478;--1:#3B61B0">String</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">public</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">var</span><span style="--0:#D6DEEB;--1:#403F53"> type: </span><span style="--0:#C5E478;--1:#3B61B0">String</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">var</span><span style="--0:#D6DEEB;--1:#403F53"> value: </span><span style="--0:#C5E478;--1:#3B61B0">String</span><span style="--0:#7FDBCA;--1:#096E72">?</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">public</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">init</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#82AAFF;--1:#3B61B0">id</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#C5E478;--1:#3B61B0">String</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#82AAFF;--1:#3B61B0">type</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#C5E478;--1:#3B61B0">String</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#82AAFF;--1:#3B61B0">value</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#C5E478;--1:#3B61B0">String</span><span style="--0:#7FDBCA;--1:#096E72">?</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">nil</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#7FDBCA;--1:#096E72">self</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">id</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> id</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#7FDBCA;--1:#096E72">self</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3B61B0">type</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> type</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#7FDBCA;--1:#096E72">self</span><span style="--0:#D6DEEB;--1:#403F53">.value </span><span style="--0:#7FDBCA;--1:#096E72">=</span><span style="--0:#D6DEEB;--1:#403F53"> value</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="struct PlaceholderNode: Codable, Equatable, AssetData {    public var id: String    public var type: String    var value: String?    public init(id: String, type: String, value: String? = nil) {        self.id = id        self.type = type        self.value = value    }}"><div></div></button></div></figure></div><p>Instead of using the JSON string above, the following can be used:</p><div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="swift"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> .</span><span style="--0:#C5E478;--1:#3B61B0">singleNode</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--1:#3B61B0"><span style="--0:#82AAFF">.</span><span style="--0:#C5E478">encodable</span></span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#3B61B0">PlaceholderNode</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--1:#3B61B0"><span style="--0:#C5E478">id</span><span style="--0:#82AAFF">: </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">text</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--1:#3B61B0"><span style="--0:#82AAFF">, </span><span style="--0:#C5E478">type</span><span style="--0:#82AAFF">: </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">text</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--1:#3B61B0"><span style="--0:#82AAFF">, </span><span style="--0:#C5E478">value</span><span style="--0:#82AAFF">: </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">new node from the hook</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">)))</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5D6376">// OR</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> .</span><span style="--0:#C5E478;--1:#3B61B0">multiNode</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3B61B0">[</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#82AAFF;--1:#3B61B0">    </span></span><span style="--0:#82AAFF;--1:#3B61B0">ReplacementNode.</span><span style="--0:#C5E478;--1:#3B61B0">encodable</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#3B61B0">PlaceholderNode</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--1:#3B61B0"><span style="--0:#C5E478">id</span><span style="--0:#82AAFF">: </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">text</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--1:#3B61B0"><span style="--0:#82AAFF">, </span><span style="--0:#C5E478">type</span><span style="--0:#82AAFF">: </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">text</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--1:#3B61B0"><span style="--0:#82AAFF">, </span><span style="--0:#C5E478">value</span><span style="--0:#82AAFF">: </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">1st value in the multinode</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">))</span><span style="--0:#82AAFF;--1:#3B61B0">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#82AAFF;--1:#3B61B0">    </span></span><span style="--0:#82AAFF;--1:#3B61B0">ReplacementNode.</span><span style="--0:#C5E478;--1:#3B61B0">encodable</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#3B61B0">AsyncNode</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--1:#3B61B0"><span style="--0:#C5E478">id</span><span style="--0:#82AAFF">: </span></span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">id</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">))</span><span style="--0:#82AAFF;--1:#3B61B0">]</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="return .singleNode(.encodable(PlaceholderNode(id: &#x22;text&#x22;, type: &#x22;text&#x22;, value: &#x22;new node from the hook&#x22;)))// ORreturn .multiNode([    ReplacementNode.encodable(PlaceholderNode(id: &#x22;text&#x22;, type: &#x22;text&#x22;, value: &#x22;1st value in the multinode&#x22;)),    ReplacementNode.encodable(AsyncNode(id: &#x22;id&#x22;))])"><div></div></button></div></figure></div><p>Note: the AsyncNode struct is already defined in the plugin with the <code dir="auto">async</code> property defaulted to true so only <code dir="auto">id</code> needs to be passed in</p><p>As a convenience to the user, the AsyncNodePlugin just takes a callback which has the content to be returned, this is provided to the plugin which calls the the <code dir="auto">onAsyncNode</code> hook tap method. The return could be a single asset node or an array of asset nodes, or null if the async node is no longer relevant.</p></div> </div> <starlight-tabs-restore class="astro-eymk54ea"></starlight-tabs-restore> </starlight-tabs>  <script type="module">class r extends HTMLElement{constructor(){super(),this.#s="starlight-synced-tabs__";const t=this.querySelector('[role="tablist"]');if(this.tabs=[...t.querySelectorAll('[role="tab"]')],this.panels=[...this.querySelectorAll(':scope > [role="tabpanel"]')],this.#t=this.dataset.syncKey,this.#t){const n=r.#e.get(this.#t)??[];n.push(this),r.#e.set(this.#t,n)}this.tabs.forEach((n,c)=>{n.addEventListener("click",e=>{e.preventDefault();const i=t.querySelector('[aria-selected="true"]');e.currentTarget!==i&&this.switchTab(e.currentTarget,c)}),n.addEventListener("keydown",e=>{const i=this.tabs.indexOf(e.currentTarget),s=e.key==="ArrowLeft"?i-1:e.key==="ArrowRight"?i+1:e.key==="Home"?0:e.key==="End"?this.tabs.length-1:null;s!==null&&this.tabs[s]&&(e.preventDefault(),this.switchTab(this.tabs[s],s))})})}static#e=new Map;#t;#s;switchTab(t,n,c=!0){if(!t)return;const e=c?this.getBoundingClientRect().top:0;this.tabs.forEach(s=>{s.setAttribute("aria-selected","false"),s.setAttribute("tabindex","-1")}),this.panels.forEach(s=>{s.hidden=!0});const i=this.panels[n];i&&(i.hidden=!1),t.removeAttribute("tabindex"),t.setAttribute("aria-selected","true"),c&&(t.focus(),r.#r(this,t),window.scrollTo({top:window.scrollY+(this.getBoundingClientRect().top-e),behavior:"instant"}))}#n(t){!this.#t||typeof localStorage>"u"||localStorage.setItem(this.#s+this.#t,t)}static#r(t,n){const c=t.#t,e=r.#i(n);if(!c||!e)return;const i=r.#e.get(c);if(i){for(const s of i){if(s===t)continue;const a=s.tabs.findIndex(o=>r.#i(o)===e);a!==-1&&s.switchTab(s.tabs[a],a,!1)}t.#n(e)}}static#i(t){return t.textContent?.trim()}}customElements.define("starlight-tabs",r);</script><script type="module">function s(o){const t=new URL(window.location.href);t.searchParams.set("lang",o),window.history.pushState({},"",t)}function r(){const t=new URL(window.location.href).searchParams.get("lang")?.toLowerCase();t&&document.querySelectorAll('a[role="tab"]').forEach(e=>{e.textContent?.trim().toLowerCase()===t&&e.click()})}document.addEventListener("DOMContentLoaded",()=>{r(),window.addEventListener("popstate",r),document.querySelectorAll('[role="tablist"]').forEach(t=>{t.addEventListener("click",n=>{const e=n.target?.closest('a[role="tab"]');if(e){const a=e.textContent?.trim().toLowerCase();a&&s(a)}})})});</script>
<div class="sl-heading-wrapper level-h3"><h3 id="asynctransform">AsyncTransform</h3><a class="sl-anchor-link" href="#asynctransform"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “AsyncTransform”</span></a></div>
<p><code dir="auto">createAsyncTransform</code> is a helper function to create the transform for async asset. The function takes a set of options that help adjust the transform generated to your needs:</p>
<ul>
<li>flatten (Optional. Default: true) - Whether or not to flatten chained results of the same asset type into a single container.</li>
<li>path (Optional. Default: [“values”]) - The path to the array within the <code dir="auto">wrapperAssetType</code> that will contain the async content.</li>
<li>transformAssetType (Required) - The asset type that the transform is matching against.</li>
<li>wrapperAssetType (Required) - The asset type that will contain the async content.</li>
<li>getNestedAsset (Optional) - Function to get any nested asset that will need to be extracted and kept when creating the wrapper asset. This is useful when combined with <code dir="auto">flatten: true</code> to help chain async content with a single asset type.</li>
<li>getAsyncNodeId (Optional) - Function to get the id for the generated async node. By default it uses a format of <code dir="auto">async-{asset.id}</code></li>
<li>asyncNodePosition (Optional) - Where to place the async node relative to the asset from <code dir="auto">getNestedAsset</code>. Defaults to <code dir="auto">"append"</code></li>
</ul>
<div class="sl-heading-wrapper level-h4"><h4 id="usage-1">Usage</h4><a class="sl-anchor-link" href="#usage-1"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Usage”</span></a></div>
<p>Setting up a transform like below:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="ts"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">const </span><span style="--0:#82AAFF;--1:#3B61B0">beforeResolve</span><span style="--0:#C792EA;--1:#8844AE"> = </span><span style="--0:#82AAFF;--1:#3B61B0">createAsyncTransform</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C792EA;--1:#8844AE">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8844AE">  </span></span><span style="--0:#C792EA;--1:#8844AE">transformAssetType: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">chat-message</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C792EA;--1:#8844AE">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8844AE">  </span></span><span style="--0:#C792EA;--1:#8844AE">wrapperAssetType: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">collection</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C792EA;--1:#8844AE">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">getNestedAsset</span><span style="--0:#C792EA;--1:#8844AE">: </span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D7DBE0;--1:#403F53">node</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#C792EA;--1:#8844AE"> => </span><span style="--0:#D6DEEB;--1:#403F53">node</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#7FDBCA;--1:#096E72">children</span><span style="--0:#C792EA;--1:#8844AE">?.</span><span style="--0:#D6DEEB;--1:#403F53">[</span><span style="--0:#F78C6C;--1:#AA0982">0</span><span style="--0:#D6DEEB;--1:#403F53">]</span><span style="--0:#C792EA;--1:#8844AE">?.</span><span style="--0:#7FDBCA;--1:#096E72">value</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">}</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="const beforeResolve = createAsyncTransform({  transformAssetType: &#x22;chat-message&#x22;,  wrapperAssetType: &#x22;collection&#x22;,  getNestedAsset: (node) => node.children?.[0]?.value})"><div></div></button></div></figure></div>
<p>transforms the following content:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="json"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#096E72">"id"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">chat</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#096E72">"type"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">chat-message</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#096E72">"value"</span><span style="--0:#D6DEEB;--1:#403F53">: {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">"id"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">text</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">"type"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">text</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">"value"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">chat message</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">},</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">},</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  &#x22;id&#x22;: &#x22;chat&#x22;,  &#x22;type&#x22;: &#x22;chat-message&#x22;,  &#x22;value&#x22;: {    &#x22;id&#x22;: &#x22;text&#x22;,    &#x22;type&#x22;: &#x22;text&#x22;,    &#x22;value&#x22;: &#x22;chat message&#x22;,  },},"><div></div></button></div></figure></div>
<p>into:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="json"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#096E72">"id"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">collection-async-chat</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#096E72">"type"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">collection</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#096E72">"values"</span><span style="--0:#D6DEEB;--1:#403F53">: [</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#7FDBCA;--1:#096E72">"id"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">text</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#7FDBCA;--1:#096E72">"type"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">text</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#7FDBCA;--1:#096E72">"value"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">chat message</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">{ </span><span style="--0:#919F9F;--1:#5F636F">/** async content managed by your handler */</span><span style="--0:#D6DEEB;--1:#403F53"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">],</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">},</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  &#x22;id&#x22;: &#x22;collection-async-chat&#x22;,  &#x22;type&#x22;: &#x22;collection&#x22;,  &#x22;values&#x22;: [    {      &#x22;id&#x22;: &#x22;text&#x22;,      &#x22;type&#x22;: &#x22;text&#x22;,      &#x22;value&#x22;: &#x22;chat message&#x22;,    },    { /** async content managed by your handler */ }  ],},"><div></div></button></div></figure></div>
<p>And using additional <code dir="auto">chat-message</code> assets in the async content will flatten itself into this top level collection.</p>
<div class="sl-heading-wrapper level-h3"><h3 id="flatten">Flatten</h3><a class="sl-anchor-link" href="#flatten"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Flatten”</span></a></div>
<p>Flatten is introduced to avoid nested structure caused by continuous streaming. eg. When a new <code dir="auto">chat-message</code> asset is streamed in, in AST tree, instead of <code dir="auto">[chat1, [chat2, asyncNode]]</code>, it’s flattened into <code dir="auto">[chat1, chat2, asyncNode]</code></p> </div> <footer class="sl-flex astro-5qolywyc"> <div class="meta sl-flex astro-5qolywyc"> <a href="https://github.com/player-ui/player/edit/main/docs/site/src/content/docs/plugins/multiplatform/async-node.mdx" class="sl-flex print:hidden astro-ht3cwxc4"><svg aria-hidden="true" class="astro-ht3cwxc4 astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.2em;"><path d="M22 7.24a1 1 0 0 0-.29-.71l-4.24-4.24a1 1 0 0 0-1.1-.22 1 1 0 0 0-.32.22l-2.83 2.83L2.29 16.05a1 1 0 0 0-.29.71V21a1 1 0 0 0 1 1h4.24a1 1 0 0 0 .76-.29l10.87-10.93L21.71 8c.1-.1.17-.2.22-.33a1 1 0 0 0 0-.24v-.14l.07-.05ZM6.83 20H4v-2.83l9.93-9.93 2.83 2.83L6.83 20ZM18.17 8.66l-2.83-2.83 1.42-1.41 2.82 2.82-1.41 1.42Z"/></svg>Edit page</a> <p>
Last updated: <time datetime="2025-09-04T16:02:31.000Z">Sep 4, 2025</time></p> </div> <div class="pagination-links print:hidden astro-a5gvgw34" dir="ltr"> <a href="/pr/720/plugins/multiplatform/asset-provider/" rel="prev" class="astro-a5gvgw34"> <svg aria-hidden="true" class="astro-a5gvgw34 astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17 11H9.41l3.3-3.29a1.004 1.004 0 1 0-1.42-1.42l-5 5a1 1 0 0 0-.21.33 1 1 0 0 0 0 .76 1 1 0 0 0 .21.33l5 5a1.002 1.002 0 0 0 1.639-.325 1 1 0 0 0-.219-1.095L9.41 13H17a1 1 0 0 0 0-2Z"/></svg> <span class="astro-a5gvgw34"> Previous <br class="astro-a5gvgw34"> <span class="link-title astro-a5gvgw34">Asset Provider Plugin</span> </span> </a> <a href="/pr/720/plugins/multiplatform/beacon/" rel="next" class="astro-a5gvgw34"> <svg aria-hidden="true" class="astro-a5gvgw34 astro-igj36mgr" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17.92 11.62a1.001 1.001 0 0 0-.21-.33l-5-5a1.003 1.003 0 1 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1.002 1.002 0 0 0 .325 1.639 1 1 0 0 0 1.095-.219l5-5a1 1 0 0 0 .21-.33 1 1 0 0 0 0-.76Z"/></svg> <span class="astro-a5gvgw34"> Next <br class="astro-a5gvgw34"> <span class="link-title astro-a5gvgw34">Beacon Plugin</span> </span> </a> </div>   </footer>  </div> </div>   </main> </div> </div>  </div> </div>  </body></html>