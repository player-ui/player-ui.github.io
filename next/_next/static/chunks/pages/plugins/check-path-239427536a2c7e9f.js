(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6330],{30876:function(e,t,n){"use strict";n.d(t,{Zo:function(){return c},kt:function(){return d}});var r=n(2784);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"===typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),h=p(n),d=a,m=h["".concat(s,".").concat(d)]||h[d]||u[d]||i;return n?r.createElement(m,l(l({ref:t},c),{},{components:n})):r.createElement(m,l({ref:t},c))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"===typeof e||a){var i=n.length,l=new Array(i);l[0]=h;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"===typeof e?e:a,l[1]=o;for(var p=2;p<i;p++)l[p]=n[p];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},70220:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/plugins/check-path",function(){return n(81197)}])},43857:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var r=n(52322),a=n(2784),i=n(97729),l=n(64033),o=n(30876),s=n(21925),p=n(76808),c=n(55165),u=n(63637),h=n.n(u);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var f=["id"],g=["id"],k="chakra-skip-nav",y={userSelect:"none",border:"0",height:"1px",width:"1px",margin:"-1px",padding:"0",outline:"0",overflow:"hidden",position:"absolute",clip:"rect(0 0 0 0)",_focus:{clip:"auto",width:"auto",height:"auto"}},b=(0,p.Gp)((function(e,t){var n=(0,p.mq)("SkipLink",e),r=(0,p.Lr)(e),i=r.id,l=void 0===i?k:i,o=m(r,f),s=h()({},y,n);return a.createElement(p.m$.a,d({},o,{ref:t,href:"#"+l,__css:s}))}));c.Ts&&(b.displayName="SkipNavLink");var x=(0,p.Gp)((function(e,t){var n=e.id,r=void 0===n?k:n,i=m(e,g);return a.createElement(p.m$.div,d({ref:t,id:r,tabIndex:-1,style:{outline:0}},i))}));c.Ts&&(x.displayName="SkipNavContent");var j=n(46977),P=n(96882),v=function(e){var t;return(0,r.jsxs)(l.xu,{display:{base:"none",xl:"block"},children:["Table Of Contents",(0,r.jsx)(l.GS,{spacing:1,ml:"0",mt:"4",styleType:"none",children:null===(t=e.tableOfContents)||void 0===t?void 0:t.map((function(e){return(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"#".concat(e.id),children:e.text})},e.text)}))})]})},O=function(e){var t=a.useContext(j.Il).bannerExpanded,n="72px",i="calc(100vh - 88px - ".concat(t?n:"0px",")"),o="calc(100vh - 88px - 105px - ".concat(t?n:"0px",")");return(0,r.jsxs)(l.xu,{minH:"100vh",children:[(0,r.jsx)(b,{children:"Skip to Main Content"}),(0,r.jsxs)(l.kC,{flexDir:"column",padding:"2",children:[(0,r.jsx)(P._g,{}),(0,r.jsx)(l.iz,{}),(0,r.jsx)(l.kC,{children:(0,r.jsx)(l.xu,{as:"main",w:"100%",mx:"auto",children:(0,r.jsxs)(l.xu,{display:{md:"flex"},children:[(0,r.jsx)(l.xu,{display:{base:"none",md:"block"},overflow:"auto",maxH:i,pr:"8",ml:"4",children:(0,r.jsx)(P.Hy,{})}),(0,r.jsxs)(l.xu,{flex:"1",minW:"0",overflow:"auto",maxH:i,children:[(0,r.jsxs)(l.xu,{minH:o,children:[(0,r.jsx)(x,{}),e.children]}),(0,r.jsx)(l.xu,{pt:"20",children:(0,r.jsx)(P.$_,{})})]}),e.tableOfContents&&(0,r.jsx)(v,{tableOfContents:e.tableOfContents})]})})})]})]})};function C(e){return function(t){return(0,r.jsxs)(O,{children:[(0,r.jsx)(i.default,{children:(0,r.jsxs)("title",{children:["Player - ",e.title]})}),(0,r.jsx)(l.kC,{alignItems:"center",children:(0,r.jsx)(l.W2,{maxW:"container.lg",children:(0,r.jsx)(o.Zo,{components:s.tl,children:t.children})})})]})}}},81197:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});n(2784);var r=n(30876),a=n(43857);function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l,o=(l="PlatformTabs",function(e){return console.warn("Component "+l+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",Object.assign({},e))}),s={},p=(0,a.Z)({title:"Check Path Plugin",platform:"react,core",tableOfContents:[{text:"Check Path Plugin",id:"check-path-plugin",level:1},{text:"Usage",id:"usage",level:2},{text:"API",id:"api",level:2},{text:"Query",id:"query",level:3},{text:"getParent",id:"getparent",level:3},{text:"getParentProp",id:"getparentprop",level:3},{text:"hasParentContext",id:"hasparentcontext",level:3},{text:"hasChildContext",id:"haschildcontext",level:3},{text:"Example",id:"example",level:2}]});function c(e){var t=e.components,n=i(e,["components"]);return(0,r.kt)(p,Object.assign({},s,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",Object.assign({},{id:"check-path-plugin"}),(0,r.kt)("a",Object.assign({parentName:"h1"},{href:"#check-path-plugin"}),"Check Path Plugin")),(0,r.kt)("p",null,"The Check Path Plugin enables users to query segments of the view tree for contextual rendering or behavior.\nThis is best suited to be referenced during the UI rendering phase, where one can make decisions about the rendering of an asset based on where it lies in the tree."),(0,r.kt)("h2",Object.assign({},{id:"usage"}),(0,r.kt)("a",Object.assign({parentName:"h2"},{href:"#usage"}),"Usage")),(0,r.kt)(o,{mdxType:"PlatformTabs"},(0,r.kt)("core",null,(0,r.kt)("p",null,"Install the plugin:"),(0,r.kt)("pre",null,(0,r.kt)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"yarn add @player-ui/check-path-plugin\n")),(0,r.kt)("p",null,"Add it to Player:"),(0,r.kt)("pre",null,(0,r.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),"import CheckPathPlugin from '@player-ui/check-path-plugin';\n\nconst checkPathPlugin = new CheckPathPlugin();\nconst player = new Player({ plugins: [checkPathPlugin] });\n\n// Start your flow\nplayer.start(myFlow);\n")),(0,r.kt)("p",null,"Then use the plugin to query the view:"),(0,r.kt)("pre",null,(0,r.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),"const isCustomThing = checkPathPlugin.hasParentContext('my-asset-id', [\n  'input',\n  'myCustomViewType',\n]);\n"))),(0,r.kt)("react",null,(0,r.kt)("p",null,"Install the plugin:"),(0,r.kt)("pre",null,(0,r.kt)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"yarn add @player-ui/check-path-plugin-react\n")),(0,r.kt)("p",null,"Add it to Player:"),(0,r.kt)("pre",null,(0,r.kt)("code",Object.assign({parentName:"pre"},{className:"language-js"}),"import { WebPlayer } from '@player-ui/react';\nimport { CheckPathPlugin } from '@player-ui/check-path-plugin-react';\n\nconst wp = new WebPlayer({\n  plugins: [new CheckPathPlugin()],\n});\n")),(0,r.kt)("p",null,"This will automatically create the underlying ",(0,r.kt)("em",{parentName:"p"},"core")," version of the ",(0,r.kt)("inlineCode",{parentName:"p"},"CheckPathPlugin")," to be made available via ",(0,r.kt)("inlineCode",{parentName:"p"},"React")," Context for the hooks."))),(0,r.kt)("h2",Object.assign({},{id:"api"}),(0,r.kt)("a",Object.assign({parentName:"h2"},{href:"#api"}),"API")),(0,r.kt)(o,{mdxType:"PlatformTabs"},(0,r.kt)("core",null,(0,r.kt)("h3",Object.assign({},{id:"query"}),(0,r.kt)("a",Object.assign({parentName:"h3"},{href:"#query"}),"Query")),(0,r.kt)("p",null,"In most of the methods, the ",(0,r.kt)("inlineCode",{parentName:"p"},"Query")," type is referenced.\nThis can either be a ",(0,r.kt)("inlineCode",{parentName:"p"},"function"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"string"),", or an ",(0,r.kt)("inlineCode",{parentName:"p"},"object"),"."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"string")," - an alias for ",(0,r.kt)("inlineCode",{parentName:"li"},"{ type: '<string>' }")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"object")," - uses a partial-object match to query the object"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"function")," - a filter that gets passed an object, and returns a boolean")),(0,r.kt)("p",null,"There are a few different functions exposed by the plugin you can use:"),(0,r.kt)("h3",Object.assign({},{id:"getparent"}),(0,r.kt)("a",Object.assign({parentName:"h3"},{href:"#getparent"}),"getParent")),(0,r.kt)("pre",null,(0,r.kt)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),"function getParent(id: string, query: Query | Query[]): Asset | undefined\n")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"getParent")," method allows you to query up the tree, and return the first parent that matches the given query, or ",(0,r.kt)("inlineCode",{parentName:"p"},"undefined"),".\nIf an array is passed, the tree is parsed matching on each query item from left to right. The parent object that matches the last query item is returned."),(0,r.kt)("hr",null),(0,r.kt)("h3",Object.assign({},{id:"getparentprop"}),(0,r.kt)("a",Object.assign({parentName:"h3"},{href:"#getparentprop"}),"getParentProp")),(0,r.kt)("pre",null,(0,r.kt)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),"function getParentProp(id: string): string | undefined\n")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"getParentProp")," method returns the property on the parent object that the current object falls under.\nFor example, an ",(0,r.kt)("inlineCode",{parentName:"p"},"input")," with a ",(0,r.kt)("inlineCode",{parentName:"p"},"text")," asset as the label, will return ",(0,r.kt)("inlineCode",{parentName:"p"},"label")," for the parentProp of the ",(0,r.kt)("inlineCode",{parentName:"p"},"text")," asset."),(0,r.kt)("hr",null),(0,r.kt)("h3",Object.assign({},{id:"hasparentcontext"}),(0,r.kt)("a",Object.assign({parentName:"h3"},{href:"#hasparentcontext"}),"hasParentContext")),(0,r.kt)("pre",null,(0,r.kt)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),"function hasParentContext(id: string, query: Query | Query[]): boolean\n")),(0,r.kt)("p",null,"Similar to ",(0,r.kt)("inlineCode",{parentName:"p"},"getParent"),", the ",(0,r.kt)("inlineCode",{parentName:"p"},"hasParentContext")," method responds with the ",(0,r.kt)("em",{parentName:"p"},"existence")," of a parent with the given context."),(0,r.kt)("hr",null),(0,r.kt)("h3",Object.assign({},{id:"haschildcontext"}),(0,r.kt)("a",Object.assign({parentName:"h3"},{href:"#haschildcontext"}),"hasChildContext")),(0,r.kt)("pre",null,(0,r.kt)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),"function hasChildContext(id: string, query: Query | Query[]): boolean\n")),(0,r.kt)("p",null,"The compliment of ",(0,r.kt)("inlineCode",{parentName:"p"},"hasParentContext"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"hasChildContext")," traverses ",(0,r.kt)("em",{parentName:"p"},"down")," the tree for ",(0,r.kt)("em",{parentName:"p"},"any")," path from the given node that satisfies the context requirements.")),(0,r.kt)("react",null,(0,r.kt)("p",null,"The API for the ",(0,r.kt)("inlineCode",{parentName:"p"},"React")," version of the ",(0,r.kt)("inlineCode",{parentName:"p"},"CheckPathPlugin")," is similar to the ",(0,r.kt)("em",{parentName:"p"},"core")," version, just exposed through ",(0,r.kt)("inlineCode",{parentName:"p"},"React")," hooks for easy use in custom assets:"),(0,r.kt)("pre",null,(0,r.kt)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),"function useGetParent(id: string, query: Query | Query[]): Asset | undefined;\nfunction useGetParentProp(id: string): string | undefined;\nfunction useHasParentContext(id: string, query: Query | Query[]): boolean;\nfunction useHasChildContext(id: string, query: Query | Query[]): boolean;\n")),(0,r.kt)("h2",Object.assign({},{id:"example"}),(0,r.kt)("a",Object.assign({parentName:"h2"},{href:"#example"}),"Example")),(0,r.kt)("pre",null,(0,r.kt)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"import { useHasParentContext } from '@player-ui/check-path-plugin-react';\n\nexport const MyAsset = ({ id }) => {\n  // If the asset is rendered within a form, render as a select instead of a radio button\n  const isInForm = useHasParentContext(id, 'form');\n  return isInForm ? <Select /> : <RadioGroup />;\n}\n")))))}c.isMDXComponent=!0}},function(e){e.O(0,[6525,204,3795,9774,2888,179],(function(){return t=70220,e(e.s=t);var t}));var t=e.O();_N_E=t}]);