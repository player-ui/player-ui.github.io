(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6651],{30876:function(e,n,t){"use strict";t.d(n,{Zo:function(){return c},kt:function(){return m}});var a=t(2784);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=a.createContext({}),p=function(e){var n=a.useContext(s),t=n;return e&&(t="function"===typeof e?e(n):l(l({},n),e)),t},c=function(e){var n=p(e.components);return a.createElement(s.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),u=p(t),m=r,y=u["".concat(s,".").concat(m)]||u[m]||d[m]||i;return t?a.createElement(y,l(l({ref:n},c),{},{components:t})):a.createElement(y,l({ref:n},c))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"===typeof e||r){var i=t.length,l=new Array(i);l[0]=u;var o={};for(var s in n)hasOwnProperty.call(n,s)&&(o[s]=n[s]);o.originalType=e,o.mdxType="string"===typeof e?e:r,l[1]=o;for(var p=2;p<i;p++)l[p]=t[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},57393:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/getting-started",function(){return t(86640)}])},43857:function(e,n,t){"use strict";t.d(n,{Z:function(){return N}});var a=t(52322),r=t(2784),i=t(97729),l=t(64033),o=t(30876),s=t(21925),p=t(76808),c=t(55165),d=t(63637),u=t.n(d);function m(){return(m=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function y(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}var g=["id"],h=["id"],f="chakra-skip-nav",k={userSelect:"none",border:"0",height:"1px",width:"1px",margin:"-1px",padding:"0",outline:"0",overflow:"hidden",position:"absolute",clip:"rect(0 0 0 0)",_focus:{clip:"auto",width:"auto",height:"auto"}},b=(0,p.Gp)((function(e,n){var t=(0,p.mq)("SkipLink",e),a=(0,p.Lr)(e),i=a.id,l=void 0===i?f:i,o=y(a,g),s=u()({},k,t);return r.createElement(p.m$.a,m({},o,{ref:n,href:"#"+l,__css:s}))}));c.Ts&&(b.displayName="SkipNavLink");var w=(0,p.Gp)((function(e,n){var t=e.id,a=void 0===t?f:t,i=y(e,h);return r.createElement(p.m$.div,m({ref:n,id:a,tabIndex:-1,style:{outline:0}},i))}));c.Ts&&(w.displayName="SkipNavContent");var v=t(46977),x=t(55002),j=function(e){var n;return(0,a.jsxs)(l.xu,{display:{base:"none",xl:"block"},children:["Table Of Contents",(0,a.jsx)(l.GS,{spacing:1,ml:"0",mt:"4",styleType:"none",children:null===(n=e.tableOfContents)||void 0===n?void 0:n.map((function(e){return(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"#".concat(e.id),children:e.text})},e.text)}))})]})},O=function(e){var n=r.useContext(v.Il).bannerExpanded,t="72px",i="calc(100vh - 88px - ".concat(n?t:"0px",")"),o="calc(100vh - 88px - 105px - ".concat(n?t:"0px",")");return(0,a.jsxs)(l.xu,{minH:"100vh",children:[(0,a.jsx)(b,{children:"Skip to Main Content"}),(0,a.jsxs)(l.kC,{flexDir:"column",padding:"2",children:[(0,a.jsx)(x._g,{}),(0,a.jsx)(l.iz,{}),(0,a.jsx)(l.kC,{children:(0,a.jsx)(l.xu,{as:"main",w:"100%",mx:"auto",children:(0,a.jsxs)(l.xu,{display:{md:"flex"},children:[(0,a.jsx)(l.xu,{display:{base:"none",md:"block"},overflow:"auto",maxH:i,pr:"8",ml:"4",children:(0,a.jsx)(x.Hy,{})}),(0,a.jsxs)(l.xu,{flex:"1",minW:"0",overflow:"auto",maxH:i,children:[(0,a.jsxs)(l.xu,{minH:o,children:[(0,a.jsx)(w,{}),e.children]}),(0,a.jsx)(l.xu,{pt:"20",children:(0,a.jsx)(x.$_,{})})]}),e.tableOfContents&&(0,a.jsx)(j,{tableOfContents:e.tableOfContents})]})})})]})]})};function N(e){return function(n){return(0,a.jsxs)(O,{children:[(0,a.jsx)(i.default,{children:(0,a.jsxs)("title",{children:["Player - ",e.title]})}),(0,a.jsx)(l.kC,{alignItems:"center",children:(0,a.jsx)(l.W2,{maxW:"container.lg",children:(0,a.jsx)(o.Zo,{components:s.tl,children:n.children})})})]})}}},86640:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return d}});t(2784);var a=t(30876),r=t(43857);function i(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=function(e){return function(n){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,a.kt)("div",Object.assign({},n))}},o=l("PlatformTabs"),s=l("Alert"),p={},c=(0,r.Z)({title:"Getting Started",tableOfContents:[{text:"Getting Started",id:"getting-started",level:1},{text:"Install Dependencies",id:"install-dependencies",level:3},{text:"Release Optimization",id:"release-optimization",level:4},{text:"Configuration",id:"configuration",level:3},{text:"Render Content",id:"render-content",level:3},{text:"ViewModel",id:"viewmodel",level:4},{text:"PlayerViewModel",id:"playerviewmodel",level:5},{text:"PlayerFragment",id:"playerfragment",level:5}]});function d(e){var n=e.components,t=i(e,["components"]);return(0,a.kt)(c,Object.assign({},p,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",Object.assign({},{id:"getting-started"}),(0,a.kt)("a",Object.assign({parentName:"h1"},{href:"#getting-started"}),"Getting Started")),(0,a.kt)("p",null,"Getting started with Player is simple."),(0,a.kt)("h3",Object.assign({},{id:"install-dependencies"}),(0,a.kt)("a",Object.assign({parentName:"h3"},{href:"#install-dependencies"}),"Install Dependencies")),(0,a.kt)("p",null,"The first dependency you\u2019ll need to pull in is the Player itself. Additionally, you\u2019ll need an assets plugin to define any UI \u2014 we\u2019ll use the reference assets as an example."),(0,a.kt)(o,{mdxType:"PlatformTabs"},(0,a.kt)("react",null,(0,a.kt)("p",null,"You can do this by running"),(0,a.kt)("pre",null,(0,a.kt)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"yarn add @player-ui/react\nyarn add @player-ui/reference-assets-plugin-react\n")),(0,a.kt)("p",null,"or"),(0,a.kt)("pre",null,(0,a.kt)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"npm install @player-ui/react\nnpm install @player-ui/reference-assets-plugin-react\n"))),(0,a.kt)("ios",null,(0,a.kt)("p",null,"In your ",(0,a.kt)("inlineCode",{parentName:"p"},"Podfile")," you\u2019ll need to add ",(0,a.kt)("inlineCode",{parentName:"p"},"PlayerUI")," as a dependency and the ",(0,a.kt)("inlineCode",{parentName:"p"},"ReferenceAssets")," plugin to use the base set of assets."),(0,a.kt)("pre",null,(0,a.kt)("code",Object.assign({parentName:"pre"},{className:"language-ruby"}),"source 'https://github.com/player-ui/player'\n\ntarget 'MyApp' do\n  # Add the pod to your target\n  pod 'PlayerUI'\n  pod 'PlayerUI/ReferenceAssets' # For example only\nend\n"))),(0,a.kt)("android",null,(0,a.kt)("p",null,"Configure the Android Player dependencies in your ",(0,a.kt)("inlineCode",{parentName:"p"},"build.gradle(.kts)")," files."),(0,a.kt)("pre",null,(0,a.kt)("code",Object.assign({parentName:"pre"},{className:"language-kotlin"}),'dependencies {\n    // Android Player\n    implementation("com.intuit.player.android:player:$playerVersion")\n    // Optional - reference assets\n    implementation("com.intuit.player.android:assets:$playerVersion")\n}\n')),(0,a.kt)("h4",Object.assign({},{id:"release-optimization"}),(0,a.kt)("a",Object.assign({parentName:"h4"},{href:"#release-optimization"}),"Release Optimization")),(0,a.kt)("p",null,"The Android Player dependency automatically pulls in both the ",(0,a.kt)("inlineCode",{parentName:"p"},"dev")," as well as the ",(0,a.kt)("inlineCode",{parentName:"p"},"prod")," versions of the underlying JS scripts."),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"dev")," scripts are handy for debugging shared JS code through the JS debugger in debug builds, but they are not necessary for consumer facing release builds."),(0,a.kt)("p",null,"To optimize the release bundles, it is highly recommended to exclude the ",(0,a.kt)("inlineCode",{parentName:"p"},"dev")," scripts, as well as enabling V8 to strip out unused code from the final bundle."),(0,a.kt)("pre",null,(0,a.kt)("code",Object.assign({parentName:"pre"},{className:"language-kotlin"}),'buildTypes {\n    getByName("release") {\n        isMinifyEnabled = true\n        isShrinkResources = true\n        packagingOptions {\n            exclude("**/*.dev.js")\n        }\n    }\n}\n')))),(0,a.kt)(s,{status:"warning",description:"The reference assets aren't intended for production use. They exist as an example of how to create assets and can be used to help get started.",mdxType:"Alert"}),(0,a.kt)("h3",Object.assign({},{id:"configuration"}),(0,a.kt)("a",Object.assign({parentName:"h3"},{href:"#configuration"}),"Configuration")),(0,a.kt)("p",null,"Next, in your code you\u2019ll need to initialize Player. This is where you would also initialize any plugins you want to use with Player and create the configuration for Player itself. Below is a minimal example of this."),(0,a.kt)(o,{mdxType:"PlatformTabs"},(0,a.kt)("react",null,(0,a.kt)("pre",null,(0,a.kt)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),"import { ReactPlayer } from '@player-ui/react';\nimport { ReferenceAssetsPlugin } from '@player-ui/reference-assets-plugin-react';\n\n// create a new web-player instance\n\nconst reactPlayer = new ReactPlayer({\n  plugins: [new ReferenceAssetsPlugin()],\n});\n"))),(0,a.kt)("ios",null,(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"SwiftUIPlayer")," is just a normal SwiftUI View and can be inserted anywhere in your hierarchy."),(0,a.kt)("pre",null,(0,a.kt)("code",Object.assign({parentName:"pre"},{className:"language-swift"}),"import PlayerUI\n\nvar body: some View {\n  SwiftUIPlayer(\n    plugins: [ReferenceAssetsPlugin()],\n  )\n}\n"))),(0,a.kt)("android",null,(0,a.kt)("pre",null,(0,a.kt)("code",Object.assign({parentName:"pre"},{className:"language-kotlin"}),"// create Android Player with reference assets plugin\nval player = AndroidPlayer(\n    listOf(\n        ReferenceAssetsPlugin(),\n        // Any other plugins\n    )\n)\n")),(0,a.kt)("p",null,"Apart from providing a list of plugins while setting up ",(0,a.kt)("inlineCode",{parentName:"p"},"AndroidPlayer"),", you can also provide a ",(0,a.kt)("inlineCode",{parentName:"p"},"config")," object that has the following options:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"debuggable")," - Indicates if the runtime is debuggable on android through chromium devtools, enabling this would let you set breakpoints in js code as you\u2019re running it on android."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"coroutineExceptionHandler")," - ",(0,a.kt)("a",Object.assign({parentName:"li"},{href:"https://kotlinlang.org/docs/exception-handling.html#coroutineexceptionhandler"}),"CoroutineExceptionHandler")," should handle all uncaught exceptions while using the runtime coroutine scope."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"timeout")," - Timeout for the JS thread. If none is provided then it is set as ",(0,a.kt)("inlineCode",{parentName:"li"},"if (debuggable) Int.MAX_VALUE.toLong() else 5000"),".")))),(0,a.kt)("h3",Object.assign({},{id:"render-content"}),(0,a.kt)("a",Object.assign({parentName:"h3"},{href:"#render-content"}),"Render Content")),(0,a.kt)("p",null,"Now that you have a Player instance created. You\u2019ll need to start it with some ",(0,a.kt)("a",Object.assign({parentName:"p"},{href:"/content"}),"content"),"."),(0,a.kt)(o,{mdxType:"PlatformTabs"},(0,a.kt)("react",null,(0,a.kt)("pre",null,(0,a.kt)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),"const content = {/* your content here */}\nreactPlayer.start(content);\n")),(0,a.kt)("p",null,"With Player running your content, you\u2019ll need to actually render out what is processes. To do this, you can use the React Player\u2019s component API to insert it into your React tree."),(0,a.kt)("pre",null,(0,a.kt)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),"const MyApp = () => {\n  return <reactPlayer.Component />;\n};\n"))),(0,a.kt)("ios",null,(0,a.kt)("p",null,"Expanding on the ",(0,a.kt)("inlineCode",{parentName:"p"},"SwiftUIPlayer")," creation above, providing a ",(0,a.kt)("inlineCode",{parentName:"p"},"flow")," will start the Player automatically, and the ",(0,a.kt)("inlineCode",{parentName:"p"},"result")," will update the ",(0,a.kt)("inlineCode",{parentName:"p"},"Binding<Result<CompletedState, PlayerError>?>")," that you pass to it:"),(0,a.kt)("pre",null,(0,a.kt)("code",Object.assign({parentName:"pre"},{className:"language-swift"}),"import PlayerUI\n\nstruct MyApp: View {\n  @State var result: Result<CompletedState, PlayerError>? = nil\n  @ObservedObject var viewModel: MyViewModel\n  var body: some View {\n    SwiftUIPlayer(\n      flow: $viewModel.flowString,\n      plugins: [ReferenceAssetsPlugin()],\n      result: $result\n    )\n  }\n}\n"))),(0,a.kt)("android",null,(0,a.kt)("p",null,"To receive view updates, you must add a handler to render the views which are represented as ",(0,a.kt)("inlineCode",{parentName:"p"},"RenderableAsset"),"s."),(0,a.kt)("pre",null,(0,a.kt)("code",Object.assign({parentName:"pre"},{className:"language-kotlin"}),"// handle view updates - should be done before starting the Player\nplayer.onUpdate { asset: RenderableAsset? ->\n    // render asset as View `into` view tree\n    asset?.render() into binding.playerContainer\n}\n\n// start Player\nplayer.start(content)\n")),(0,a.kt)("p",null,"When you\u2019re done with Player, release any native runtime memory used to instantiate Player or run the flow."),(0,a.kt)("pre",null,(0,a.kt)("code",Object.assign({parentName:"pre"},{className:"language-kotlin"}),"player.release()\n")),(0,a.kt)("p",null,"Creating your own ",(0,a.kt)("inlineCode",{parentName:"p"},"AndroidPlayer")," instance is fairly simple, but it grows in complexity when considering proper resources management and app orchestration. We provide a Fragment/ViewModel integration to make it easier to properly integrate into your app and account for these concerns. "),(0,a.kt)("h4",Object.assign({},{id:"viewmodel"}),(0,a.kt)("a",Object.assign({parentName:"h4"},{href:"#viewmodel"}),"ViewModel")),(0,a.kt)("p",null,"With the ",(0,a.kt)("inlineCode",{parentName:"p"},"PlayerViewModel")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"PlayerFragment"),", the above orchestration is done for you. All that is needed is to provide concrete implementations of each and add the fragment to your app."),(0,a.kt)("h5",Object.assign({},{id:"playerviewmodel"}),(0,a.kt)("a",Object.assign({parentName:"h5"},{href:"#playerviewmodel"}),"PlayerViewModel")),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"PlayerViewModel")," requires an ",(0,a.kt)("inlineCode",{parentName:"p"},"AsyncFlowIterator")," to be supplied in the constructor. The AsyncFlowIterator is what tells Player which flows to run. This can be hardcoded into the view model or expected as an argument, as shown below."),(0,a.kt)("pre",null,(0,a.kt)("code",Object.assign({parentName:"pre"},{className:"language-kotlin"}),"class SimplePlayerViewModel(flows: AsyncFlowIterator) : PlayerViewModel(flows) {\n    override val plugins = listOf(ReferenceAssetsPlugin())\n}\n")),(0,a.kt)("h5",Object.assign({},{id:"playerfragment"}),(0,a.kt)("a",Object.assign({parentName:"h5"},{href:"#playerfragment"}),"PlayerFragment")),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"PlayerFragment")," is a simple Android ",(0,a.kt)("inlineCode",{parentName:"p"},"Fragment")," that only requires a specific ",(0,a.kt)("inlineCode",{parentName:"p"},"PlayerViewModel")," to be defined. If your view model requires the ",(0,a.kt)("inlineCode",{parentName:"p"},"AsyncFlowIterator")," to be passed as part of the constructor, you can leverage the ",(0,a.kt)("inlineCode",{parentName:"p"},"PlayerViewModel.Factory")," to produce it, as shown below."),(0,a.kt)("p",null,"Specifically, this fragment takes a flow as an argument to the constructor and creates a single-flow ",(0,a.kt)("inlineCode",{parentName:"p"},"AsyncFlowIterator")," instance using the pseudo-constructor helper."),(0,a.kt)("pre",null,(0,a.kt)("code",Object.assign({parentName:"pre"},{className:"language-kotlin"}),"class SimplePlayerFragment(override val flow: String) : PlayerFragment() {\n    override val playerViewModel by viewModels<SimplePlayerViewModel> {\n        PlayerViewModel.Factory(AsyncFlowIterator(flow), ::SimplePlayerViewModel)\n    }\n}\n")))),(0,a.kt)("p",null,"Congrats! You\u2019ve got Player up and running. If you need additional functionality you can add more plugins to extend Player\u2019s functionality. Head over to the ",(0,a.kt)("a",Object.assign({parentName:"p"},{href:"./plugins"}),"Plugins")," section to take a look at the Plugins we\u2019ve developed or take a look at the ",(0,a.kt)("a",Object.assign({parentName:"p"},{href:"./architecture"}),"Architecture")," section to see how you can write your own."),(0,a.kt)("hr",null),(0,a.kt)("p",null,(0,a.kt)("a",Object.assign({parentName:"p"},{href:"https://github.dev/player-ui/player/blob/main/docs/site/pages/getting-started.mdx"}),"Help to improve this page")))}d.isMDXComponent=!0}},function(e){e.O(0,[6525,7882,3832,9774,2888,179],(function(){return n=57393,e(e.s=n);var n}));var n=e.O();_N_E=n}]);