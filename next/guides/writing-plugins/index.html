<!DOCTYPE html><html lang="en" dir="ltr" data-has-toc data-has-sidebar data-theme="dark" class="astro-nz53zrg7"> <head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Writing a Plugin | Player</title><link rel="canonical"/><link rel="shortcut icon" href="/next/favicon.svg" type="image/svg+xml"/><meta name="generator" content="Astro v4.16.7"/><meta name="generator" content="Starlight v0.28.3"/><meta property="og:title" content="Writing a Plugin"/><meta property="og:type" content="article"/><meta property="og:url"/><meta property="og:locale" content="en"/><meta property="og:description"/><meta property="og:site_name" content="Player"/><meta name="twitter:card" content="summary_large_image"/><script>
	window.StarlightThemeProvider = (() => {
		const storedTheme =
			typeof localStorage !== 'undefined' && localStorage.getItem('starlight-theme');
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
		document.documentElement.dataset.theme = theme === 'light' ? 'light' : 'dark';
		return {
			updatePickers(theme = storedTheme || 'auto') {
				document.querySelectorAll('starlight-theme-select').forEach((picker) => {
					const select = picker.querySelector('select');
					if (select) select.value = theme;
					/** @type {HTMLTemplateElement | null} */
					const tmpl = document.querySelector(`#theme-icons`);
					const newIcon = tmpl && tmpl.content.querySelector('.' + theme);
					if (newIcon) {
						const oldIcon = picker.querySelector('svg.label-icon');
						if (oldIcon) {
							oldIcon.replaceChildren(...newIcon.cloneNode(true).childNodes);
						}
					}
				});
			},
		};
	})();
</script><template id="theme-icons"><svg aria-hidden="true" class="light astro-r5wkcvu6" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h1a1 1 0 0 0 1-1Zm.64 5-.71.71a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l.71-.71A1 1 0 0 0 5.64 17ZM12 5a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v1a1 1 0 0 0 1 1Zm5.66 2.34a1 1 0 0 0 .7-.29l.71-.71a1 1 0 1 0-1.41-1.41l-.66.71a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.29Zm-12-.29a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.71-.71a1.004 1.004 0 1 0-1.43 1.41l.73.71ZM21 11h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2Zm-2.64 6A1 1 0 0 0 17 18.36l.71.71a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.76-.66ZM12 6.5a5.5 5.5 0 1 0 5.5 5.5A5.51 5.51 0 0 0 12 6.5Zm0 9a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm0 3.5a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1a1 1 0 0 0-1-1Z"/></svg> <svg aria-hidden="true" class="dark astro-r5wkcvu6" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.64 13a1 1 0 0 0-1.05-.14 8.049 8.049 0 0 1-3.37.73 8.15 8.15 0 0 1-8.14-8.1 8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05Zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27a10.15 10.15 0 0 0 10.14 10.14 9.784 9.784 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32v-.04Z"/></svg> <svg aria-hidden="true" class="auto astro-r5wkcvu6" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> </template><link rel="stylesheet" href="/next/_astro/dsl-content-playground.DSiXiffg.css">
<style>:root{--sl-badge-default-border: var(--sl-color-accent);--sl-badge-default-bg: var(--sl-color-accent-low);--sl-badge-default-text: #fff;--sl-badge-note-border: var(--sl-color-blue);--sl-badge-note-bg: var(--sl-color-blue-low);--sl-badge-note-text: #fff;--sl-badge-danger-border: var(--sl-color-red);--sl-badge-danger-bg: var(--sl-color-red-low);--sl-badge-danger-text: #fff;--sl-badge-success-border: var(--sl-color-green);--sl-badge-success-bg: var(--sl-color-green-low);--sl-badge-success-text: #fff;--sl-badge-caution-border: var(--sl-color-orange);--sl-badge-caution-bg: var(--sl-color-orange-low);--sl-badge-caution-text: #fff;--sl-badge-tip-border: var(--sl-color-purple);--sl-badge-tip-bg: var(--sl-color-purple-low);--sl-badge-tip-text: #fff}[data-theme=light]:root{--sl-badge-default-bg: var(--sl-color-accent-high);--sl-badge-note-bg: var(--sl-color-blue-high);--sl-badge-danger-bg: var(--sl-color-red-high);--sl-badge-success-bg: var(--sl-color-green-high);--sl-badge-caution-bg: var(--sl-color-orange-high);--sl-badge-tip-bg: var(--sl-color-purple-high)}.sl-badge:where(.astro-swuswzhu){display:inline-block;border:1px solid var(--sl-color-border-badge);border-radius:.25rem;font-family:var(--sl-font-system-mono);line-height:normal;color:var(--sl-color-text-badge);background-color:var(--sl-color-bg-badge);overflow-wrap:anywhere}.sidebar-content .sl-badge:where(.astro-swuswzhu){line-height:1;font-size:var(--sl-text-xs);padding:.125rem .375rem}.sidebar-content a[aria-current=page]>.sl-badge:where(.astro-swuswzhu){--sl-color-bg-badge: transparent;--sl-color-border-badge: currentColor;color:inherit}.default:where(.astro-swuswzhu){--sl-color-bg-badge: var(--sl-badge-default-bg);--sl-color-border-badge: var(--sl-badge-default-border);--sl-color-text-badge: var(--sl-badge-default-text)}.note:where(.astro-swuswzhu){--sl-color-bg-badge: var(--sl-badge-note-bg);--sl-color-border-badge: var(--sl-badge-note-border);--sl-color-text-badge: var(--sl-badge-note-text)}.danger:where(.astro-swuswzhu){--sl-color-bg-badge: var(--sl-badge-danger-bg);--sl-color-border-badge: var(--sl-badge-danger-border);--sl-color-text-badge: var(--sl-badge-danger-text)}.success:where(.astro-swuswzhu){--sl-color-bg-badge: var(--sl-badge-success-bg);--sl-color-border-badge: var(--sl-badge-success-border);--sl-color-text-badge: var(--sl-badge-success-text)}.tip:where(.astro-swuswzhu){--sl-color-bg-badge: var(--sl-badge-tip-bg);--sl-color-border-badge: var(--sl-badge-tip-border);--sl-color-text-badge: var(--sl-badge-tip-text)}.caution:where(.astro-swuswzhu){--sl-color-bg-badge: var(--sl-badge-caution-bg);--sl-color-border-badge: var(--sl-badge-caution-border);--sl-color-text-badge: var(--sl-badge-caution-text)}.small:where(.astro-swuswzhu){font-size:var(--sl-text-xs);padding:.125rem .25rem}.medium:where(.astro-swuswzhu){font-size:var(--sl-text-sm);padding:.175rem .35rem}.large:where(.astro-swuswzhu){font-size:var(--sl-text-base);padding:.225rem .45rem}.sl-markdown-content :is(h1,h2,h3,h4,h5,h6) .sl-badge:where(.astro-swuswzhu){vertical-align:middle}
.card-grid:where(.astro-lbsw5fhw){display:grid;gap:1rem}.card-grid:where(.astro-lbsw5fhw)>*{margin-top:0!important}@media (min-width: 50rem){.card-grid:where(.astro-lbsw5fhw){grid-template-columns:1fr 1fr;gap:1.5rem}.stagger:where(.astro-lbsw5fhw){--stagger-height: 5rem;padding-bottom:var(--stagger-height)}.stagger:where(.astro-lbsw5fhw)>*:nth-child(2n){transform:translateY(var(--stagger-height))}}
.card:where(.astro-7xrawqv3){--sl-card-border: var(--sl-color-purple);--sl-card-bg: var(--sl-color-purple-low);border:1px solid var(--sl-color-gray-5);background-color:var(--sl-color-black);padding:clamp(1rem,calc(.125rem + 3vw),2.5rem);flex-direction:column;gap:clamp(.5rem,calc(.125rem + 1vw),1rem)}.card:where(.astro-7xrawqv3):nth-child(4n+1){--sl-card-border: var(--sl-color-orange);--sl-card-bg: var(--sl-color-orange-low)}.card:where(.astro-7xrawqv3):nth-child(4n+3){--sl-card-border: var(--sl-color-green);--sl-card-bg: var(--sl-color-green-low)}.card:where(.astro-7xrawqv3):nth-child(4n+4){--sl-card-border: var(--sl-color-red);--sl-card-bg: var(--sl-color-red-low)}.card:where(.astro-7xrawqv3):nth-child(4n+5){--sl-card-border: var(--sl-color-blue);--sl-card-bg: var(--sl-color-blue-low)}.title:where(.astro-7xrawqv3){font-weight:600;font-size:var(--sl-text-h4);color:var(--sl-color-white);line-height:var(--sl-line-height-headings);gap:1rem;align-items:center}.card:where(.astro-7xrawqv3) .icon:where(.astro-7xrawqv3){border:1px solid var(--sl-card-border);background-color:var(--sl-card-bg);padding:.2em;border-radius:.25rem}.card:where(.astro-7xrawqv3) .body:where(.astro-7xrawqv3){margin:0;font-size:clamp(var(--sl-text-sm),calc(.5rem + 1vw),var(--sl-text-body))}
svg:where(.astro-r5wkcvu6){color:var(--sl-icon-color);font-size:var(--sl-icon-size, 1em);width:1em;height:1em}
starlight-tabs:where(.astro-rgxni7qh){display:block}.tablist-wrapper:where(.astro-rgxni7qh){overflow-x:auto}:where(.astro-rgxni7qh)[role=tablist]{display:flex;list-style:none;border-bottom:2px solid var(--sl-color-gray-5);padding:0}.tab:where(.astro-rgxni7qh){margin-bottom:-2px}.tab:where(.astro-rgxni7qh)>:where(.astro-rgxni7qh)[role=tab]{display:flex;align-items:center;gap:.5rem;padding:0 1.25rem;text-decoration:none;border-bottom:2px solid var(--sl-color-gray-5);color:var(--sl-color-gray-3);outline-offset:var(--sl-outline-offset-inside);overflow-wrap:initial}.tab:where(.astro-rgxni7qh) :where(.astro-rgxni7qh)[role=tab][aria-selected=true]{color:var(--sl-color-white);border-color:var(--sl-color-text-accent);font-weight:600}.tablist-wrapper:where(.astro-rgxni7qh)~[role=tabpanel]{margin-top:1rem}
.sl-steps{--bullet-size: calc(var(--sl-line-height) * 1rem);--bullet-margin: .375rem;list-style:none;counter-reset:steps-counter var(--sl-steps-start, 0);padding-inline-start:0}.sl-steps>li{counter-increment:steps-counter;position:relative;padding-inline-start:calc(var(--bullet-size) + 1rem);padding-bottom:1px;min-height:calc(var(--bullet-size) + var(--bullet-margin))}.sl-steps>li+li{margin-top:0}.sl-steps>li:before{content:counter(steps-counter);position:absolute;top:0;inset-inline-start:0;width:var(--bullet-size);height:var(--bullet-size);line-height:var(--bullet-size);font-size:var(--sl-text-xs);font-weight:600;text-align:center;color:var(--sl-color-white);background-color:var(--sl-color-gray-6);border-radius:99rem;box-shadow:inset 0 0 0 1px var(--sl-color-gray-5)}.sl-steps>li:after{--guide-width: 1px;content:"";position:absolute;top:calc(var(--bullet-size) + var(--bullet-margin));bottom:var(--bullet-margin);inset-inline-start:calc((var(--bullet-size) - var(--guide-width)) / 2);width:var(--guide-width);background-color:var(--sl-color-hairline-light)}.sl-steps>li>:first-child{--lh: calc(1em * var(--sl-line-height));--shift-y: calc(.5 * (var(--bullet-size) - var(--lh)));transform:translateY(var(--shift-y));margin-bottom:var(--shift-y)}.sl-steps>li>:first-child:where(h1,h2,h3,h4,h5,h6){--lh: calc(1em * var(--sl-line-height-headings))}@supports (--prop: 1lh){.sl-steps>li>:first-child{--lh: 1lh}}
.sl-link-button:where(.astro-koxyvvwc){align-items:center;border:1px solid transparent;border-radius:999rem;display:inline-flex;font-size:var(--sl-text-sm);gap:.5em;line-height:1.1875;outline-offset:.25rem;padding:.4375rem 1.125rem;text-decoration:none}.sl-link-button:where(.astro-koxyvvwc).primary{background:var(--sl-color-text-accent);border-color:var(--sl-color-text-accent);color:var(--sl-color-black)}.sl-link-button:where(.astro-koxyvvwc).primary:hover{color:var(--sl-color-black)}.sl-link-button:where(.astro-koxyvvwc).secondary{border-color:inherit;color:var(--sl-color-white)}.sl-link-button:where(.astro-koxyvvwc).minimal{color:var(--sl-color-white);padding-inline:0}.sl-link-button:where(.astro-koxyvvwc) svg{flex-shrink:0}@media (min-width: 50rem){.sl-link-button:where(.astro-koxyvvwc){font-size:var(--sl-text-base);padding:.9375rem 1.25rem}}.sl-markdown-content .sl-link-button:where(.astro-koxyvvwc){margin-inline-end:1rem}.sl-markdown-content .sl-link-button:where(.astro-koxyvvwc):not(:where(p *)){margin-block:1rem}
</style>
<link rel="stylesheet" href="/next/_astro/PlayerPreview.Dzwr6I_y.css"><script type="module" src="/next/_astro/hoisted.DufvxyZo.js"></script>
<script type="module" src="/next/_astro/page.7qqag-5g.js"></script><style>.card:where(.astro-ya25bz2t){padding:1rem;border:1px solid var(--sl-color-gray-5)}
</style><script src="/next/_astro/Tabs.astro_astro_type_script_index_0_lang.cJ4uOYCr.js" type="module"></script></head> <body class="astro-nz53zrg7"> <a href="#_top" class="astro-jn3nleln">Skip to content</a>  <div class="page sl-flex astro-rznvzq55"> <header class="header astro-rznvzq55"><div class="header sl-flex astro-75k6zwuw"> <div class="title-wrapper sl-flex astro-75k6zwuw"> <a href="/next/" class="site-title sl-flex astro-rao657ea">  <img class="light:sl-hidden astro-rao657ea" alt="" src="/next/_astro/logo-dark-large.BVfeRCvY.png" width="498" height="131"> <img class="dark:sl-hidden astro-rao657ea" alt="" src="/next/_astro/logo-light-large.aXhJk181.png" width="497" height="132"> <span class="sr-only astro-rao657ea"> Player </span> </a>  </div> <div class="sl-flex astro-75k6zwuw"> <sl-doc-search data-translations="{&#34;placeholder&#34;:&#34;Search&#34;,&#34;translations&#34;:{&#34;button&#34;:{&#34;buttonText&#34;:&#34;Search&#34;,&#34;buttonAriaLabel&#34;:&#34;Search&#34;},&#34;modal&#34;:{&#34;searchBox&#34;:{},&#34;startScreen&#34;:{},&#34;errorScreen&#34;:{},&#34;footer&#34;:{},&#34;noResultsScreen&#34;:{}}}}"> <button type="button" class="DocSearch DocSearch-Button" aria-label="Search"> <span class="DocSearch-Button-Container"> <svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"> <path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path> </svg> <span class="DocSearch-Button-Placeholder">Search</span> </span> <span class="DocSearch-Button-Keys"></span> </button> </sl-doc-search>   </div> <div class="sl-hidden md:sl-flex right-group astro-75k6zwuw"> <div class="sl-flex social-icons astro-75k6zwuw"> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();;(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="Y5eT7" component-url="/next/_astro/VersionSelector.DKtIbrZF.js" component-export="default" renderer-url="/next/_astro/client.B1wcx9l-.js" props="{&quot;route&quot;:[0,&quot;guides/writing-plugins&quot;],&quot;class&quot;:[0,&quot;astro-ymhdp2rl&quot;]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;VersionSelector&quot;,&quot;value&quot;:&quot;react&quot;}"></astro-island><div class="flex flex-row flex-1 justify-end gap-2 ml-4 astro-ymhdp2rl"> <a class="nav-item current astro-ymhdp2rl" href="/next/player/about/"> Player </a><a class="nav-item astro-ymhdp2rl" href="/next/plugins"> Plugins </a><a class="nav-item astro-ymhdp2rl" href="/next/tools/view-ast-explorer"> Tools </a> </div> <a href="https://github.com/player-ui/player" rel="me" class="sl-flex astro-wclntnsq"><span class="sr-only astro-wclntnsq">GitHub</span><svg aria-hidden="true" class="astro-wclntnsq astro-r5wkcvu6" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg> </a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-cmf5fs3a"> <span class="sr-only astro-cmf5fs3a">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-cmf5fs3a astro-r5wkcvu6" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg>  <select value="auto" class="astro-cmf5fs3a"> <option value="dark" class="astro-cmf5fs3a">Dark</option><option value="light" class="astro-cmf5fs3a">Light</option><option value="auto" selected class="astro-cmf5fs3a">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-cmf5fs3a astro-r5wkcvu6" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div> </div> </header> <nav class="sidebar astro-rznvzq55" aria-label="Main"> <starlight-menu-button class="astro-xdh4u3x3"> <button aria-expanded="false" aria-label="Menu" aria-controls="starlight__sidebar" class="sl-flex md:sl-hidden astro-xdh4u3x3"> <svg aria-hidden="true" class="astro-xdh4u3x3 astro-r5wkcvu6" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"/></svg>  </button> </starlight-menu-button>    <div id="starlight__sidebar" class="sidebar-pane astro-rznvzq55"> <div class="sidebar-content sl-flex astro-rznvzq55"> <sl-sidebar-state-persist data-hash="00y1tch" class="astro-5m6y3c3y"> <script>
		(() => {
			try {
				if (!matchMedia('(min-width: 50em)').matches) return;
				/** @type {HTMLElement | null} */
				const target = document.querySelector('sl-sidebar-state-persist');
				const state = JSON.parse(sessionStorage.getItem('sl-sidebar-state') || '0');
				if (!target || !state || target.dataset.hash !== state.hash) return;
				window._starlightScrollRestore = state.scroll;
				customElements.define(
					'sl-sidebar-restore',
					class SidebarRestore extends HTMLElement {
						connectedCallback() {
							try {
								const idx = parseInt(this.dataset.index || '');
								const details = this.closest('details');
								if (details && typeof state.open[idx] === 'boolean') details.open = state.open[idx];
							} catch {}
						}
					}
				);
			} catch {}
		})();
	</script>  <ul class="top-level astro-ikwsyqkw"> <li class="astro-ikwsyqkw"> <details open class="astro-ikwsyqkw"> <sl-sidebar-restore data-index="0"></sl-sidebar-restore> <summary class="astro-ikwsyqkw"> <div class="group-label astro-ikwsyqkw"> <span class="large astro-ikwsyqkw">Player</span>  </div> <svg aria-hidden="true" class="caret astro-ikwsyqkw astro-r5wkcvu6" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-ikwsyqkw"> <li class="astro-ikwsyqkw"> <a href="/next/player/about/" class="astro-ikwsyqkw"> <span class="astro-ikwsyqkw">About</span>  </a> </li><li class="astro-ikwsyqkw"> <a href="/next/player/faqs/" class="astro-ikwsyqkw"> <span class="astro-ikwsyqkw">FAQs</span>  </a> </li><li class="astro-ikwsyqkw"> <a href="/next/player/team/" class="astro-ikwsyqkw"> <span class="astro-ikwsyqkw">Player Team</span>  </a> </li> </ul>  </details> </li><li class="astro-ikwsyqkw"> <details open class="astro-ikwsyqkw"> <sl-sidebar-restore data-index="1"></sl-sidebar-restore> <summary class="astro-ikwsyqkw"> <div class="group-label astro-ikwsyqkw"> <span class="large astro-ikwsyqkw">Guides</span>  </div> <svg aria-hidden="true" class="caret astro-ikwsyqkw astro-r5wkcvu6" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-ikwsyqkw"> <li class="astro-ikwsyqkw"> <a href="/next/guides/designing-semantic-assets/" class="astro-ikwsyqkw"> <span class="astro-ikwsyqkw">Designing Semantic Assets</span>  </a> </li><li class="astro-ikwsyqkw"> <a href="/next/guides/formatting/" class="astro-ikwsyqkw"> <span class="astro-ikwsyqkw">Data Formatting and Deformatting</span>  </a> </li><li class="astro-ikwsyqkw"> <a href="/next/guides/getting-started/" class="astro-ikwsyqkw"> <span class="astro-ikwsyqkw">Getting Started</span>  </a> </li><li class="astro-ikwsyqkw"> <a href="/next/guides/multi-flow-experiences/" class="astro-ikwsyqkw"> <span class="astro-ikwsyqkw">Multi-Flow Experiences</span>  </a> </li><li class="astro-ikwsyqkw"> <a href="/next/guides/plugin-implementation/" class="astro-ikwsyqkw"> <span class="astro-ikwsyqkw">Plugin Implementation</span>  </a> </li><li class="astro-ikwsyqkw"> <a href="/next/guides/writing-plugins/" aria-current="page" class="astro-ikwsyqkw"> <span class="astro-ikwsyqkw">Writing a Plugin</span>  </a> </li> </ul>  </details> </li><li class="astro-ikwsyqkw"> <details open class="astro-ikwsyqkw"> <sl-sidebar-restore data-index="2"></sl-sidebar-restore> <summary class="astro-ikwsyqkw"> <div class="group-label astro-ikwsyqkw"> <span class="large astro-ikwsyqkw">Content</span>  </div> <svg aria-hidden="true" class="caret astro-ikwsyqkw astro-r5wkcvu6" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-ikwsyqkw"> <li class="astro-ikwsyqkw"> <a href="/next/content/" class="astro-ikwsyqkw"> <span class="astro-ikwsyqkw">Content</span>  </a> </li><li class="astro-ikwsyqkw"> <a href="/next/content/assets-views/" class="astro-ikwsyqkw"> <span class="astro-ikwsyqkw">Assets &amp; Views</span>  </a> </li><li class="astro-ikwsyqkw"> <a href="/next/content/data-expressions/" class="astro-ikwsyqkw"> <span class="astro-ikwsyqkw">Data &amp; Expressions</span>  </a> </li><li class="astro-ikwsyqkw"> <a href="/next/content/navigation/" class="astro-ikwsyqkw"> <span class="astro-ikwsyqkw">Navigation</span>  </a> </li><li class="astro-ikwsyqkw"> <a href="/next/content/schema/" class="astro-ikwsyqkw"> <span class="astro-ikwsyqkw">Schema</span>  </a> </li> </ul>  </details> </li><li class="astro-ikwsyqkw"> <details open class="astro-ikwsyqkw"> <sl-sidebar-restore data-index="3"></sl-sidebar-restore> <summary class="astro-ikwsyqkw"> <div class="group-label astro-ikwsyqkw"> <span class="large astro-ikwsyqkw">Assets</span>  </div> <svg aria-hidden="true" class="caret astro-ikwsyqkw astro-r5wkcvu6" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-ikwsyqkw"> <li class="astro-ikwsyqkw"> <a href="/next/assets/" class="astro-ikwsyqkw"> <span class="astro-ikwsyqkw">Assets</span>  </a> </li><li class="astro-ikwsyqkw"> <a href="/next/assets/cross-platform/" class="astro-ikwsyqkw"> <span class="astro-ikwsyqkw">Using Player Across Multiple Platforms</span>  </a> </li><li class="astro-ikwsyqkw"> <a href="/next/assets/custom/" class="astro-ikwsyqkw"> <span class="astro-ikwsyqkw">Custom Assets</span>  </a> </li><li class="astro-ikwsyqkw"> <a href="/next/assets/dsl/" class="astro-ikwsyqkw"> <span class="astro-ikwsyqkw">Writing DSL Components</span>  </a> </li><li class="astro-ikwsyqkw"> <a href="/next/assets/reference/" class="astro-ikwsyqkw"> <span class="astro-ikwsyqkw">Reference Assets</span>  </a> </li><li class="astro-ikwsyqkw"> <a href="/next/assets/transforms/" class="astro-ikwsyqkw"> <span class="astro-ikwsyqkw">Transforms</span>  </a> </li> </ul>  </details> </li><li class="astro-ikwsyqkw"> <details open class="astro-ikwsyqkw"> <sl-sidebar-restore data-index="4"></sl-sidebar-restore> <summary class="astro-ikwsyqkw"> <div class="group-label astro-ikwsyqkw"> <span class="large astro-ikwsyqkw">Tools</span>  </div> <svg aria-hidden="true" class="caret astro-ikwsyqkw astro-r5wkcvu6" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-ikwsyqkw"> <li class="astro-ikwsyqkw"> <a href="/next/tools/cli/" class="astro-ikwsyqkw"> <span class="astro-ikwsyqkw">CLI</span>  </a> </li><li class="astro-ikwsyqkw"> <a href="/next/tools/storybook/" class="astro-ikwsyqkw"> <span class="astro-ikwsyqkw">Player + Storybook Integration</span>  </a> </li> </ul>  </details> </li><li class="astro-ikwsyqkw"> <details open class="astro-ikwsyqkw"> <sl-sidebar-restore data-index="5"></sl-sidebar-restore> <summary class="astro-ikwsyqkw"> <div class="group-label astro-ikwsyqkw"> <span class="large astro-ikwsyqkw">XLR</span>  </div> <svg aria-hidden="true" class="caret astro-ikwsyqkw astro-r5wkcvu6" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-ikwsyqkw"> <li class="astro-ikwsyqkw"> <a href="/next/xlr/concepts/" class="astro-ikwsyqkw"> <span class="astro-ikwsyqkw">XLR Definitions</span>  </a> </li><li class="astro-ikwsyqkw"> <a href="/next/xlr/intro/" class="astro-ikwsyqkw"> <span class="astro-ikwsyqkw">Into to XLR</span>  </a> </li><li class="astro-ikwsyqkw"> <a href="/next/xlr/usage/" class="astro-ikwsyqkw"> <span class="astro-ikwsyqkw">Using XLR</span>  </a> </li> </ul>  </details> </li> </ul>   <script>
		(() => {
			const scroller = document.getElementById('starlight__sidebar');
			if (!window._starlightScrollRestore || !scroller) return;
			scroller.scrollTop = window._starlightScrollRestore;
			delete window._starlightScrollRestore;
		})();
	</script> </sl-sidebar-state-persist>  <div class="md:sl-hidden"> <div class="mobile-preferences sl-flex astro-4ljeh6fd"> <div class="sl-flex social-icons astro-4ljeh6fd"> <astro-island uid="Y5eT7" component-url="/next/_astro/VersionSelector.DKtIbrZF.js" component-export="default" renderer-url="/next/_astro/client.B1wcx9l-.js" props="{&quot;route&quot;:[0,&quot;guides/writing-plugins&quot;],&quot;class&quot;:[0,&quot;astro-ymhdp2rl&quot;]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;VersionSelector&quot;,&quot;value&quot;:&quot;react&quot;}"></astro-island><div class="flex flex-row flex-1 justify-end gap-2 ml-4 astro-ymhdp2rl"> <a class="nav-item astro-ymhdp2rl" href="/next/player/about/"> Player </a><a class="nav-item current astro-ymhdp2rl" href="/next/guides/designing-semantic-assets/"> Guides </a><a class="nav-item astro-ymhdp2rl" href="/next/content/"> Content </a><a class="nav-item astro-ymhdp2rl" href="/next/assets/"> Assets </a><a class="nav-item astro-ymhdp2rl" href="/next/tools/cli/"> Tools </a><a class="nav-item astro-ymhdp2rl" href="/next/xlr/concepts/"> XLR </a> </div> <a href="https://github.com/player-ui/player" rel="me" class="sl-flex astro-wclntnsq"><span class="sr-only astro-wclntnsq">GitHub</span><svg aria-hidden="true" class="astro-wclntnsq astro-r5wkcvu6" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg> </a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-cmf5fs3a"> <span class="sr-only astro-cmf5fs3a">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-cmf5fs3a astro-r5wkcvu6" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg>  <select value="auto" class="astro-cmf5fs3a"> <option value="dark" class="astro-cmf5fs3a">Dark</option><option value="light" class="astro-cmf5fs3a">Light</option><option value="auto" selected class="astro-cmf5fs3a">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-cmf5fs3a astro-r5wkcvu6" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div>  </div> </div> </div> </nav> <div class="main-frame astro-rznvzq55">   <div class="lg:sl-flex astro-gvlnassk"> <aside class="right-sidebar-container astro-gvlnassk"> <div class="right-sidebar astro-gvlnassk"> <div class="lg:sl-hidden astro-f4ybqcci"><mobile-starlight-toc data-min-h="2" data-max-h="3" class="astro-rwg6rxf3"><nav aria-labelledby="starlight__on-this-page--mobile" class="astro-rwg6rxf3"><details id="starlight__mobile-toc" class="astro-rwg6rxf3"><summary id="starlight__on-this-page--mobile" class="sl-flex astro-rwg6rxf3"><div class="toggle sl-flex astro-rwg6rxf3">On this page<svg aria-hidden="true" class="caret astro-rwg6rxf3 astro-r5wkcvu6" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </div><span class="display-current astro-rwg6rxf3"></span></summary><div class="dropdown astro-rwg6rxf3"><ul class="isMobile astro-cpno2guc" style="--depth: 0;"> <li class="astro-cpno2guc" style="--depth: 0;"> <a href="#_top" class="astro-cpno2guc" style="--depth: 0;"> <span class="astro-cpno2guc" style="--depth: 0;">Overview</span> </a> <ul class="isMobile astro-cpno2guc" style="--depth: 1;"> <li class="astro-cpno2guc" style="--depth: 1;"> <a href="#nativeplugin" class="astro-cpno2guc" style="--depth: 1;"> <span class="astro-cpno2guc" style="--depth: 1;">NativePlugin</span> </a>  </li><li class="astro-cpno2guc" style="--depth: 1;"> <a href="#jsbaseplugin" class="astro-cpno2guc" style="--depth: 1;"> <span class="astro-cpno2guc" style="--depth: 1;">JSBasePlugin</span> </a>  </li> </ul>  </li> </ul> </div></details></nav></mobile-starlight-toc></div><div class="right-sidebar-panel sl-hidden lg:sl-block astro-f4ybqcci"><div class="sl-container astro-f4ybqcci"><starlight-toc data-min-h="2" data-max-h="3"><nav aria-labelledby="starlight__on-this-page"><h2 id="starlight__on-this-page">On this page</h2><ul class="astro-cpno2guc" style="--depth: 0;"> <li class="astro-cpno2guc" style="--depth: 0;"> <a href="#_top" class="astro-cpno2guc" style="--depth: 0;"> <span class="astro-cpno2guc" style="--depth: 0;">Overview</span> </a> <ul class="astro-cpno2guc" style="--depth: 1;"> <li class="astro-cpno2guc" style="--depth: 1;"> <a href="#nativeplugin" class="astro-cpno2guc" style="--depth: 1;"> <span class="astro-cpno2guc" style="--depth: 1;">NativePlugin</span> </a>  </li><li class="astro-cpno2guc" style="--depth: 1;"> <a href="#jsbaseplugin" class="astro-cpno2guc" style="--depth: 1;"> <span class="astro-cpno2guc" style="--depth: 1;">JSBasePlugin</span> </a>  </li> </ul>  </li> </ul> </nav></starlight-toc></div></div> </div> </aside> <div class="main-pane astro-gvlnassk">  <main data-pagefind-body lang="en" dir="ltr" class="astro-nz53zrg7">    <div class="content-panel astro-7rz7gdfl"> <div class="sl-container astro-7rz7gdfl"> <h1 id="_top" class="astro-o5xzbtnv">Writing a Plugin</h1>  </div> </div>  <div class="content-panel astro-7rz7gdfl"> <div class="sl-container astro-7rz7gdfl"> <div class="sl-markdown-content"> <p>While we have published a majority of the plugins we have developed, there will always be new use cases that may require new functionality. Writing a plugin in the easiest way to extend Player functionality for these cases. Plugins work slightly differently on each platform so in this guide we will cover how to write a plugin for each platform.</p>
<script>
(() => {
	class StarlightTabsRestore extends HTMLElement {
		connectedCallback() {
			const starlightTabs = this.closest('starlight-tabs');
			if (!(starlightTabs instanceof HTMLElement) || typeof localStorage === 'undefined') return;
			const syncKey = starlightTabs.dataset.syncKey;
			if (!syncKey) return;
			const label = localStorage.getItem(`starlight-synced-tabs__${syncKey}`);
			if (!label) return;
			const tabs = [...starlightTabs?.querySelectorAll('[role="tab"]')];
			const tabIndexToRestore = tabs.findIndex(
				(tab) => tab instanceof HTMLAnchorElement && tab.textContent?.trim() === label
			);
			const panels = starlightTabs?.querySelectorAll(':scope > [role="tabpanel"]');
			const newTab = tabs[tabIndexToRestore];
			const newPanel = panels[tabIndexToRestore];
			if (tabIndexToRestore < 1 || !newTab || !newPanel) return;
			tabs[0]?.setAttribute('aria-selected', 'false');
			tabs[0]?.setAttribute('tabindex', '-1');
			panels?.[0]?.setAttribute('hidden', 'true');
			newTab.removeAttribute('tabindex');
			newTab.setAttribute('aria-selected', 'true');
			newPanel.removeAttribute('hidden');
		}
	}
	customElements.define('starlight-tabs-restore', StarlightTabsRestore);
})()
</script><starlight-tabs data-sync-key="platform-type" class="astro-rgxni7qh"> <div class="tablist-wrapper not-content astro-rgxni7qh"> <ul role="tablist" class="astro-rgxni7qh"> <li role="presentation" class="tab astro-rgxni7qh"> <a role="tab" href="#tab-panel-47" id="tab-47" aria-selected="true" tabindex="0" class="astro-rgxni7qh"> <svg aria-hidden="true" class="astro-rgxni7qh astro-r5wkcvu6" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5.376 14.300L5.376 3.352L9.286 3.352L9.286 14.300Q9.286 17.842 7.630 19.452L7.630 19.452Q6.112 20.924 3.076 20.924L3.076 20.924Q2.386 20.924 1.558 20.809Q0.730 20.694 0.224 20.464L0.224 20.464L0.638 17.336Q1.512 17.750 2.662 17.750L2.662 17.750Q3.950 17.750 4.594 17.060L4.594 17.060Q5.376 16.232 5.376 14.300L5.376 14.300ZM11.862 19.912L12.736 16.600Q13.564 17.060 14.668 17.382L14.668 17.382Q15.910 17.750 17.014 17.750L17.014 17.750Q18.394 17.750 19.084 17.267Q19.774 16.784 19.774 15.910Q19.774 15.036 19.130 14.507Q18.486 13.978 16.876 13.426L16.876 13.426Q12.138 11.770 12.138 8.274L12.138 8.274Q12.138 5.974 13.909 4.525Q15.680 3.076 18.762 3.076L18.762 3.076Q21.200 3.076 23.224 3.950L23.224 3.950L22.350 7.124L22.074 6.986Q21.246 6.664 20.740 6.526L20.740 6.526Q19.774 6.250 18.762 6.250L18.762 6.250Q17.520 6.250 16.853 6.733Q16.186 7.216 16.186 7.998Q16.186 8.780 16.922 9.286L16.922 9.286Q17.474 9.700 19.314 10.436L19.314 10.436Q21.614 11.310 22.695 12.552Q23.776 13.794 23.776 15.588L23.776 15.588Q23.776 17.888 22.028 19.314L22.028 19.314Q20.142 20.924 16.738 20.924L16.738 20.924Q15.404 20.924 13.932 20.556L13.932 20.556Q12.782 20.326 11.862 19.912L11.862 19.912Z"/></svg>  Core </a> </li><li role="presentation" class="tab astro-rgxni7qh"> <a role="tab" href="#tab-panel-48" id="tab-48" aria-selected="false" tabindex="-1" class="astro-rgxni7qh"> <svg aria-hidden="true" class="astro-rgxni7qh astro-r5wkcvu6" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M18.955 15.993L18.993 15.993Q18.993 16.107 18.993 16.297L18.993 16.297Q19.221 18.615 19.221 19.774Q19.221 20.933 18.651 21.693Q18.081 22.453 17.207 22.529L17.207 22.529Q16.333 22.719 15.307 22.301L15.307 22.301Q14.547 21.921 13.179 21.009L13.179 21.009Q12.305 20.439 11.849 20.173L11.849 20.173Q10.671 21.123 9.949 21.579L9.949 21.579Q9.341 21.997 8.771 22.187L8.771 22.187Q7.707 22.643 6.795 22.472Q5.883 22.301 5.332 21.579Q4.781 20.857 4.762 19.679Q4.743 18.501 4.971 15.879L4.971 15.879Q3.527 15.423 2.805 14.929L2.805 14.929Q1.855 14.473 0.905 13.523L0.905 13.523Q0.145 12.725 0.183 11.794Q0.221 10.863 1.057 10.065L1.057 10.065Q1.665 9.343 2.691 8.849L2.691 8.849Q3.299 8.507 4.591 8.051L4.591 8.051Q4.667 8.051 4.838 7.994Q5.009 7.937 5.085 7.937L5.085 7.937L4.743 5.315Q4.705 4.479 4.971 3.073L4.971 3.073Q5.237 2.085 6.054 1.667Q6.871 1.249 7.935 1.515L7.935 1.515Q8.885 1.743 9.835 2.351L9.835 2.351Q10.519 2.769 11.393 3.529L11.393 3.529Q11.545 3.605 11.735 3.871L11.735 3.871L11.849 4.023Q13.749 2.579 14.813 1.971L14.813 1.971Q16.029 1.173 17.207 1.515L17.207 1.515Q18.081 1.705 18.594 2.446Q19.107 3.187 19.221 4.365L19.221 4.365L19.221 6.265Q19.221 6.645 19.031 7.405L19.031 7.405Q18.917 7.899 18.841 8.165L18.841 8.165Q19.905 8.507 20.874 8.982Q21.843 9.457 22.261 9.761L22.261 9.761Q22.983 10.255 23.401 10.882Q23.819 11.509 23.819 12.193Q23.819 12.877 23.401 13.504Q22.983 14.131 22.261 14.625L22.261 14.625Q21.805 14.929 20.855 15.423L20.855 15.423Q20.171 15.537 18.955 15.993L18.955 15.993ZM10.861 15.841L12.077 15.879Q12.267 15.879 12.685 15.841L12.685 15.841Q13.255 15.765 13.521 15.765L13.521 15.765Q14.015 15.765 14.357 15.271L14.357 15.271Q15.535 13.371 15.991 12.307L15.991 12.307Q16.105 12.155 16.105 11.927Q16.105 11.699 15.991 11.623L15.991 11.623Q15.421 10.521 14.205 8.659L14.205 8.659Q14.053 8.279 13.635 8.279L13.635 8.279Q11.621 8.279 10.557 8.165L10.557 8.165Q9.607 8.165 9.113 9.001L9.113 9.001Q8.657 9.723 8.391 10.179L8.391 10.179L7.859 11.167Q7.517 11.661 7.460 11.870Q7.403 12.079 7.460 12.288Q7.517 12.497 7.859 13.029L7.859 13.029L8.391 13.979L8.847 14.739Q9.227 15.347 9.379 15.499L9.379 15.499Q9.607 15.765 9.911 15.803L9.911 15.803Q10.139 15.841 10.861 15.841L10.861 15.841ZM5.199 14.929L5.199 14.929Q5.921 13.029 6.263 12.193L6.263 12.193L6.263 11.737L5.199 9.001Q3.071 9.647 1.893 10.521L1.893 10.521Q1.057 11.167 1.057 11.908Q1.057 12.649 1.893 13.257L1.893 13.257Q2.501 13.903 3.451 14.321L3.451 14.321Q4.021 14.587 5.199 14.929ZM18.613 8.887L18.613 8.887Q18.157 9.951 17.435 11.851L17.435 11.851L17.397 11.965Q17.359 12.079 17.435 12.079L17.435 12.079Q18.157 13.979 18.613 15.157L18.613 15.157Q19.069 14.929 20.019 14.435L20.019 14.435Q21.273 13.865 21.805 13.523L21.805 13.523Q22.793 12.877 22.793 12.079Q22.793 11.281 21.843 10.673L21.843 10.673Q21.197 10.103 19.753 9.419L19.753 9.419Q18.955 9.077 18.613 8.887ZM5.883 7.481L5.921 7.671Q7.821 7.481 8.885 7.215L8.885 7.215Q8.961 7.215 9.037 7.139L9.037 7.139L9.113 7.101Q9.797 6.151 11.013 4.707L11.013 4.707Q10.063 3.909 9.569 3.529L9.569 3.529Q8.733 2.883 7.935 2.579L7.935 2.579Q6.947 2.237 6.339 2.598Q5.731 2.959 5.541 4.023L5.541 4.023Q5.465 4.745 5.579 5.695L5.579 5.695Q5.655 6.265 5.883 7.481L5.883 7.481ZM17.777 7.709L17.777 7.671Q17.777 7.633 17.834 7.462Q17.891 7.291 17.891 7.215L17.891 7.215Q18.157 6.037 18.157 5.391L18.157 5.391Q18.233 4.327 17.891 3.529L17.891 3.529Q17.739 2.921 17.321 2.655Q16.903 2.389 16.371 2.465L16.371 2.465Q15.421 2.617 14.509 3.225L14.509 3.225Q13.939 3.567 12.951 4.479L12.951 4.479L12.685 4.707Q13.293 5.543 14.471 6.987L14.471 6.987L14.813 7.329L17.777 7.709ZM5.921 16.221L5.921 16.221Q5.883 16.449 5.807 16.867L5.807 16.867Q5.579 17.931 5.541 18.425L5.541 18.425Q5.465 19.299 5.693 20.059L5.693 20.059Q5.845 20.933 6.434 21.275Q7.023 21.617 7.935 21.351L7.935 21.351Q8.695 21.123 9.493 20.591L9.493 20.591Q9.949 20.249 10.823 19.489L10.823 19.489L11.127 19.223Q10.443 18.273 9.227 16.829L9.227 16.829Q8.999 16.601 8.885 16.601L8.885 16.601Q7.517 16.601 5.921 16.221ZM12.571 19.223L12.571 19.223Q13.065 19.869 14.015 20.553L14.015 20.553Q14.889 21.199 15.649 21.465L15.649 21.465Q17.549 22.035 17.891 20.173L17.891 20.173Q18.043 19.337 17.967 18.349L17.967 18.349Q17.929 17.741 17.701 16.525L17.701 16.525L17.663 16.373L16.903 16.449Q15.307 16.563 14.585 16.829L14.585 16.829Q14.243 17.019 13.939 17.361L13.939 17.361Q13.749 17.589 13.445 18.045L13.445 18.045Q13.179 18.425 13.046 18.634Q12.913 18.843 12.571 19.223ZM10.443 7.101L13.293 7.101Q13.027 6.797 12.552 6.265Q12.077 5.733 11.849 5.429L11.849 5.429L11.659 5.695Q10.937 6.607 10.443 7.101L10.443 7.101ZM12.837 17.361L13.293 16.829L10.557 16.829Q10.785 17.133 11.260 17.665Q11.735 18.197 11.963 18.501L11.963 18.501Q12.229 18.083 12.837 17.361L12.837 17.361ZM8.391 15.651L8.391 15.651Q8.239 15.385 7.935 14.853L7.935 14.853Q7.289 13.789 6.985 13.143L6.985 13.143L6.263 15.157Q6.909 15.423 8.391 15.651ZM16.713 13.143L16.713 13.143L15.307 15.651L17.435 15.271Q17.283 14.511 16.713 13.143ZM6.985 10.787L6.985 10.787L8.391 8.279L6.263 8.621L6.415 9.115Q6.681 10.217 6.985 10.787ZM15.307 8.279L15.307 8.279Q15.535 8.773 16.010 9.476Q16.485 10.179 16.713 10.673L16.713 10.673Q17.207 9.229 17.435 8.659L17.435 8.659Q16.523 8.621 15.307 8.279Z"/></svg>  React </a> </li><li role="presentation" class="tab astro-rgxni7qh"> <a role="tab" href="#tab-panel-49" id="tab-49" aria-selected="false" tabindex="-1" class="astro-rgxni7qh"> <svg aria-hidden="true" class="astro-rgxni7qh astro-r5wkcvu6" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M14.94 5.19A4.38 4.38 0 0 0 16 2a4.44 4.44 0 0 0-3 1.52 4.17 4.17 0 0 0-1 3.09 3.69 3.69 0 0 0 2.94-1.42Zm2.52 7.44a4.51 4.51 0 0 1 2.16-3.81 4.66 4.66 0 0 0-3.66-2c-1.56-.16-3 .91-3.83.91s-2-.89-3.3-.87a4.92 4.92 0 0 0-4.14 2.53C2.93 12.45 4.24 17 6 19.47c.8 1.21 1.8 2.58 3.12 2.53s1.75-.82 3.28-.82 2 .82 3.3.79 2.22-1.24 3.06-2.45a11 11 0 0 0 1.38-2.85 4.41 4.41 0 0 1-2.68-4.04Z"/></svg>  iOS </a> </li> </ul> </div> <section id="tab-panel-47" aria-labelledby="tab-47" role="tabpanel"> <div class="card astro-ya25bz2t"><p>Core plugins are the easiest way to extend Player functionality regardless of what platform you are using Player on. To make writing core plugins easy <code dir="auto">@player-ui/player</code> exposes an interface <code dir="auto">PlayerPlugin</code> that denotes everything needed. The two mandatory features are a <code dir="auto">name</code> property which is lets Player know how to refer to the plugin and an implemented <code dir="auto">apply</code> function that takes a <code dir="auto">player</code> object. Optionally a <code dir="auto">symbol</code> property can be used to provide a unique identifier that can be used to retrieve the plugin from Player.</p><p>The first step for creating a plugin is making our plugin class, making sure it implements the <code dir="auto">PlayerPlugin</code> interface from <code dir="auto">@player-ui/player</code>. By convention, a name attribute with the dash-cased name of your plugin should be defined.</p><div class="expressive-code"><link rel="stylesheet" href="/next/_astro/ec.j8ofn.css"><script type="module" src="/next/_astro/ec.8zarh.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="typescript"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">default</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">class</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFCB8B;--1:#111111">ExamplePlayerPlugin</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">implements</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">PlayerPlugin</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">name </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">example-player-plugin</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">{</span><span style="--0:#809191;--1:#616671">/* A constructor can go here */</span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3C63B3">apply</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D7DBE0;--1:#403F53">player</span><span style="--0:#7FDBCA;--1:#097174">:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--1:#111111"><span style="--0:#FFCB8B">Player</span><span style="--0:#D9F5DD">)</span></span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">{</span><span style="--0:#809191;--1:#616671">/* Your logic here */</span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">{</span><span style="--0:#809191;--1:#616671">/* Helper methods can go here */</span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="export default class ExamplePlayerPlugin implements PlayerPlugin {  name = &#x27;example-player-plugin&#x27;;  {/* A constructor can go here */}  apply(player: Player) {    {/* Your logic here */}  }  {/* Helper methods can go here */}}"><div></div></button></div></figure></div><p>The <code dir="auto">apply</code> function is where the actual logic of the plugin lives. By tapping the hooks exposed via <code dir="auto">player.hooks</code> you gain access to the internal pipeline of components that comprise Player and can inject your functionality into their exposed hooks. For example if you want to do something any time Player’s state changes you could do the following:</p><div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="javascript"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3C63B3">apply</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">player</span><span style="--0:#D6DEEB">: </span><span style="--0:#D7DBE0">Player</span><span style="--0:#D6DEEB">) {</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#097174">player</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#FAF39F;--1:#111111">hooks</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#FAF39F;--1:#111111">state</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#82AAFF;--1:#3C63B3">tap</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#7FDBCA;--1:#097174">this</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#7FDBCA;--1:#097174">name</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D7DBE0;--1:#403F53">state</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=></span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">{</span><span style="--0:#809191;--1:#616671">/* Your logic here */</span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">});</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="apply(player: Player) {  player.hooks.state.tap(this.name, (state) => {    {/* Your logic here */}  });}"><div></div></button></div></figure></div><p>Some components expose hooks themselves which may require multiple levels of taps which is not uncommon. For example if you wanted to modify the <code dir="auto">ViewInstance</code> before it was resolved you would do the following:</p><div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="javascript"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3C63B3">apply</span><span style="--1:#403F53"><span style="--0:#D6DEEB">(</span><span style="--0:#D7DBE0">player</span><span style="--0:#D6DEEB">: </span><span style="--0:#D7DBE0">Player</span><span style="--0:#D6DEEB">) {</span></span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#097174">player</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#FAF39F;--1:#111111">hooks</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#FAF39F;--1:#111111">viewController</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#82AAFF;--1:#3C63B3">tap</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#7FDBCA;--1:#097174">this</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#7FDBCA;--1:#097174">name</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D7DBE0;--1:#403F53">vc</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=></span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#097174">vc</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#FAF39F;--1:#111111">hooks</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#FAF39F;--1:#111111">view</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#82AAFF;--1:#3C63B3">tap</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#7FDBCA;--1:#097174">this</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#7FDBCA;--1:#097174">name</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D7DBE0;--1:#403F53">vc</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=></span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">{</span><span style="--0:#809191;--1:#616671">/* Your logic here */</span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">})</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">});</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="apply(player: Player) {  player.hooks.viewController.tap(this.name, (vc) => {    vc.hooks.view.tap(this.name, (vc) => {      {/* Your logic here */}    })  });}"><div></div></button></div></figure></div><p>It is not uncommon for core plugins to have constructors for cases where the plugin needs to take some configuration. In cases where plugin configs are more complicated than basic feature flags, it is recommended to make an interface to represent the config object. As an added benefit it also makes it easier to down stream consumers to use your plugin.</p><p>For a more comprehensive guide on plugins, check out this <a href="/next/guides/plugin-implementation">Plugin Implementation</a> example.</p><p><em>Note: For the React Player you can import and load the plugin the same way you would a React Player Plugin but for the iOS and Android Players you will need to wrap the javascript bundle in a iOS/Android plugin to ensure it is available on your platform.</em></p></div> </section><section id="tab-panel-48" aria-labelledby="tab-48" role="tabpanel" hidden> <div class="card astro-ya25bz2t"><p>React Player Plugins are very similar to core plugins in both their composition and use. The <code dir="auto">@player-ui/react</code> package exposes an interface <code dir="auto">ReactPlayerPlugin</code> that, much like the <code dir="auto">PlayerPlugin</code> interface provides the necessary attributes that are required for a React Player plugin. Again a dash-cased <code dir="auto">name</code> attribute should be used by convention, and a function <code dir="auto">applyReact</code> is required that takes a <code dir="auto">ReactPlayer</code> instance. Similarly to core plugins in the <code dir="auto">applyReact</code> function you have access to the React Player object and access to the three exposed hooks:</p><ul>
<li>The <code dir="auto">webComponent</code> hook allows you to modify a React component that is stored in the React Player for use when it renders content. This happens during the initialization phase and ise useful if you want to wrap components in various content providers.</li>
<li>The <code dir="auto">playerComponent</code> hook allows you to modify a component or execute functionality when the React Player is rendering a component after the view has been reconciled in Player. This is useful if you want to inject additional props to components or collect data on which component was rendered.</li>
<li>The <code dir="auto">onBeforeViewReset</code> hook is fired when the view is resetting to undefined and you want to execute some asynchronous tasks.</li>
</ul><p>Below is an example of a basic <code dir="auto">ReactPlayerPlugin</code> that would expose a function to every component that gets loaded in the React Player:</p><div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="tsx"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">export const </span><span style="--0:#82AAFF;--1:#3C63B3">FunctionContext</span><span style="--0:#C792EA;--1:#8D46B4"> = </span><span style="--0:#D6DEEB;--1:#403F53">React</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#82AAFF;--1:#3C63B3">createContext</span><span style="--0:#C792EA;--1:#8D46B4">&#x3C;{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3C63B3">function</span><span style="--0:#7FDBCA;--1:#097174">:</span><span style="--0:#C792EA;--1:#8D46B4"> </span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#C792EA;--1:#8D46B4">;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">}></span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C792EA;--1:#8D46B4">{ </span><span style="--0:#82AAFF;--1:#3C63B3">handler</span><span style="--0:#C792EA;--1:#8D46B4">: </span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#C792EA;--1:#8D46B4"> => {} }</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">export const </span><span style="--0:#82AAFF;--1:#3C63B3">useFunction</span><span style="--0:#C792EA;--1:#8D46B4"> = </span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#7FDBCA;--1:#097174">:</span><span style="--0:#C792EA;--1:#8D46B4"> </span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#C792EA;--1:#8D46B4"> => {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8D46B4">  </span></span><span style="--0:#C792EA;--1:#8D46B4">const { </span><span style="--0:#82AAFF;--1:#3C63B3">function</span><span style="--0:#C792EA;--1:#8D46B4"> } = </span><span style="--0:#D6DEEB;--1:#403F53">React</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#82AAFF;--1:#3C63B3">useContext</span><span style="--0:#D6DEEB;--1:#403F53">(FunctionContext)</span><span style="--0:#C792EA;--1:#8D46B4">;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#C792EA;--1:#8D46B4">  </span></span><span style="--0:#C792EA;--1:#8D46B4">return function;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">}</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">class</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FFCB8B;--1:#111111">FunctionPlugin</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">implements</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">ReactPlayerPlugin</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">name </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">function-plugin</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#C792EA;--1:#8D46B4">private</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">function</span><span style="--0:#7FDBCA;--1:#097174">:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3C63B3">constructor</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--1:#403F53"><span style="--0:#D7DBE0">fn</span><span style="--0:#D6DEEB"> </span></span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> defaultFunction</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#097174">this</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#7FDBCA;--1:#097174">function</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#D6DEEB;--1:#403F53"> fn;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3C63B3">applyReact</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D7DBE0;--1:#403F53">rp</span><span style="--0:#7FDBCA;--1:#097174">:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--1:#111111"><span style="--0:#FFCB8B">ReactPlayer</span><span style="--0:#D9F5DD">)</span></span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">rp</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#FAF39F;--1:#111111">hooks</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#FAF39F;--1:#111111">webComponent</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#82AAFF;--1:#3C63B3">tap</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#7FDBCA;--1:#097174">this</span><span style="--0:#C792EA;--1:#8D46B4">.</span><span style="--0:#7FDBCA;--1:#097174">name</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#D7DBE0;--1:#403F53">Comp</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=></span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#82AAFF;--1:#3C63B3">const</span><span style="--0:#C792EA;--1:#8D46B4"> { </span><span style="--0:#82AAFF;--1:#3C63B3">function</span><span style="--0:#C792EA;--1:#8D46B4"> } = </span><span style="--0:#7FDBCA;--1:#097174">this</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#C792EA;--1:#8D46B4">return</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">=></span><span style="--0:#D6DEEB;--1:#403F53"> (</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#7FDBCA;--1:#8D46B4">&#x3C;</span><span style="--0:#F78C6C;--1:#AA0982">FunctionContext.Provider</span><span style="--0:#7FDBCA;--1:#8D46B4"> </span><span style="--0:#C5E478;--1:#3C63B3">value</span><span style="--0:#C792EA;--1:#8D46B4">=</span><span style="--0:#DD6B68;--1:#B73936">{</span><span style="--0:#7FDBCA;--1:#8D46B4">{ </span><span style="--0:#D6DEEB;--1:#403F53">function</span><span style="--0:#7FDBCA;--1:#8D46B4"> }</span><span style="--0:#DD6B68;--1:#B73936">}</span><span style="--0:#7FDBCA;--1:#8D46B4">></span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#7FDBCA;--1:#8D46B4">&#x3C;</span><span style="--0:#F78C6C;--1:#AA0982">Comp</span><span style="--0:#7FDBCA;--1:#8D46B4"> /></span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#7FDBCA;--1:#8D46B4">&#x3C;/</span><span style="--0:#F78C6C;--1:#AA0982">FunctionContext.Provider</span><span style="--0:#7FDBCA;--1:#8D46B4">></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">});</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">{</span><span style="--0:#809191;--1:#616671">/* Helper methods can go here */</span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="export const FunctionContext = React.createContext<{  function: ();}>({ handler: () => {} });export const useFunction = (): () => {  const { function } = React.useContext(FunctionContext);  return function;};export class FunctionPlugin implements ReactPlayerPlugin {  name = &#x27;function-plugin&#x27;;  private function: ();  constructor(fn = defaultFunction) {    this.function = fn;  }  applyReact(rp: ReactPlayer) {    rp.hooks.webComponent.tap(this.name, (Comp) => {      const { function } = this;      return () => (        <FunctionContext.Provider value={{ function }}>          <Comp />        </FunctionContext.Provider>      );    });  }  {/* Helper methods can go here */}}"><div></div></button></div></figure></div><p>Lastly React plugins can also act as a core plugin in cases where core functionality needs to be extended for the React plugin to work. Since both the <code dir="auto">PlayerPlugin</code> and <code dir="auto">ReactPlayerPlugin</code> are typescript interfaces a plugin can implement both and be considered a valid plugin.</p></div> </section><section id="tab-panel-49" aria-labelledby="tab-49" role="tabpanel" hidden> <div class="card astro-ya25bz2t"><p>iOS Player Plugins are very similar to core and react plugins in both their composition and use.</p><h3 id="nativeplugin">NativePlugin</h3><p>The <code dir="auto">PlayerUI/Core</code> subspec exposes an interface <code dir="auto">NativePlugin</code> that, much like the core <code dir="auto">PlayerPlugin</code> interfaces, provides the necessary attributes that are required for an iOS Player plugin. A <code dir="auto">pluginName</code> attributed is required, and a function <code dir="auto">apply</code> is required that takes an instance of a Player implementation. Similarly to core plugins, in the <code dir="auto">apply</code> function you have access to the Player object and access to the hooks. <code dir="auto">apply</code> uses generics to future proof so plugins can be used for multiple Player implementations should they be created.</p><p>The <code dir="auto">player</code> passed to <code dir="auto">apply</code> exposes hooks from the core player, as well as hooks specific to that player implementation. For the current state of this project, the <code dir="auto">SwiftUIPlayer</code> is the primary iOS Player, and exposes two hooks for the SwiftUI layer specifically:</p><ul>
<li>The <code dir="auto">view</code> hook allows you to modify the root view that will be displayed in the SwiftUIPlayer body. This is useful for applying changes to the environment for the SwiftUI view tree, or apply ViewModifiers and such.</li>
<li>The <code dir="auto">transition</code> hook allows you to specify a <code dir="auto">PlayerViewTransition</code> object to be applied when the flow transitions from one view to another, to animate the transition.</li>
</ul><h4 id="basic-example">Basic Example</h4><p>Below is an example of a basic <code dir="auto">NativePlugin</code> that sets a value in the EnvironmentValues when the plugin is included:</p><div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="swift"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">import</span><span style="--0:#D6DEEB;--1:#403F53"> PlayerUI</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">class</span><span style="--0:#D6DEEB;--1:#403F53"> EnvironmentPlugin: </span><span style="--0:#C5E478;--1:#3C63B3">NativePlugin </span><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8D46B4">let</span><span style="--0:#D6DEEB;--1:#403F53"> pluginName </span><span style="--0:#7FDBCA;--1:#097174">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">EnvironmentPlugin</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8D46B4">func</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">apply</span><span style="--0:#D6DEEB;--1:#403F53">&#x3C;</span><span style="--0:#7FDBCA;--1:#097174">P</span><span style="--0:#D6DEEB;--1:#403F53">></span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#82AAFF;--1:#3C63B3">player</span><span style="--0:#D6DEEB;--1:#403F53">: P</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">where</span><span style="--0:#D6DEEB;--1:#403F53"> P</span><span style="--0:#7FDBCA;--1:#097174">:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">HeadlessPlayer</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#C792EA;--1:#8D46B4">guard</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">let</span><span style="--0:#D6DEEB;--1:#403F53"> player </span><span style="--0:#7FDBCA;--1:#097174">=</span><span style="--0:#D6DEEB;--1:#403F53"> player </span><span style="--0:#7FDBCA;--1:#097174">as?</span><span style="--0:#D6DEEB;--1:#403F53"> SwiftUIPlayer </span><span style="--0:#C792EA;--1:#8D46B4">else</span><span style="--0:#D6DEEB;--1:#403F53"> { </span><span style="--0:#C792EA;--1:#8D46B4">return</span><span style="--0:#D6DEEB;--1:#403F53"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">player.</span><span style="--0:#C5E478;--1:#3C63B3">hooks</span><span style="--0:#D6DEEB;--1:#403F53">.view.</span><span style="--0:#C5E478;--1:#3C63B3">tap</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--1:#3C63B3"><span style="--0:#C5E478">name</span><span style="--0:#82AAFF">: pluginName</span></span><span style="--0:#D6DEEB;--1:#403F53">) { (</span><span style="--0:#C5E478;--1:#3C63B3">view</span><span style="--0:#D6DEEB;--1:#403F53">: AnyView) </span><span style="--0:#7FDBCA;--1:#097174">-></span><span style="--0:#D6DEEB;--1:#403F53"> AnyView </span><span style="--0:#C792EA;--1:#8D46B4">in</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#C792EA;--1:#8D46B4">return</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">AnyView</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--1:#3C63B3"><span style="--0:#82AAFF">view.</span><span style="--0:#C5E478">environment</span></span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--1:#3C63B3"><span style="--0:#82AAFF">\.</span><span style="--0:#C5E478">someEnvironmentKey</span><span style="--0:#82AAFF">, someValue</span></span><span style="--0:#D6DEEB;--1:#403F53">))</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="import PlayerUIclass EnvironmentPlugin: NativePlugin {    let pluginName = &#x22;EnvironmentPlugin&#x22;    func apply<P>(player: P) where P: HeadlessPlayer {      guard let player = player as? SwiftUIPlayer else { return }      player.hooks.view.tap(name: pluginName) { (view: AnyView) -> AnyView in          return AnyView(view.environment(\.someEnvironmentKey, someValue))      }    }}"><div></div></button></div></figure></div><h4 id="asset-registration">Asset Registration</h4><p>Likely the most common usecase for plugins is to register assets:</p><div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="swift"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">import</span><span style="--0:#D6DEEB;--1:#403F53"> PlayerUI</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">class</span><span style="--0:#D6DEEB;--1:#403F53"> ExampleAssetPlugin: </span><span style="--0:#C5E478;--1:#3C63B3">NativePlugin </span><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8D46B4">let</span><span style="--0:#D6DEEB;--1:#403F53"> pluginName </span><span style="--0:#7FDBCA;--1:#097174">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">ExampleAssetPlugin</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8D46B4">func</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">apply</span><span style="--0:#D6DEEB;--1:#403F53">&#x3C;</span><span style="--0:#7FDBCA;--1:#097174">P</span><span style="--0:#D6DEEB;--1:#403F53">></span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#82AAFF;--1:#3C63B3">player</span><span style="--0:#D6DEEB;--1:#403F53">: P</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">where</span><span style="--0:#D6DEEB;--1:#403F53"> P</span><span style="--0:#7FDBCA;--1:#097174">:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3C63B3">HeadlessPlayer</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#C792EA;--1:#8D46B4">guard</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">let</span><span style="--0:#D6DEEB;--1:#403F53"> player </span><span style="--0:#7FDBCA;--1:#097174">=</span><span style="--0:#D6DEEB;--1:#403F53"> player </span><span style="--0:#7FDBCA;--1:#097174">as?</span><span style="--0:#D6DEEB;--1:#403F53"> SwiftUIPlayer </span><span style="--0:#C792EA;--1:#8D46B4">else</span><span style="--0:#D6DEEB;--1:#403F53"> { </span><span style="--0:#C792EA;--1:#8D46B4">return</span><span style="--0:#D6DEEB;--1:#403F53"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">player.</span><span style="--0:#C5E478;--1:#3C63B3">assetRegistry</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3C63B3">register</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">text</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--1:#3C63B3"><span style="--0:#82AAFF">, </span><span style="--0:#C5E478">asset</span><span style="--0:#82AAFF">: TextAsset.</span></span><span style="--0:#C792EA;--1:#8D46B4">self</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">player.</span><span style="--0:#C5E478;--1:#3C63B3">assetRegistry</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3C63B3">register</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">action</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--1:#3C63B3"><span style="--0:#82AAFF">, </span><span style="--0:#C5E478">asset</span><span style="--0:#82AAFF">: ActionAsset.</span></span><span style="--0:#C792EA;--1:#8D46B4">self</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="import PlayerUIclass ExampleAssetPlugin: NativePlugin {    let pluginName = &#x22;ExampleAssetPlugin&#x22;    func apply<P>(player: P) where P: HeadlessPlayer {      guard let player = player as? SwiftUIPlayer else { return }      player.assetRegistry.register(&#x22;text&#x22;, asset: TextAsset.self)      player.assetRegistry.register(&#x22;action&#x22;, asset: ActionAsset.self)    }}"><div></div></button></div></figure></div><h3 id="jsbaseplugin">JSBasePlugin</h3><p>Building native features on top of shared functionality is one of the primary benefits of using player. As such we expose convenience utilities to enable loading JavaScript Player Plugins as the base for your <code dir="auto">NativePlugin</code>.</p><h4 id="basic-setup">Basic Setup</h4><p>This example will load the <code dir="auto">SharedJSPlugin</code> in the JavaScript layer when included as a plugin to <code dir="auto">SwiftUIPlayer</code>.</p><div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="swift"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">import</span><span style="--0:#D6DEEB;--1:#403F53"> PlayerUI</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">class</span><span style="--0:#D6DEEB;--1:#403F53"> SharedJSPlugin: </span><span style="--0:#C5E478;--1:#3C63B3">JSBasePlugin </span><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8D46B4">convenience</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">init</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#809191;--1:#5E6578">// pluginName must match the exported class name in the JavaScript plugin</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#7FDBCA;--1:#097174">self</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C792EA;--1:#8D46B4">init</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--1:#3C63B3"><span style="--0:#C5E478">fileName</span><span style="--0:#82AAFF">: 'shared</span></span><span style="--0:#7FDBCA;--1:#097174">-</span><span style="--0:#82AAFF;--1:#3C63B3">js</span><span style="--0:#7FDBCA;--1:#097174">-</span><span style="--0:#82AAFF;--1:#3C63B3">plugin</span><span style="--0:#7FDBCA;--1:#097174">-</span><span style="--1:#3C63B3"><span style="--0:#82AAFF">bundle', </span><span style="--0:#C5E478">pluginName</span><span style="--0:#82AAFF">: 'SharedJSPlugin'</span></span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#809191;--1:#5E6578">// Construct the URL to load the JS bundle</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8D46B4">override</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">open</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">func</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">getUrlForFile</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#82AAFF;--1:#3C63B3">fileName</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#C5E478;--1:#3C63B3">String</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#097174">-></span><span style="--0:#D6DEEB;--1:#403F53"> URL</span><span style="--0:#7FDBCA;--1:#097174">?</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">ResourceUtilities.</span><span style="--0:#C5E478;--1:#3C63B3">urlForFile</span><span style="--0:#D6DEEB;--1:#403F53">(</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#3C63B3">        </span></span><span style="--0:#C5E478;--1:#3C63B3">fileName</span><span style="--0:#82AAFF;--1:#3C63B3">: fileName,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#3C63B3">        </span></span><span style="--0:#C5E478;--1:#3C63B3">ext</span><span style="--0:#82AAFF;--1:#3C63B3">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">js</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#82AAFF;--1:#3C63B3">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#3C63B3">        </span></span><span style="--0:#C5E478;--1:#3C63B3">bundle</span><span style="--0:#82AAFF;--1:#3C63B3">: </span><span style="--0:#C5E478;--1:#3C63B3">Bundle</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--1:#3C63B3"><span style="--0:#C5E478">for</span><span style="--0:#82AAFF">: YourPlugin.</span></span><span style="--0:#C792EA;--1:#8D46B4">self</span><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--0:#82AAFF;--1:#3C63B3">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--1:#3C63B3">        </span></span><span style="--0:#C5E478;--1:#3C63B3">pathComponent</span><span style="--0:#82AAFF;--1:#3C63B3">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">YOUR_POD.bundle</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="import PlayerUIclass SharedJSPlugin: JSBasePlugin {    convenience init() {      // pluginName must match the exported class name in the JavaScript plugin      self.init(fileName: &#x27;shared-js-plugin-bundle&#x27;, pluginName: &#x27;SharedJSPlugin&#x27;)    }    // Construct the URL to load the JS bundle    override open func getUrlForFile(fileName: String) -> URL? {      ResourceUtilities.urlForFile(        fileName: fileName,        ext: &#x22;js&#x22;,        bundle: Bundle(for: YourPlugin.self),        pathComponent: &#x22;YOUR_POD.bundle&#x22;      )    }}"><div></div></button></div></figure></div><h4 id="arguments-for-constructing-the-javascript-plugins">Arguments for constructing the JavaScript plugins</h4><p>To simplify the ease of use, the <code dir="auto">JSContext</code> for <code dir="auto">JSBasePlugin</code> implementations is provided when the underlying resources for the core <code dir="auto">player</code> are being setup. This means that we need to provide the arguments for the JavaScript constructor late. To do this, override the <code dir="auto">getArguments</code> function:</p><div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="swift"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">import</span><span style="--0:#D6DEEB;--1:#403F53"> PlayerUI</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8D46B4">class</span><span style="--0:#D6DEEB;--1:#403F53"> SharedJSPlugin: </span><span style="--0:#C5E478;--1:#3C63B3">JSBasePlugin </span><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8D46B4">var</span><span style="--0:#D6DEEB;--1:#403F53"> option: Boolean</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8D46B4">convenience</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">init</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#82AAFF;--1:#3C63B3">option</span><span style="--0:#D6DEEB;--1:#403F53">: Boolean</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#809191;--1:#5E6578">// pluginName must match the exported class name in the JavaScript plugin</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#7FDBCA;--1:#097174">self</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C792EA;--1:#8D46B4">init</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--1:#3C63B3"><span style="--0:#C5E478">fileName</span><span style="--0:#82AAFF">: 'shared</span></span><span style="--0:#7FDBCA;--1:#097174">-</span><span style="--0:#82AAFF;--1:#3C63B3">js</span><span style="--0:#7FDBCA;--1:#097174">-</span><span style="--0:#82AAFF;--1:#3C63B3">plugin</span><span style="--0:#7FDBCA;--1:#097174">-</span><span style="--1:#3C63B3"><span style="--0:#82AAFF">bundle', </span><span style="--0:#C5E478">pluginName</span><span style="--0:#82AAFF">: 'SharedJSPlugin'</span></span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#7FDBCA;--1:#097174">self</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#C5E478;--1:#3C63B3">option</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#097174">=</span><span style="--0:#D6DEEB;--1:#403F53"> option</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8D46B4">override</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">open</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8D46B4">func</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">getArguments</span><span style="--0:#D9F5DD;--1:#111111">()</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#097174">-></span><span style="--0:#D6DEEB;--1:#403F53"> [</span><span style="--0:#C5E478;--1:#3C63B3">Any</span><span style="--0:#D6DEEB;--1:#403F53">] {</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#809191;--1:#5E6578">// plugin just takes a boolean arguments</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C792EA;--1:#8D46B4">return</span><span style="--0:#D6DEEB;--1:#403F53"> [option]</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#809191;--1:#5E6578">// More common in JavaScript, constructor takes an object</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C792EA;--1:#8D46B4">return</span><span style="--0:#D6DEEB;--1:#403F53"> [[</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">enable</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C792EA;--1:#8D46B4">:</span><span style="--0:#D6DEEB;--1:#403F53"> option]]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="import PlayerUIclass SharedJSPlugin: JSBasePlugin {    var option: Boolean    convenience init(option: Boolean) {      // pluginName must match the exported class name in the JavaScript plugin      self.init(fileName: &#x27;shared-js-plugin-bundle&#x27;, pluginName: &#x27;SharedJSPlugin&#x27;)      self.option = option    }    override open func getArguments() -> [Any] {        // plugin just takes a boolean arguments        return [option]        // More common in JavaScript, constructor takes an object        return [[&#x22;enable&#x22;: option]]    }}"><div></div></button></div></figure></div><p><strong>Note</strong>: As <code dir="auto">JavaScriptCore</code> cannot resolve dependencies at runtime, using a module bundler such as <a href="https://github.com/egoist/tsup">tsup</a> is required.</p><p><strong>Note</strong>: <code dir="auto">JSBasePlugin</code> implementations do not necessarily need to be a <code dir="auto">PlayerPlugin</code>, for example, the <a href="https://github.com/player-ui/player/blob/main/plugins/beacon/ios/Sources/BaseBeaconPlugin.swift#L59">BeaconPlugin</a> can take plugins in it’s constructor, that are not <code dir="auto">PlayerPlugin</code>.</p></div> </section> <starlight-tabs-restore class="astro-rgxni7qh"></starlight-tabs-restore> </starlight-tabs>   </div> <footer class="sl-flex astro-db44rf7m"> <div class="meta sl-flex astro-db44rf7m"> <a href="https://github.com/player-ui/player/edit/main/docs/site/src/content/docs/guides/writing-plugins.mdx" class="sl-flex astro-2wlcfyv6"><svg aria-hidden="true" class="astro-2wlcfyv6 astro-r5wkcvu6" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.2em;"><path d="M22 7.24a1 1 0 0 0-.29-.71l-4.24-4.24a1 1 0 0 0-1.1-.22 1 1 0 0 0-.32.22l-2.83 2.83L2.29 16.05a1 1 0 0 0-.29.71V21a1 1 0 0 0 1 1h4.24a1 1 0 0 0 .76-.29l10.87-10.93L21.71 8c.1-.1.17-.2.22-.33a1 1 0 0 0 0-.24v-.14l.07-.05ZM6.83 20H4v-2.83l9.93-9.93 2.83 2.83L6.83 20ZM18.17 8.66l-2.83-2.83 1.42-1.41 2.82 2.82-1.41 1.42Z"/></svg> Edit page</a>  </div> <div class="pagination-links astro-bncaqs2t" dir="ltr"> <a href="/next/guides/plugin-implementation/" rel="prev" class="astro-bncaqs2t"> <svg aria-hidden="true" class="astro-bncaqs2t astro-r5wkcvu6" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17 11H9.41l3.3-3.29a1.004 1.004 0 1 0-1.42-1.42l-5 5a1 1 0 0 0-.21.33 1 1 0 0 0 0 .76 1 1 0 0 0 .21.33l5 5a1.002 1.002 0 0 0 1.639-.325 1 1 0 0 0-.219-1.095L9.41 13H17a1 1 0 0 0 0-2Z"/></svg>  <span class="astro-bncaqs2t"> Previous <br class="astro-bncaqs2t"> <span class="link-title astro-bncaqs2t">Plugin Implementation</span> </span> </a> <a href="/next/content/" rel="next" class="astro-bncaqs2t"> <svg aria-hidden="true" class="astro-bncaqs2t astro-r5wkcvu6" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17.92 11.62a1.001 1.001 0 0 0-.21-.33l-5-5a1.003 1.003 0 1 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1.002 1.002 0 0 0 .325 1.639 1 1 0 0 0 1.095-.219l5-5a1 1 0 0 0 .21-.33 1 1 0 0 0 0-.76Z"/></svg>  <span class="astro-bncaqs2t"> Next <br class="astro-bncaqs2t"> <span class="link-title astro-bncaqs2t">Content</span> </span> </a> </div>   </footer>  </div> </div>   </main> </div> </div>  </div> </div>  </body></html>