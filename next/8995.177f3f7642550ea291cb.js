"use strict";(self.webpackChunk_player_ui_docs=self.webpackChunk_player_ui_docs||[]).push([[8995],{83190:(e,n,t)=>{t.d(n,{xA:()=>s,yg:()=>u});var a=t(52112);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=a.createContext({}),c=function(e){var n=a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},s=function(e){var n=c(e.components);return a.createElement(p.Provider,{value:n},e.children)},d="mdxType",g={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),d=c(t),m=r,u=d["".concat(p,".").concat(m)]||d[m]||g[m]||l;return t?a.createElement(u,i(i({ref:n},s),{},{components:t})):a.createElement(u,i({ref:n},s))}));function u(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var l=t.length,i=new Array(l);i[0]=m;var o={};for(var p in n)hasOwnProperty.call(n,p)&&(o[p]=n[p]);o.originalType=e,o[d]="string"==typeof e?e:r,i[1]=o;for(var c=2;c<l;c++)i[c]=t[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},98995:(e,n,t)=>{t.r(n),t.d(n,{default:()=>s});t(52112);var a=t(83190),r=t(4478);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},l.apply(this,arguments)}const i=(o="PlatformTabs",function(e){return console.warn("Component "+o+" was not imported, exported, or provided by MDXProvider as global scope"),(0,a.yg)("div",e)});var o;const p={},c=(0,r.A)({title:"Data Change Listener",platform:"react,core",tableOfContents:[{text:"Data Change Listener Plugin",id:"data-change-listener-plugin",level:1},{text:"Installation",id:"installation",level:2},{text:"Usage",id:"usage",level:2},{text:"Wildcard Placeholders",id:"wildcard-placeholders",level:2}]});function s(e){let{components:n,...t}=e;return(0,a.yg)(c,l({},p,t,{components:n,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"data-change-listener-plugin"},(0,a.yg)("a",{parentName:"h1",href:"#data-change-listener-plugin"},"Data Change Listener Plugin")),(0,a.yg)("p",null,"This plugin enables users to subscribe to data-change events within a view, and run expressions when the target value changes. Expressions are added to a listeners property of the view, with events prefixed by ",(0,a.yg)("inlineCode",{parentName:"p"},"dataChange")," and the target binding:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "example-view",\n  "type": "info",\n  "listeners": {\n    "dataChange.foo.bar": "helloWorld()",\n    "dataChange.foo.baz": ["helloWorld()", "doSomethingElseToo()"]\n  }\n}\n')),(0,a.yg)("h2",{id:"installation"},(0,a.yg)("a",{parentName:"h2",href:"#installation"},"Installation")),(0,a.yg)(i,{mdxType:"PlatformTabs"},(0,a.yg)("core",null,(0,a.yg)("p",null,"Add it to Player:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-js"},"import { Player } from '@player-ui/player';\nimport { DataChangePlugin } from '@player-ui/data-change-plugin';\n\nconst player = new Player({\n  plugins: [new DataChangePlugin()]\n});\n")))),(0,a.yg)("h2",{id:"usage"},(0,a.yg)("a",{parentName:"h2",href:"#usage"},"Usage")),(0,a.yg)("p",null,"The format of ",(0,a.yg)("inlineCode",{parentName:"p"},"dataChange.<binding>")," will execute the ",(0,a.yg)("em",{parentName:"p"},"value")," (any valid expression or collection of expressions), anytime a value within the target binding’s tree is updated (",(0,a.yg)("inlineCode",{parentName:"p"},"foo.bar")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"foo.baz")," in the example above)."),(0,a.yg)("p",null,"Registrations can be made for any partial binding path, and will be evaluated anytime that path, or any child path, is mutated. The above example registration of ",(0,a.yg)("inlineCode",{parentName:"p"},"dataChange.foo.bar")," will be triggered by a change to ",(0,a.yg)("inlineCode",{parentName:"p"},"foo.bar"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"foo.bar.baz"),", or any other child path. (it will not be triggered by a change to ",(0,a.yg)("inlineCode",{parentName:"p"},"foo.baz"),")."),(0,a.yg)("p",null,"The subscriptions are tied to the lifecycle of the ",(0,a.yg)("em",{parentName:"p"},"view")," they’re defined in. They will ",(0,a.yg)("em",{parentName:"p"},"not")," be called upon initial render of the view, and will expire when the view is no longer the active state (when transitioning to a new state in the flow)."),(0,a.yg)("h2",{id:"wildcard-placeholders"},(0,a.yg)("a",{parentName:"h2",href:"#wildcard-placeholders"},"Wildcard Placeholders")),(0,a.yg)("p",null,"To subscribe to a binding including a dynamic segment (array index, etc). Use a placeholder value of ",(0,a.yg)("inlineCode",{parentName:"p"},"_")," in the binding."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "listeners": {\n    "dataChange.foo._.bar": "helloWorld(_index_)"\n  }\n}\n')),(0,a.yg)("p",null,"Similar to ",(0,a.yg)("em",{parentName:"p"},"template")," processing, any ",(0,a.yg)("inlineCode",{parentName:"p"},"_index_")," reference in the expression will be replaced by the dynamic value. In the example above, a change from ",(0,a.yg)("inlineCode",{parentName:"p"},"foo.3.bar")," will result in the ",(0,a.yg)("inlineCode",{parentName:"p"},"helloWorld()")," expression being evaluated."),(0,a.yg)("p",null,"Sub-paths that don’t match the changed binding will not trigger the expression. Using the same example, a change from ",(0,a.yg)("inlineCode",{parentName:"p"},"foo.4.baz")," will ",(0,a.yg)("em",{parentName:"p"},"not")," trigger the expression since ",(0,a.yg)("inlineCode",{parentName:"p"},"bar")," does not match with ",(0,a.yg)("inlineCode",{parentName:"p"},"baz"),"."),(0,a.yg)("hr",null),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"https://github.dev/player-ui/player/blob/main/docs/site/pages/plugins/data-change-listener.mdx"},"Help to improve this page")))}s.isMDXComponent=!0},4478:(e,n,t)=>{t.d(n,{A:()=>E});var a=t(52112),r=t(95055),l=t(69724),i=t(83190),o=t(31021),p=t(4323),c=t(377),s=t(11716),d=t(34787),g=t(38484),m=t(52947),u=t(39325),y=t(13516),h="chakra-skip-nav";function f(e){return{userSelect:"none",border:"0",height:"1px",width:"1px",margin:"-1px",padding:"0",outline:"0",overflow:"hidden",position:"absolute",clip:"rect(0 0 0 0)",...e,_focus:{clip:"auto",width:"auto",height:"auto",...e._focus}}}var b=(0,d.R)((function(e,n){const t=(0,g.Vl)("SkipLink",e),{id:a=h,...r}=(0,m.MN)(e);return(0,y.jsx)(u.B.a,{...r,ref:n,href:`#${a}`,__css:f(t)})}));b.displayName="SkipNavLink";var v=(0,d.R)((function(e,n){const{id:t=h,...a}=e;return(0,y.jsx)(u.B.div,{ref:n,id:t,tabIndex:-1,style:{outline:0},...a})}));v.displayName="SkipNavContent";var x=t(11049),w=t(51856);const C=e=>a.createElement(p.az,{display:{base:"none",xl:"block"}},"Table Of Contents",a.createElement(c._J,{spacing:1,ml:"0",mt:"4",styleType:"none"},e.tableOfContents?.map((e=>a.createElement("li",{key:e.text},a.createElement("a",{href:`#${e.id}`},e.text)))))),N=e=>{const{bannerExpanded:n}=a.useContext(x.BR),t="72px",l=`calc(100vh - 88px - ${n?t:"0px"})`,i=`calc(100vh - 88px - 105px - ${n?t:"0px"})`;return a.createElement(p.az,{minH:"100vh"},a.createElement(b,null,"Skip to Main Content"),a.createElement(r.s,{flexDir:"column",padding:"2"},a.createElement(w.IS,null),a.createElement(s.c,null),a.createElement(r.s,null,a.createElement(p.az,{as:"main",w:"100%",mx:"auto"},a.createElement(p.az,{display:{md:"flex"}},a.createElement(p.az,{display:{base:"none",md:"block"},overflow:"auto",maxH:l,pr:"8",ml:"4"},a.createElement(w.E1,null)),a.createElement(p.az,{flex:"1",minW:"0",overflow:"auto",maxH:l},a.createElement(p.az,{minH:i},a.createElement(v,null),e.children),a.createElement(p.az,{pt:"20"},a.createElement(w.wi,null))),e.tableOfContents&&a.createElement(C,{tableOfContents:e.tableOfContents}))))))};function E(e){return e=>a.createElement(N,null,a.createElement(r.s,{alignItems:"center"},a.createElement(l.m,{maxW:"container.lg"},a.createElement(i.xA,{components:o.Ul},e.children))))}}}]);
//# sourceMappingURL=8995.177f3f7642550ea291cb.js.map